"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[1040],{5680:(e,a,n)=>{n.d(a,{xA:()=>d,yg:()=>g});var t=n(6540);function o(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function r(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){o(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=t.createContext({}),c=function(e){var a=t.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):r(r({},a),e)),n},d=function(e){var a=c(e.components);return t.createElement(l.Provider,{value:a},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},u=t.forwardRef((function(e,a){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(n),u=o,g=p["".concat(l,".").concat(u)]||p[u]||m[u]||i;return n?t.createElement(g,r(r({ref:a},d),{},{components:n})):t.createElement(g,r({ref:a},d))}));function g(e,a){var n=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=u;var s={};for(var l in a)hasOwnProperty.call(a,l)&&(s[l]=a[l]);s.originalType=e,s[p]="string"==typeof e?e:o,r[1]=s;for(var c=2;c<i;c++)r[c]=n[c];return t.createElement.apply(null,r)}return t.createElement.apply(null,n)}u.displayName="MDXCreateElement"},940:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var t=n(8168),o=(n(6540),n(5680));const i={sidebar_position:8},r="AJAX Y FETCH",s={unversionedId:"Javascript/ajax",id:"Javascript/ajax",title:"AJAX Y FETCH",description:"JS - FETCH",source:"@site/docs/Javascript/ajax.md",sourceDirName:"Javascript",slug:"/Javascript/ajax",permalink:"/documentacion/docs/Javascript/ajax",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Javascript/ajax.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"Javascript",previous:{title:"Promesas, Async, Await , API",permalink:"/documentacion/docs/Javascript/promesas"},next:{title:"JS POO",permalink:"/documentacion/docs/Javascript/poo"}},l={},c=[{value:"JS - FETCH",id:"js---fetch",level:2},{value:"Ajax",id:"ajax",level:2},{value:"Elementos clave de AJAX:",id:"elementos-clave-de-ajax",level:4},{value:"\xbfC\xf3mo funciona?",id:"c\xf3mo-funciona",level:4},{value:"Metodos nativos para Ajax",id:"metodos-nativos-para-ajax",level:2},{value:"Viejo",id:"viejo",level:3},{value:"Nuevo",id:"nuevo",level:3},{value:"Fetch API",id:"fetch-api",level:2},{value:"Conceptos  al realizar PETICIONES HTTP",id:"conceptos--al-realizar-peticiones-http",level:2},{value:"HTTP",id:"http",level:3},{value:"Ruta (PATH)",id:"ruta-path",level:3},{value:"M\xe9todos Http",id:"m\xe9todos-http",level:3},{value:"Cabeceras (headers)",id:"cabeceras-headers",level:3},{value:"C\xf3digos de respuestas (Response Codes)",id:"c\xf3digos-de-respuestas-response-codes",level:3},{value:"JSON",id:"json",level:3},{value:"Estructura del JSON",id:"estructura-del-json",level:2},{value:"Format para chrome",id:"format-para-chrome",level:3},{value:"Volviendo a Fetch",id:"volviendo-a-fetch",level:2},{value:"Parametros de fetch",id:"parametros-de-fetch",level:2},{value:"1- resource",id:"1--resource",level:3},{value:"2- init (opcionales)",id:"2--init-opcionales",level:3},{value:"setAttribute()",id:"setattribute",level:2},{value:"Practica",id:"practica",level:2}],d={toc:c},p="wrapper";function m(e){let{components:a,...n}=e;return(0,o.yg)(p,(0,t.A)({},d,n,{components:a,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"ajax-y-fetch"},"AJAX Y FETCH"),(0,o.yg)("h2",{id:"js---fetch"},"JS - FETCH"),(0,o.yg)("p",null,"Vive en el navegador."),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"fetch : La API Fetch te permite comunicarte con un servidor para recuperar/eliminar/eliminar/crear recursos."),(0,o.yg)("li",{parentName:"ul"},"Fetch es una interfaz (se comunica con la API Fetch) para hacer solicitudes AJAX en JavaScript. Es usado generalmente para hacer una solicitud a un API."),(0,o.yg)("li",{parentName:"ul"},"El m\xe9todo fetch() toma un argumento obligatorio, que es la ruta de acceso( conocido como endpoint o URL ) que se utiliza para realizar una solicitud."),(0,o.yg)("li",{parentName:"ul"},"Una vez que Response es recuperada, hay varios m\xe9todos disponibles para \u201centender o manipular\u201d el formato de la respuesta y as\xed poder tener acceso a este (",(0,o.yg)("a",{parentName:"li",href:"https://flevatti.github.io/documentacion/docs/Node#reqbody"},"Es similar a lo que hace express para acceder al body"),").")),(0,o.yg)("h2",{id:"ajax"},"Ajax"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Significa  JavaScript As\xedncrono + XML (XML es viejito ahora utilizamos JSON)"),(0,o.yg)("li",{parentName:"ul"},"AJAX (JavaScript Asynchronous + XML), es un enfoque, manera o forma para construir aplicaciones web din\xe1micas. No es una tecnolog\xeda espec\xedfica, sino una combinaci\xf3n de varias tecnolog\xedas como HTML, CSS, JavaScript, el DOM y JSON. Su prop\xf3sito principal es permitir que las aplicaciones web se actualicen parcialmente sin recargar toda la p\xe1gina, mejorando la velocidad y la experiencia del usuario. Aunque tradicionalmente usaba el objeto XMLHttpRequest, hoy en d\xeda es m\xe1s com\xfan usar fetch() para manejar las solicitudes as\xedncronas."),(0,o.yg)("li",{parentName:"ul"},"AJAX (JavaScript Asynchronous + XML) es una t\xe9cnica que permite a las aplicaciones web interactuar con el servidor en segundo plano sin necesidad de recargar toda la p\xe1gina. Aunque originalmente utilizaba XML para intercambiar datos, ahora es com\xfan usar JSON por ser m\xe1s ligero y f\xe1cil de manejar."),(0,o.yg)("li",{parentName:"ul"},"Esto permite una experiencia m\xe1s fluida y r\xe1pida, ya que solo se actualizan las partes necesarias de la p\xe1gina en lugar de cargarla desde cero. Por ejemplo, las redes sociales como Twitter actualizan nuevas publicaciones en tiempo real sin refrescar toda la pantalla.")),(0,o.yg)("h4",{id:"elementos-clave-de-ajax"},"Elementos clave de AJAX:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"HTML y CSS: Estructuran y estilizan la p\xe1gina web."),(0,o.yg)("li",{parentName:"ol"},"JavaScript: Controla la interacci\xf3n as\xedncrona."),(0,o.yg)("li",{parentName:"ol"},"DOM (Document Object Model): Permite modificar el contenido de la p\xe1gina din\xe1micamente."),(0,o.yg)("li",{parentName:"ol"},"Objeto XMLHttpRequest o Fetch API: Manejan las solicitudes al servidor. Aunque XMLHttpRequest fue el est\xe1ndar inicial, hoy en d\xeda la API fetch() es m\xe1s moderna y preferida."),(0,o.yg)("li",{parentName:"ol"},"JSON: Formato com\xfan para intercambiar datos entre cliente y servidor.")),(0,o.yg)("h4",{id:"c\xf3mo-funciona"},"\xbfC\xf3mo funciona?"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Un usuario interact\xfaa con la p\xe1gina (por ejemplo, pulsando un bot\xf3n)."),(0,o.yg)("li",{parentName:"ol"},"JavaScript env\xeda una solicitud al servidor utilizando fetch() o XMLHttpRequest."),(0,o.yg)("li",{parentName:"ol"},"El servidor responde con datos en formato JSON (o XML)."),(0,o.yg)("li",{parentName:"ol"},"JavaScript procesa la respuesta y actualiza el contenido de la p\xe1gina a trav\xe9s del DOM, sin recargarla completamente.")),(0,o.yg)("h2",{id:"metodos-nativos-para-ajax"},"Metodos nativos para Ajax"),(0,o.yg)("h3",{id:"viejo"},"Viejo"),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://developer.mozilla.org/es/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest"},"XMLHttpRequest")),(0,o.yg)("h3",{id:"nuevo"},"Nuevo"),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://developer.mozilla.org/es/docs/Web/API/Fetch_API"},"Fetch API")),(0,o.yg)("h2",{id:"fetch-api"},"Fetch API"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Proporciona una interfaz JavaScript para hacer peticiones HTTP y obtener respuestas del servidor."),(0,o.yg)("li",{parentName:"ul"},"Tambi\xe9n provee un m\xe9todo para obtener recursos de forma as\xedncrona por la red."),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/fetch"},"Fetch par\xe1metros"),": Si solo se usa un parametro, iniciamos el proceso de obtener un recurso de la red mediante una url, devolviendo una promesa con  la respuesta. Con el segundo parametro podemos editar/eliminar/crear un recurso."),(0,o.yg)("li",{parentName:"ul"},"Este tipo de funcionalidad se consegu\xeda previamente haciendo uso de XMLHttpRequest.")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"fetch('http://example.com/movies.json')\n  .then(response => response.json())\n  .then(data => console.log(data));\n\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"M\xe9todo ",(0,o.yg)("inlineCode",{parentName:"li"},"json()"),":",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Es un m\xe9todo de Response."),(0,o.yg)("li",{parentName:"ul"},"Sirve para \u201centender\u201d el formato JSON. Te devuelve una promesa con la informaci\xf3n que contiene  el body (en formato JSON) de la respuesta ."))),(0,o.yg)("li",{parentName:"ul"},"M\xe9todo ",(0,o.yg)("inlineCode",{parentName:"li"},"fetch(url)"),":",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Por defecto se hace una petici\xf3n GET  a la url indicada, este tipo de peticiones es para obtener un recurso . "),(0,o.yg)("li",{parentName:"ul"},"Si desea crear/eliminar/modificar un recurso deber\xe1s utilizar un segundo par\xe1metro en el m\xe9todo fetch() el cual es un objeto para configurar las cabeceras, m\xe9todos, verbos, etc."),(0,o.yg)("li",{parentName:"ul"},"Cuando accedemos a una URL en el navegador, hacemos una petici\xf3n GET a esta.  Todo lo que puedas ver en el navegador web es una petici\xf3n Get.")))))),(0,o.yg)("h2",{id:"conceptos--al-realizar-peticiones-http"},"Conceptos  al realizar PETICIONES HTTP"),(0,o.yg)("h3",{id:"http"},"HTTP"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Hypertext Transfer Protocol (HTTP) (o Protocolo de Transferencia de Hipertexto en espa\xf1ol) es el nombre de un protocolo el cual nos permite realizar una petici\xf3n."),(0,o.yg)("li",{parentName:"ul"},"Esta petici\xf3n puede ser para obtener un recurso , crear un recurso , etc.")),(0,o.yg)("h3",{id:"ruta-path"},"Ruta (PATH)"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Es una direcci\xf3n(url) para realizarle una petici\xf3n al servidor y  obtener/eliminar/crear/editar  un recurso ."),(0,o.yg)("li",{parentName:"ul"},"En pocas palabra con el path hacemos una petici\xf3n y recibimos una respuesta del servidor."),(0,o.yg)("li",{parentName:"ul"},"Es conocida como endpoint , url , path y Uri.")),(0,o.yg)("h3",{id:"m\xe9todos-http"},"M\xe9todos Http"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"HTTP define un conjunto de m\xe9todos de petici\xf3n para indicar la acci\xf3n que se desea realizar. (GET, POST, PUT, PATCH, DELETE) . "),(0,o.yg)("li",{parentName:"ul"},"Todos los m\xe9todos hacen acciones diferentes pero nosotros lo configuramos."),(0,o.yg)("li",{parentName:"ul"},"GET = Obtener/Enviar datos por la url. Viene por defecto con fetch . ")),(0,o.yg)("h3",{id:"cabeceras-headers"},"Cabeceras (headers)"),(0,o.yg)("p",null,"Cabeceras HTTP opcionales,  pueden aportar informaci\xf3n adicional a los servidores."),(0,o.yg)("h3",{id:"c\xf3digos-de-respuestas-response-codes"},"C\xf3digos de respuestas (Response Codes)"),(0,o.yg)("p",null,"Un c\xf3digo de estado, indicando si la petici\xf3n ha sido exitosa, o no, y debido a que. "),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://developer.mozilla.org/es/docs/Web/HTTP/Status"},"Codigos")),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://http.cat/"},"Codigo gato")),(0,o.yg)("p",null,"Es la Respuesta que nos trae el servidor."),(0,o.yg)("h3",{id:"json"},"JSON"),(0,o.yg)("p",null,"JSON: JavaScript Object Notation, es un formato basado en texto est\xe1ndar para representar datos estructurados en la sintaxis de objetos de JavaScript. Es com\xfanmente utilizado para transmitir datos en aplicaciones web."),(0,o.yg)("p",null,"Es el formato estandar para recibir/enviar informaci\xf3n."),(0,o.yg)("h2",{id:"estructura-del-json"},"Estructura del JSON"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Como se describi\xf3 previamente, un JSON es una cadena(texto/string) cuyo formato recuerda al de los objetos literales JavaScript."),(0,o.yg)("li",{parentName:"ul"},"Es posible incluir los mismos tipos de datos b\xe1sicos dentro de un JSON que en un objeto est\xe1ndar de JavaScript - cadenas, n\xfameros, arreglos, booleanos, y otros  objeto.")),(0,o.yg)("p",null,"Esto permite construir una jerarquia de datos - ",(0,o.yg)("a",{parentName:"p",href:"https://pokeapi.co/api/v2/pokemon/ditto"},"como esta")),(0,o.yg)("h3",{id:"format-para-chrome"},(0,o.yg)("a",{parentName:"h3",href:"https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa"},"Format para chrome")),(0,o.yg)("h2",{id:"volviendo-a-fetch"},"Volviendo a Fetch"),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},"Podes usar la pesta\xf1a Network(Red) de la herramienta del navegador Chrome(Devtools) para ver las peticiones que se realizaron y sus respuestas."))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'const url = "https://pokeapi.co/api/v2/pokemon/";\n\nfetch(url)\n    .then((res) => res.json())\n    .then((data) => console.log(data));\n\n')),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Aqu\xed estamos recuperando un archivo JSON a trav\xe9s de red e imprimiendo en la consola."),(0,o.yg)("li",{parentName:"ul"},"El uso de fetch() m\xe1s simple toma un argumento (la ruta del recurso que quieres obtener) y devuelve un objeto Promise conteniendo la respuesta, un objeto Response."),(0,o.yg)("li",{parentName:"ul"},"Esto es, por supuesto,  una respuesta HTTP sin el archivo JSON."),(0,o.yg)("li",{parentName:"ul"},"Para extraer el contenido  en formato JSON desde la respuesta, usamos el m\xe9todo json(), el cual est\xe1 implementado por los objetos Request y Response."),(0,o.yg)("li",{parentName:"ul"},"El m\xe9todo json() devuelve otra promesa.")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"GET ")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},"Si la URL funciona en el navegador, es GET."))),(0,o.yg)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"API PUBLICAS")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},"LAS API GRATIS Y PUBLICAS (SIN API KEY) A VECES SE CAEN "))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'//fetch(path/uri)\nfetch("https://pokeapi.co/api/v2/pokemon/ditto")\n.then((respuesta) => {\n    // Vemos el status (codigo de respuesta ) , propiedad ok , cabeceras\n    console.log(respuesta);\n   return respuesta.json();\n}).then((data) => console.log(data.forms[0]));\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"La respuesta sin el formato JSON contiene propiedades como el ok (Si la solicitud se realizo) , el status , la cabecera, etc")))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'//fetch(path/uri)\nfetch("https://pokeapi.co/api/v2/pokemon/ditto")\n.then((respuesta) => {\n    // Vemos el status (codigo de respuesta ) , cabeceras\n    console.log(respuesta);\n   return respuesta.json();\n}).then((data) => console.log(data.forms[0].name));\n\n')),(0,o.yg)("h2",{id:"parametros-de-fetch"},"Parametros de fetch"),(0,o.yg)("h3",{id:"1--resource"},"1- resource"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Define la URL / Path / Endpoint que se va a utilizar para realizar una petici\xf3n."),(0,o.yg)("li",{parentName:"ul"},"Por ahora solo hicimos peticiones GET a la URL para obtener recursos.")),(0,o.yg)("h3",{id:"2--init-opcionales"},"2- init (opcionales)"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Es un objeto para configurar la petici\xf3n que se va a realizar."),(0,o.yg)("li",{parentName:"ul"},"Las propiedades del objeto son:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"body:  Es la informaci\xf3n que se env\xeda al servidor en una solicitud:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Contiene la informaci\xf3n necesaria para realizar una acci\xf3n espec\xedfica y devolver una respuesta satisfactoria."),(0,o.yg)("li",{parentName:"ul"},"Esto puede ser una Blob, BufferSource, FormData, URLSearchParams, USVString, o ReadableStreamobjeto. "),(0,o.yg)("li",{parentName:"ul"},"En una petici\xf3n GET, los datos necesarios para la solicitud viajan en la URL como query y no en el body."))),(0,o.yg)("li",{parentName:"ul"},"credentials: Controla si se env\xedan o no las cookies (juntos con otros datos de autenticaci\xf3n en la solicitud):",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Dependiendo del valor que le des, se enviar\xe1n cookies de la siguiente manera:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"same-origin: solo se env\xedan cookies si la solicitud es al mismo dominio."),(0,o.yg)("li",{parentName:"ul"},"include: siempre se env\xedan cookies, incluso para solicitudes a otros dominios."),(0,o.yg)("li",{parentName:"ul"},"omit: no se env\xedan cookies, sin importar el dominio."))))),(0,o.yg)("li",{parentName:"ul"},"mode: define c\xf3mo el navegador maneja el CORS (Cross-Origin Resource Sharing), que controla la comunicaci\xf3n entre dominios diferentes. Los valores posibles son:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"cors: Permite solicitudes entre diferentes dominios si el servidor lo permite."),(0,o.yg)("li",{parentName:"ul"},"no-cors: Impide el acceso a la respuesta de un servidor externo, pero la solicitud a\xfan se puede realizar."),(0,o.yg)("li",{parentName:"ul"},"same-origin: Solo permite solicitudes al mismo origen (dominio)."))),(0,o.yg)("li",{parentName:"ul"},"method: El m\xe9todo de la petici\xf3n, por ejemplo, GET, POST. Por defecto esta en GET."),(0,o.yg)("li",{parentName:"ul"},"headers: Cualquier encabezado que desee agregar a su solicitud.")))),(0,o.yg)("h2",{id:"setattribute"},"setAttribute()"),(0,o.yg)("p",null,"el  setAttribute()  es para modificar un atributo y su valor."),(0,o.yg)("p",null,"1 parametro: el atributo a modificar"),(0,o.yg)("p",null,"2 parametro: el nuevo valor del atributo."),(0,o.yg)("h2",{id:"practica"},"Practica"),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://rickandmortyapi.com/documentation/"},"Documentacion de la api")),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://rickandmortyapi.com/api/character"},"URL a utilizar")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},"Algunas API requieren un token de seguridad que suele ser de pago."))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},"No colocar el template donde se va a pintar."))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},"En el fetch siempre son dos await"))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},"En el template fijarse que elementos son \xfanicos (clases , id etiqueta) para seleccionarlo."))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},"Si hay bucle se utiliza un fragment."))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="es">\n    <head>\n        <meta charset="UTF-8" />\n        <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <title>API REST</title>\n        <link\n            crossorigin="anonymous"\n            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"\n            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"\n            rel="stylesheet"\n        />\n    </head>\n\n    <body>\n          <div class="container my-5">\n               \x3c!-- Spinner cargando --\x3e\n               <section class="d-flex align-items-center d-none" id="loading">\n                <strong>Cargando...</strong>\n                <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>\n               </section>\n\n               <section class="row" id="card-dinamicas">\n                   \n               </section>\n                \n\n               <template id="template-card">\n                <article class="col-12 col-md-6 col-lg-3 mb-3">\n                      <div class="card text-center shadow">\n                          <img src="https://rickandmortyapi.com/api/character/avatar/1.jpeg" alt="" class="card-img-top">\n                          <div class="card-body">\n                              <h5 class="card-title text-primary lead">Nombre personaje</h5>\n                              <p class="lead text-secondary">Human</p>\n                          </div>\n                      </div>\n\n                </article>\n             </template>\n\n          </div>\n        <script src="app.js"><\/script>\n    </body>\n</html>\n\n')),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'// Cuando carga el DOM\ndocument.addEventListener("DOMContentLoaded", () => {\n  fetchData();\n})\n\nconst fetchData =  async () => {\n    console.log("Obteniendo datos");\n    \n    try {\n        loadingData(true);\n        const res = await fetch("https://rickandmortyapi.com/api/character");\n        const data = await res.json();\n         pintarCard(data);\n    } catch (error) {\n\n    } finally {\n        loadingData(false);\n    }\n\n}\n\nconst loadingData = estado => {\n    const loading = document.getElementById(\'loading\');\n    if (estado) {\n        loading.classList.remove(\'d-none\');\n    } else {\n        loading.classList.add(\'d-none\');\n    }\n    \n    \n}\n\nconst pintarCard = data => {\n    const contenedorCards = document.getElementById(\'card-dinamicas\');\n    const templateCard = document.getElementById(\'template-card\').content;\n    const fragment = document.createDocumentFragment();\n    data.results.forEach(item => {\n        const clone = templateCard.cloneNode(true);\n        clone.querySelector("h5").textContent = item.name;\n        clone.querySelector("p").textContent = item.species;\n        clone.querySelector("img").setAttribute("src" , item.image);\n\n        fragment.appendChild(clone);\n\n    })\n\n    contenedorCards.appendChild(fragment);\n}\n\n')),(0,o.yg)("p",null,"Codigo con una paginacion incompleta:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"\n// Cuando carga el DOM\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  fetchData();\n})\n\nconst fetchData =  async (url = \"https://rickandmortyapi.com/api/character\") => {\n\n    \n    try {\n        loadingData(true);\n        const res = await fetch(url);\n        const data = await res.json();\n         pintarCard(data);\n    } catch (error) {\n\n    } finally {\n        loadingData(false);\n    }\n\n}\n\nconst loadingData = estado => {\n    const loading = document.getElementById('loading');\n    if (estado) {\n        loading.classList.remove('d-none');\n    } else {\n        loading.classList.add('d-none');\n    }\n    \n    \n}\n\nconst pintarCard = data => {\n\n    const contenedorCards = document.getElementById('card-dinamicas');\n    contenedorCards.textContent = \"\";\n    const templateCard = document.getElementById('template-card').content;\n    const fragment = document.createDocumentFragment();\n    data.results.forEach(item => {\n        const clone = templateCard.cloneNode(true);\n        clone.querySelector(\"h5\").textContent = item.name;\n        clone.querySelector(\"p\").textContent = item.species;\n        clone.querySelector(\"img\").setAttribute(\"src\" , item.image);\n\n        fragment.appendChild(clone);\n\n    })\n   \"\";\n    contenedorCards.appendChild(fragment);\n    pintarPaginacion(data);\n}\n\nconst pintarPaginacion = data => {\n    \n    const paginacion = document.getElementById('paginacion');\n    paginacion.textContent = \"\";\n    const templatePaginacion = document.getElementById('template-paginacion').content;\n    const clone = templatePaginacion.cloneNode(true);\n    // Si no existe (es null)\n    if (!data.info.prev) {\n        clone.querySelector('.btn-outline-secondary').disabled = true;\n    } else {\n        clone.querySelector('.btn-outline-secondary').disabled = false;\n    }\n \n    if (!data.info.next) {\n        clone.querySelector('.btn-outline-primary').disabled = true;\n    } else {\n        clone.querySelector('.btn-outline-primary').disabled = false;\n    }\n    \n    paginacion.appendChild(clone);\n    \n    // paginacion.addEventListener(\"click\" , e => {\n    //     console.log(\"click\");\n    //     if (e.target.matches('.btn-outline-primary')) {\n    //          if (data.info.next) {\n    //             fetchData(data.info.next);\n    //          }\n          \n    //     } \n    //     if (e.target.matches('.btn-outline-secondary')) {\n    //         if (data.info.prev) {\n    //             fetchData(data.info.prev);\n    //         }\n           \n    //     }\n    // })\n}\n\n")))}m.isMDXComponent=!0}}]);