"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[1254],{3905:(e,n,a)=>{a.d(n,{Zo:()=>d,kt:()=>p});var t=a(7294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function i(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=t.createContext({}),m=function(e){var n=t.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):i(i({},n),e)),a},d=function(e){var n=m(e.components);return t.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},c=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=m(a),p=r,g=c["".concat(l,".").concat(p)]||c[p]||u[p]||o;return a?t.createElement(g,i(i({ref:n},d),{},{components:a})):t.createElement(g,i({ref:n},d))}));function p(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=c;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var m=2;m<o;m++)i[m]=a[m];return t.createElement.apply(null,i)}return t.createElement.apply(null,a)}c.displayName="MDXCreateElement"},3966:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>m});var t=a(7462),r=(a(7294),a(3905));const o={sidebar_position:10},i="Proyecto",s={unversionedId:"React/proyecto",id:"React/proyecto",title:"Proyecto",description:"Vite",source:"@site/docs/React/proyecto.md",sourceDirName:"React",slug:"/React/proyecto",permalink:"/documentacion/docs/React/proyecto",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/React/proyecto.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"React",previous:{title:"Redux",permalink:"/documentacion/docs/React/redux"},next:{title:"Hooks y CSS",permalink:"/documentacion/docs/React/hookcss"}},l={},m=[{value:"Vite",id:"vite",level:2},{value:"Crear proyecto",id:"crear-proyecto",level:3},{value:"Estructura del archivo",id:"estructura-del-archivo",level:3},{value:"React Router v6",id:"react-router-v6",level:2},{value:"carpeta Routes",id:"carpeta-routes",level:3},{value:"Navbar",id:"navbar",level:2},{value:"NavLink",id:"navlink",level:3},{value:"Link",id:"link",level:3},{value:"Context",id:"context",level:2},{value:"Ruta Protegida",id:"ruta-protegida",level:2},{value:"hook useNavigate",id:"hook-usenavigate",level:2},{value:"FireBase 9",id:"firebase-9",level:2},{value:"En Firebase",id:"en-firebase",level:3},{value:"En el proyecto",id:"en-el-proyecto",level:3},{value:"En Firebase",id:"en-firebase-1",level:3},{value:"En el proyecto",id:"en-el-proyecto-1",level:3},{value:"Auth",id:"auth",level:2},{value:"createUserWithEmailAndPassword",id:"createuserwithemailandpassword",level:2},{value:"signInWithEmailAndPassword",id:"signinwithemailandpassword",level:2},{value:"signOut",id:"signout",level:2},{value:"onAuthStateChanged",id:"onauthstatechanged",level:2},{value:"Cambio",id:"cambio",level:3},{value:"Loading y Redirrecion",id:"loading-y-redirrecion",level:2},{value:"React hook form",id:"react-hook-form",level:2},{value:"Validaciones",id:"validaciones",level:3},{value:"Validaciones con mensajes personalizados:",id:"validaciones-con-mensajes-personalizados",level:3},{value:"Expresiones regulares",id:"expresiones-regulares",level:3},{value:"Validacion personalizada",id:"validacion-personalizada",level:3},{value:"Validacion espacio en blanco",id:"validacion-espacio-en-blanco",level:3},{value:"Validaciones firebase",id:"validaciones-firebase",level:3},{value:"Refactorizar",id:"refactorizar",level:2},{value:"A\xf1adimos errores de firebase.",id:"a\xf1adimos-errores-de-firebase",level:3},{value:"Switch",id:"switch",level:3},{value:"Componente error",id:"componente-error",level:3},{value:"Validaciones",id:"validaciones-1",level:3},{value:"useRef",id:"useref",level:2},{value:"forwardRef",id:"forwardref",level:2},{value:"forwardRef Proyecto",id:"forwardref-proyecto",level:2},{value:"Children",id:"children",level:2},{value:"Login",id:"login",level:2},{value:"Problemas",id:"problemas",level:2},{value:"Problema &quot;usuario ya registrado&quot;",id:"problema-usuario-ya-registrado",level:3},{value:"Solucion",id:"solucion",level:4},{value:"Optimizar register:",id:"optimizar-register",level:3},{value:"TailwindCSS &amp; flowbite",id:"tailwindcss--flowbite",level:2},{value:"Tailwind vs Bootstrap",id:"tailwind-vs-bootstrap",level:3},{value:"Tailwind",id:"tailwind",level:3},{value:"Instalacion de tailwind y flowbite",id:"instalacion-de-tailwind-y-flowbite",level:3},{value:"Empezamos con el dise\xf1o del proyecto",id:"empezamos-con-el-dise\xf1o-del-proyecto",level:3},{value:"titulo",id:"titulo",level:3},{value:"input",id:"input",level:3},{value:"Boton",id:"boton",level:3},{value:"Error de formulario",id:"error-de-formulario",level:3},{value:"Outlet",id:"outlet",level:2},{value:"Le aplicamos dise\xf1o",id:"le-aplicamos-dise\xf1o",level:3},{value:"Navbar.jsx",id:"navbarjsx",level:2},{value:"Ruta protegida #2",id:"ruta-protegida-2",level:2},{value:"Creamos la carpeta layouts en components",id:"creamos-la-carpeta-layouts-en-components",level:3},{value:"Ruta 404",id:"ruta-404",level:2},{value:"Button loading",id:"button-loading",level:2},{value:"Firestore BD",id:"firestore-bd",level:2},{value:"RealTime",id:"realtime",level:3},{value:"Firestore",id:"firestore",level:3},{value:"Sitio de Firebase",id:"sitio-de-firebase",level:3},{value:"En el proyecto",id:"en-el-proyecto-2",level:3},{value:"getDocs",id:"getdocs",level:2},{value:"Where",id:"where",level:2},{value:"Informacion del usuario activo",id:"informacion-del-usuario-activo",level:3},{value:"Para hacer el filtro din\xe1micamente",id:"para-hacer-el-filtro-din\xe1micamente",level:3},{value:"Add Doc",id:"add-doc",level:2},{value:"Loading (Parametro set de useState)",id:"loading-parametro-set-de-usestate",level:2},{value:"Delete doc",id:"delete-doc",level:2},{value:"Update Doc",id:"update-doc",level:2},{value:"PROBLEMAS BOTONES",id:"problemas-botones",level:2},{value:"interpolaci\xf3n colores tailwind",id:"interpolaci\xf3n-colores-tailwind",level:3},{value:"Separacion entre botones",id:"separacion-entre-botones",level:3},{value:"Hook Form Home",id:"hook-form-home",level:2},{value:"Card flowbite",id:"card-flowbite",level:2},{value:"handleClickCopy",id:"handleclickcopy",level:2},{value:"Redirect (params en la url) / getDoc",id:"redirect-params-en-la-url--getdoc",level:2},{value:"Regla de seguridad",id:"regla-de-seguridad",level:2},{value:"FireBase",id:"firebase",level:3},{value:"Implementamos nuestro match para la colecci\xf3n urls",id:"implementamos-nuestro-match-para-la-colecci\xf3n-urls",level:3},{value:"Separar los permisos",id:"separar-los-permisos",level:3},{value:"update , delete , create",id:"update--delete--create",level:3},{value:"Permiso get y list",id:"permiso-get-y-list",level:3},{value:"Deploy",id:"deploy",level:2},{value:"En firebase",id:"en-firebase-2",level:3},{value:"opciones",id:"opciones",level:4},{value:"\xa1Terminamos la configuraci\xf3n!",id:"terminamos-la-configuraci\xf3n",level:3},{value:"Archivo",id:"archivo",level:3},{value:"En cada cambio:",id:"en-cada-cambio",level:3}],d={toc:m};function u(e){let{components:n,...a}=e;return(0,r.kt)("wrapper",(0,t.Z)({},d,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"proyecto"},"Proyecto"),(0,r.kt)("h2",{id:"vite"},"Vite"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://vitejs.dev/"},"Sitio web")),(0,r.kt)("li",{parentName:"ul"}," Vite se define como una herramienta de frontend que te ayudar\xe1 a crear proyectos (sin atarte a ning\xfan framework concreto) y que su desarrollo y construcci\xf3n final sea lo m\xe1s sencilla posible."),(0,r.kt)("li",{parentName:"ul"},"Est\xe1 desarrollada por Evan You, el creador de Vue."),(0,r.kt)("li",{parentName:"ul"},"Actualmente, Vite soporta tanto proyectos vanilla (sin utilizar frameworks), como proyectos utilizando Vue, React, Preact o Lit-element (tanto en versi\xf3n Javascript, como Typescript)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://lenguajejs.com/automatizadores/vite/guia-tutorial-inicial-de-vite/"},"guia")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/vitejs/awesome-vite#templates"},"template")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://dev.to/t/vite"},"comunidad"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"# npm 6.x\nnpm create vite@latest my-vue-app\n\n# yarn\nyarn create vite my-vue-app --template vue\n\n# pnpm\npnpm create vite my-vue-app -- --template vue\n\n")),(0,r.kt)("h3",{id:"crear-proyecto"},"Crear proyecto"),(0,r.kt)("p",null,"Omiti el my-vue-app"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm create vite@latest \n")),(0,r.kt)("p",null," Complete lo campos"),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"}," Cuidado con el antivirus, que a veces te detecta alguna dependencia como \u201cpeligrosa\u201d"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"cd carpeta proyecto\nnpm i o npm install\nnpm run dev\n")),(0,r.kt)("h3",{id:"estructura-del-archivo"},"Estructura del archivo"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"main.jsx = index.js "),(0,r.kt)("li",{parentName:"ul"},"el index.html esta en la carpeta raiz y no en public")),(0,r.kt)("h2",{id:"react-router-v6"},"React Router v6"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://reactrouter.com/docs/en/v6/getting-started/installation"},"link")),(0,r.kt)("li",{parentName:"ul"},"Los router se pueden trabajar con otras herramientas , pero nosotros vamos a usar React-Router ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install react-router-dom@6\n")),(0,r.kt)("p",null,"Eliminamos el logo y el App.css"),(0,r.kt)("p",null,"App.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"\nfunction App() {\n\n  return (\n    <div >\n      <h1>APP</h1>\n    </div>\n  )\n}\n\nexport default App\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Renderizamos BrowserRouter alrededor de toda la aplicaci\xf3n , para que pueda usar el sistema de router"))),(0,r.kt)("p",null,"main.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport './index.css'\nimport { BrowserRouter } from \"react-router-dom\";\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    {/* Acceso al router */}\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>\n)\n\n")),(0,r.kt)("h3",{id:"carpeta-routes"},"carpeta Routes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Creamos la carpeta routes  en src  , que va a contener componentes que se van a mostrar en las rutas."),(0,r.kt)("li",{parentName:"ul"},"La carpeta tambien puede llamarse views")),(0,r.kt)("p",null,"src/routes/Home.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"\nconst Home = () => {\n  return (\n    <>\n    <h1>Home</h1>\n    </>\n  )\n}\n\nexport default Home\n\n")),(0,r.kt)("p",null,"src/routes/Login.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react'\n\nconst Login = () => {\n  return (\n    <><h1>Login</h1></>\n  )\n}\n\nexport default Login\n\n")),(0,r.kt)("p",null,"App.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { Route, Routes } from "react-router-dom"\nimport Home from "./routes/Home"\nimport Login from "./routes/Login"\n\nfunction App() {\n\n  return (\n    <>\n    <h1>App</h1>\n    {/* Adentro de Routes , solo pueden ir las rutas , no codigo JSX como el h1 */}\n    <Routes>\n      {/* Adentro de routes creamos las rutas \n      Cada <Route></Route> es una ruta */}\n      \n        {/* path=ruta element=componente a renderizar en el path */}\n        <Route path=\'/login\' element={<Login/>}></Route>\n        <Route path=\'/home\' element={<Home/>}></Route>\n    </Routes>\n    </>\n  )\n}\n\nexport default App\n\n')),(0,r.kt)("h2",{id:"navbar"},"Navbar"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es un componente por lo tanto va en la carpeta components de src")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Todo lo que es reutilizable va en components"),(0,r.kt)("li",{parentName:"ul"},"Las rutas no son reutilizable.")))),(0,r.kt)("p",null,"src/components/Navbar.jsx"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Los NavLink no refrescan la pagina"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { NavLink } from "react-router-dom"\n\nconst Navbar = () => {\n    return (\n        <>\n            <div>\n                {/* NavLink es como la etiqueta <a></a>\n                el props "to" es como el atributo "href" */}\n                <NavLink to="/">Inicio</NavLink>\n                <NavLink to="/login">Login</NavLink>\n            </div>\n        </>\n    )\n}\n\nexport default Navbar\n\n')),(0,r.kt)("h3",{id:"navlink"},"NavLink"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Al hacer click en el enlace, se le a\xf1adir\xe1 la clase active."),(0,r.kt)("li",{parentName:"ul"},"Cuando el link pertenece activo (est\xe1s viendo el contenido del enlace), contiene la clase active."),(0,r.kt)("li",{parentName:"ul"},"Sirve para mostrarle al usuario en que pagina(link) esta ")),(0,r.kt)("h3",{id:"link"},"Link"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"No destaca/resalta la pagina en la que esta el usuario , no utiliza ni a\xf1ade la clase active.")),(0,r.kt)("p",null,"App.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," return (\n    <>\n    <h1>App</h1>\n     <Navbar/>\n    {/* Adentro de Routes , solo pueden ir las rutas , no codigo JSX como el h1 */}\n    <Routes>\n\n")),(0,r.kt)("h2",{id:"context"},"Context"),(0,r.kt)("p",null,"Creamos la carpeta context , donde va a estar el context."),(0,r.kt)("p",null,"src/context/UserProvider.jsx"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Tiene la estructura de un componente"),(0,r.kt)("li",{parentName:"ul"},"El context se exporta con una exportaci\xf3n con nombre."),(0,r.kt)("li",{parentName:"ul"},"El provider se exporta por defecto.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import  { createContext, useState } from 'react'\n\n // Creamos el contexto\n export const UserContext = createContext();\n\nconst UserProvider = ({children}) => {\n    const [user , setUser] = useState(false);\n  return (\n    <UserContext.Provider value={{user , setUser}}>\n      {/* children =    Todos los componentes hijos */}\n        {children}\n    </UserContext.Provider>\n  )\n}\n\nexport default UserProvider;\n\n")),(0,r.kt)("p",null,"main.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"ReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n     <UserProvider>\n    {/* Acceso al router */}\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n    </UserProvider>\n  </React.StrictMode>\n)\n\n")),(0,r.kt)("p",null,"Login.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React, { useContext } from 'react'\nimport { UserContext } from '../context/userProvider'\n\nconst Login = () => {\n  // Obtenemos el valor de la props value del Provider del context\n  // useContext(context)\n const {user , setUser} =  useContext(UserContext)\n  return (\n    <>\n    <h1>Login</h1>\n    <h2>\n    {\n      user? \"En linea\" : \"Offline\"\n    }\n    </h2>\n    <button onClick={()=> setUser(true)}>Acceder</button>\n    </>\n  )\n}\n\nexport default Login\n\n")),(0,r.kt)("p",null,"NavBar.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext } from "react"\nimport { NavLink } from "react-router-dom"\nimport { UserContext } from "../context/userProvider"\n\nconst Navbar = () => {\n     // Obtenemos el valor de la props value del Provider del context\n  // useContext(context)\n  const {user , setUser} = useContext(UserContext);\n    return (\n        <>\n            <div>\n                    {/* NavLink es como la etiqueta <a></a>\n                el props "to" es como el atributo "href" */}\n                {\n                     user ?     ( <><NavLink to="/">Inicio</NavLink>\n                     <button onClick={() => setUser(false)}>Logout</button> </>\n                     ) :  <NavLink to="/login">Login</NavLink>\n                }\n            \n           \n               \n            </div>\n        </>\n    )\n}\n\nexport default Navbar\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Todo lo que contiene el props value de Provider se comparte con todos los  componentes hijos de este."),(0,r.kt)("li",{parentName:"ul"},"Con el useContext accedemos al props value."),(0,r.kt)("li",{parentName:"ul"},"Con el provider especificamos que componentes tienen acceso al props value.")))),(0,r.kt)("h2",{id:"ruta-protegida"},"Ruta Protegida"),(0,r.kt)("p",null,"components/RequireAuth.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React, { useContext } from 'react'\nimport { Navigate } from 'react-router-dom';\nimport { UserContext } from '../context/userProvider'\n\nconst RequireAuth = ({children}) => {\n    const {user} = useContext(UserContext);\n    // Si no existe el usuario\n    if (!user) {\n        // Redirrecionamos  al login\n      return  <Navigate to=\"/login\" />\n    }\n // Entramos a la ruta protegida\n  return children\n}\n\nexport default RequireAuth\n\n")),(0,r.kt)("p",null,"Ahora envolvemos la ruta protegida con el componente RequireAuth\nApp.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { Route, Routes } from "react-router-dom"\nimport Navbar from "./components/Navbar"\nimport RequireAuth from "./components/RequireAuth"\nimport Home from "./routes/Home"\nimport Login from "./routes/Login"\n\nfunction App() {\n\n  return (\n    <>\n      <h1>App</h1>\n      <Navbar />\n      <Routes>\n        <Route path=\'/login\' element={<Login />}></Route>\n\n        <Route path=\'/home\' element={\n          /* Ruta protegida (Home) */ \n          <RequireAuth >\n          <Home />\n          </RequireAuth>\n        }>\n    </Route>\n\n\n      </Routes >\n    </>\n  )\n}\n\nexport default App\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"A la ruta home solo se puede acceder si user es true (o existe)"))),(0,r.kt)("h2",{id:"hook-usenavigate"},"hook useNavigate"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Con el hook useNavigate podemos realizar redirecciones.")),(0,r.kt)("p",null,"Login.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import React, { useContext } from \'react\'\nimport { useNavigate } from \'react-router-dom\'\nimport { UserContext } from \'../context/userProvider\'\n\nconst Login = () => {\n\n const {user , setUser} =  useContext(UserContext)\n // Creamos el navigate\n const navegate = useNavigate();\n   const handleClickLogin = () => {\n    setUser(true);\n    // Redireccionamos a la ruta "/"(raiz)\n     navegate("/");\n   }\n\n  return (\n    <>\n    <h1>Login</h1>\n    <h2>\n    {\n      user? "En linea" : "Offline"\n    }\n    </h2>\n    <button onClick={handleClickLogin }>Acceder</button>\n    </>\n  )\n}\n\nexport default Login\n\n')),(0,r.kt)("h2",{id:"firebase-9"},"FireBase 9"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es un backend que ofrece muchos servicios: Autenticacion ,   dos tipos de BD ,  hosting , te permite trabajar con archivos , te brinda  funciones para manipular el backend , etc."),(0,r.kt)("li",{parentName:"ul"},"Es gratis, pero tiene un limite de recursos a utilizar."),(0,r.kt)("li",{parentName:"ul"},"Mientras mas recursos/servicios uses, m\xe1s te van a cobrar."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/"},"Link"))),(0,r.kt)("h3",{id:"en-firebase"},"En Firebase"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Creamos una cuenta "),(0,r.kt)("li",{parentName:"ol"},"Entramos a la consola "),(0,r.kt)("li",{parentName:"ol"},"Creamos un proyecto sin habilitar Google analytics"),(0,r.kt)("li",{parentName:"ol"},"En  Autenticacion -- Get Started (comenzar) habilitamos Email/Password y guardamos")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Lo mas simple es la cuenta de Google y Email/Password")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"En la pagina de inicio (Descripcion(Overview) del proyecto) , accedemos a app web y registramos una aplicacion ")),(0,r.kt)("p",null,"Si hiciste todos los pasos correctos , te aparecera la instalacion de firebase con npm y un trozo de codigo"),(0,r.kt)("h3",{id:"en-el-proyecto"},"En el proyecto"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Instalamos todos los modulos necesario para trabajar con firebase.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install firebase\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Copiamos el c\xf3digo  que nos da firebase al registrar la app")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"El c\xf3digo es publico.")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"En src creamos un archivo llamado firebase.js y pegamos el codigo")),(0,r.kt)("p",null,"Quedaria asi(Varia entre proyectos)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// Import the functions you need from the SDKs you need\nimport { initializeApp } from "firebase/app";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app\'s Firebase configuration\nconst firebaseConfig = {\n  apiKey: "XXX",\n  authDomain: "XXX",\n  projectId: "XXX",\n  storageBucket: "XXX",\n  messagingSenderId: "XXX",\n  appId: "XXX"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n')),(0,r.kt)("h3",{id:"en-firebase-1"},"En Firebase"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"En el apartado de  configuraci\xf3n del Proyecto esta toda la guia de lo que hicimos en el proyecto"))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"En Autenticacion - Users creamos un usuario ")),(0,r.kt)("p",null,"Email: ",(0,r.kt)("a",{parentName:"p",href:"mailto:usuario@tes.com"},"usuario@tes.com")," contrase\xf1a: 123123"),(0,r.kt)("h3",{id:"en-el-proyecto-1"},"En el proyecto"),(0,r.kt)("p",null,"src/index.css "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"body {\n  margin: 0 auto;\n  width:80%;\n  \n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n\n")),(0,r.kt)("h2",{id:"auth"},"Auth"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/auth/web/start?hl=es-419"},"link")),(0,r.kt)("li",{parentName:"ul"},"De auth vienen todas las autenticaciones"),(0,r.kt)("li",{parentName:"ul"},"Tiene toda la configuraci\xf3n de firebase(app) para manipular la autenticaci\xf3n en la aplicaci\xf3n"),(0,r.kt)("li",{parentName:"ul"},"Gracias a auth, firebase sabe en que parte debe crear los usuarios.\nFireBase sabe en que proyecto/aplicaci\xf3n debe crear el usuario"),(0,r.kt)("li",{parentName:"ul"},"Se crea con el metodo getAuth que recibe la app de FireBase")),(0,r.kt)("p",null,"firebase.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { initializeApp } from "firebase/app";\nimport { getAuth } from "firebase/auth";\n\n// Your web app\'s Firebase configuration\nconst firebaseConfig = {\n  apiKey: "XXX",\n  authDomain: "XXX",\n  projectId: "XXX",\n  storageBucket: "XXX",\n  messagingSenderId: "XXX",\n  appId: "XXX"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\n\nexport {auth}\n\n')),(0,r.kt)("h2",{id:"createuserwithemailandpassword"},"createUserWithEmailAndPassword"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"El m\xe9todo createUserWithEmailAndPassword de firebase sirve para  crear un usuario"),(0,r.kt)("li",{parentName:"ul"},"Recibe el auth para saber en que aplicaci\xf3n/proyecto debe crear el usuario."),(0,r.kt)("li",{parentName:"ul"},"Devuelve una promesa"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/auth/web/start?hl=es-419"},"link"))),(0,r.kt)("p",null,"context/UserProvider"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { createUserWithEmailAndPassword } from 'firebase/auth';\nimport  { createContext, useState } from 'react'\nimport { auth } from '../firebase';\n\n // Creamos el contexto\n export const UserContext = createContext();\n\n const registerUser = (email , password) =>\n // Creamos un usuario  con el email y el password pasado por parametro\n // Devuelve al usuario creado\n createUserWithEmailAndPassword(auth , email , password)\n\nconst UserProvider = ({children}) => {\n    const [user , setUser] = useState(false);\n  return (\n    <UserContext.Provider value={{user , setUser , registerUser}}>\n      {/* children =    Todos los componentes hijos */}\n        {children}\n    </UserContext.Provider>\n  )\n}\n\nexport default UserProvider;\n\n")),(0,r.kt)("p",null,"routes/Register.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext, useState } from "react"\nimport { UserContext } from \'../context/userProvider\'\n\nconst Register = () => {\n\n    const [email , setEmail] = useState(\'usuario@tes.com\');\n    const [password , setPassword] = useState(\'123123\');\n    const {registerUser} =  useContext(UserContext)\n  \n    useContext\n    const handleSubmit = async(e) => {\n        e.preventDefault();\n   \n        try {\n            //Creamos un usuario\n           await registerUser(email,password);\n        } catch(e) {\n            console.log(e.code);\n        }\n    }\n  return (\n    <>\n    <h1>Register</h1>\n    <form  onSubmit={handleSubmit}>\n        <input type="email"  placeholder="Ingrese email" value={email} onChange={ e => setEmail(e.target.value)}/>      <input type="password"  placeholder="Ingrese password" value={password} onChange={ e => setPassword(e.target.value)}/>\n        <button>Register</button>\n    </form>\n    </>\n  )\n}\n\nexport default Register\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Los mensajes de errores est\xe1n en la propiedad code de error(e).  Son c\xf3digos de respuesta."),(0,r.kt)("li",{parentName:"ul"},"Si no se puede crear el usuario  ya sea porque ya existe o no pasa alguna validaci\xf3n de firebase , pasa al catch."),(0,r.kt)("li",{parentName:"ul"},"En el catch , el error tiene la propiedad code , la cual devuelve el c\xf3digo de respuesta(el mensaje del error)")))),(0,r.kt)("p",null,"App.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," return (\n    <>\n      <h1>App</h1>\n      <Navbar />\n      <Routes>\n        <Route path='/login' element={<Login />}></Route>\n        <Route path='/register' element={<Register />}></Route>\n\n")),(0,r.kt)("h2",{id:"signinwithemailandpassword"},"signInWithEmailAndPassword"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/auth/web/start?hl=es-419#sign_in_existing_users"},"link")),(0,r.kt)("li",{parentName:"ul"},"El m\xe9todo signInWithEmailAndPassword de firebase sirve para iniciar sesion con un usuario existente"),(0,r.kt)("li",{parentName:"ul"},"Recibe el auth para especificar en que aplicaci\xf3n se esta por autenticar el usuario."),(0,r.kt)("li",{parentName:"ul"},"Devuelve una promesa")),(0,r.kt)("p",null,"context/UserProvider.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'firebase/auth';\nimport  { createContext, useState } from 'react'\nimport { auth } from '../firebase';\n\n // Creamos el contexto\n export const UserContext = createContext();\n\n \nconst UserProvider = ({children}) => {\n    const [user , setUser] = useState(false);\n    const registerUser = (email , password) =>\n      // Creamos un usuario  con el email y el password pasado por parametro\n      // Devuelve al usuario creado\n      createUserWithEmailAndPassword(auth , email , password)\n      \n\n      const loginUser = (email , password) =>  \n        signInWithEmailAndPassword(auth,email , password)\n      \n\n      \n  return (\n    <UserContext.Provider value={{user , setUser , registerUser , loginUser}}>\n      {/* children =    Todos los componentes hijos */}\n        {children}\n    </UserContext.Provider>\n  )\n}\n\nexport default UserProvider;\n\n")),(0,r.kt)("p",null,"Login.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React, { useContext , useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { UserContext } from '../context/userProvider'\n\nconst Login = () => {\n  const [email , setEmail] = useState('usuario@tes.com');\n  const [password , setPassword] = useState('123123');\n const {loginUser} =  useContext(UserContext)\n // Creamos el navigate\n const navegate = useNavigate();\n const handleSubmit = async(e) => {\n  e.preventDefault();\n\n  try {\n      //Accedemos a un usuario\n     await loginUser(email,password);\n  } catch(e) {\n      console.log(e.code);\n      \n  }\n}\n\n  return (\n    <>\n    <h1>Login</h1>\n    <form  onSubmit={handleSubmit}>\n        <input type=\"email\"  placeholder=\"Ingrese email\" value={email} onChange={ e => setEmail(e.target.value)}/>      <input type=\"password\"  placeholder=\"Ingrese password\" value={password} onChange={ e => setPassword(e.target.value)}/>\n        <button>Login</button>\n    </form>\n   </>\n  )\n}\n\nexport default Login\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Si el usuario existe y la contrase\xf1a coincide , inicia sesion.\nEn caso contrario , pasa al catch."),(0,r.kt)("li",{parentName:"ul"},"En el catch, el error tiene la propiedad code que devuelve el c\xf3digo de respuesta (contiene el mensaje de error).")))),(0,r.kt)("h2",{id:"signout"},"signOut"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/auth/web/password-auth?hl=es-419#sign_in_a_user_with_an_email_address_and_password"},"link (debajo de todo)")),(0,r.kt)("li",{parentName:"ul"},"El m\xe9todo signOut de firebase sirve para cerrar la sesion"),(0,r.kt)("li",{parentName:"ul"},"El m\xe9todo signOut recibe el auth"),(0,r.kt)("li",{parentName:"ul"},"Devuelve una promesa ")),(0,r.kt)("p",null,"UserProvider.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport  { createContext, useState } from 'react'\nimport { auth } from '../firebase';\n\n // Creamos el contexto\n export const UserContext = createContext();\n\n \nconst UserProvider = ({children}) => {\n    const [user , setUser] = useState(false);\n    const registerUser = (email , password) =>\n      // Creamos un usuario  con el email y el password pasado por parametro\n      // Devuelve al usuario creado\n      createUserWithEmailAndPassword(auth , email , password)\n      \n\n      const loginUser = (email , password) =>  \n        signInWithEmailAndPassword(auth,email , password)\n      \n        const signOutUser = () => signOut(auth)\n    \n\n      \n  return (\n    <UserContext.Provider value={{user , setUser , registerUser , loginUser , signOutUser}}>\n      {/* children =    Todos los componentes hijos */}\n        {children}\n    </UserContext.Provider>\n  )\n}\n\nexport default UserProvider;\n\n")),(0,r.kt)("p",null,"Navbar.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext } from "react"\nimport { NavLink } from "react-router-dom"\nimport { UserContext } from "../context/userProvider"\n\nconst Navbar = () => {\n     // Obtenemos el valor de la props value del Provider del context\n  // useContext(context)\n  const {user , signOutUser} = useContext(UserContext);\n  const handleClickLogOut = async() => {\n      try {\n          await signOutUser();\n      } catch (error) {\n          console.log(error.code);\n      }\n  }\n    return (\n        <>\n            <div>\n                    {/* NavLink es como la etiqueta <a></a>\n                el props "to" es como el atributo "href" */}\n                {\n                     user ?     ( <><NavLink to="/">Inicio |</NavLink>\n                     <button onClick={handleClickLogOut}>Logout</button> </>\n                     ) : ( <>\n                      <NavLink to="/login">Login |</NavLink>\n                      <NavLink to="/register">Register |</NavLink>\n                     </>) \n                }\n            \n           \n               \n            </div>\n        </>\n    )\n}\n\nexport default Navbar\n\n')),(0,r.kt)("h2",{id:"onauthstatechanged"},"onAuthStateChanged"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Nos brinda datos del usuario"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/auth/web/start?hl=es-419#set_an_authentication_state_observer_and_get_user_data"},"Link")),(0,r.kt)("li",{parentName:"ul"},"El m\xe9todo onAuthStateChanged de firebase sirve para obtener datos del usuario que inicio sesion en la aplicaci\xf3n."),(0,r.kt)("li",{parentName:"ul"},"Nos devuelve el usuario activo , el que ya hizo el login."),(0,r.kt)("li",{parentName:"ul"},"Recibe el auth y un callback que contiene/recibe al usuario activo como par\xe1metro.")),(0,r.kt)("p",null,"UserProvider.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { createUserWithEmailAndPassword, onAuthStateChanged, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport  { createContext, useEffect, useState } from 'react'\nimport { auth } from '../firebase';\n\n // Creamos el contexto\n export const UserContext = createContext();\n\n \nconst UserProvider = ({children}) => {\n\n    useEffect(() => {\n          const unsuscribe = onAuthStateChanged(auth , user => {\n            console.log(user);\n          }) \n          return () => unsuscribe()\n    } , [])\n\n    const [user , setUser] = useState(false);\n    const registerUser = (email , password) =>\n      // Creamos un usuario  con el email y el password pasado por parametro\n      // Devuelve al usuario creado\n      createUserWithEmailAndPassword(auth , email , password)\n      \n\n      const loginUser = (email , password) =>  \n        signInWithEmailAndPassword(auth,email , password)\n      \n        const signOutUser = () => signOut(auth)\n    \n\n      \n  return (\n    <UserContext.Provider value={{user , setUser , registerUser , loginUser , signOutUser}}>\n      {/* children =    Todos los componentes hijos */}\n        {children}\n    </UserContext.Provider>\n  )\n}\n\nexport default UserProvider;\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Te devuelve la informaci\xf3n del usuario desde la API de firebase."))),(0,r.kt)("h3",{id:"cambio"},"Cambio"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { createUserWithEmailAndPassword, onAuthStateChanged, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport  { createContext, useEffect, useState } from 'react'\nimport { auth } from '../firebase';\n\n // Creamos el contexto\n export const UserContext = createContext();\n\n \nconst UserProvider = ({children}) => {\n\n  const [user , setUser] = useState(false);\n    useEffect(() => {\n          const unsuscribe = onAuthStateChanged(auth , (user) => {\n            console.log(user);\n            if (user) {\n             \n             const  {email , photoURL , displayName , uid} = user;\n             setUser({email , photoURL , displayName , uid})\n            } else {\n              setUser(null);\n            }\n           \n          }) \n     \n          return () => unsuscribe()\n    } , [])\n\n    const registerUser = (email , password) =>\n      // Creamos un usuario  con el email y el password pasado por parametro\n      // Devuelve al usuario creado\n      createUserWithEmailAndPassword(auth , email , password)\n      \n\n      const loginUser = (email , password) =>  \n        signInWithEmailAndPassword(auth,email , password)\n      \n        const signOutUser = () => signOut(auth)\n    \n\n      \n  return (\n    <UserContext.Provider value={{user , setUser , registerUser , loginUser , signOutUser}}>\n      {/* children =    Todos los componentes hijos */}\n        {children}\n    </UserContext.Provider>\n  )\n}\n\nexport default UserProvider;\n\n")),(0,r.kt)("p",null,"Navbar.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'  return (\n        <>\n            <div>\n                    {/* NavLink es como la etiqueta <a></a>\n                el props "to" es como el atributo "href" */}\n             \n                {\n                     user ?     ( <><NavLink to="/home">Inicio |</NavLink>\n                         <button onClick={handleClickLogOut}>Logout</button>\n                     </>\n                     ) : ( <>\n                      <NavLink to="/login">Login |</NavLink>\n                      <NavLink to="/register">Register |</NavLink>\n                     </>) \n                }\n            \n           \n               \n            </div>\n        </>\n    )\n\n')),(0,r.kt)("h2",{id:"loading-y-redirrecion"},"Loading y Redirrecion"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Como el proceso de consultar informaci\xf3n del usuario activo demora, implementamos un loading.")),(0,r.kt)("p",null,"App.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext } from "react"\nimport { Route, Routes } from "react-router-dom"\nimport Navbar from "./components/Navbar"\nimport RequireAuth from "./components/RequireAuth"\nimport { UserContext } from "./context/userProvider"\nimport Home from "./routes/Home"\nimport Login from "./routes/Login"\nimport Register from "./routes/Register"\n\nfunction App() {\n\n    const {user} = useContext(UserContext);\n\n    if (user == false) {\n      return <p>Loading....</p>\n    }\n  return (\n    <>\n   \n      <h1>App</h1>\n      <Navbar />\n      <Routes>\n        <Route path=\'/register\' element={<Register />}></Route>\n        <Route path=\'/login\' element={<Login />}></Route>\n        <Route path=\'/home\' element={\n          /* Ruta protegida (Home) */\n          <RequireAuth >\n            <Home />\n          </RequireAuth>\n        }></Route>\n      </Routes >\n    \n    </>\n  )\n}\n\nexport default App\n\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Redireccion en el login")),(0,r.kt)("p",null,"Login.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// Creamos el navigate\n  const navegate = useNavigate();\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      //Accedemos a un usuario\n      await loginUser(email, password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n      console.log(e.code);\n\n    }\n  }\n\n')),(0,r.kt)("h2",{id:"react-hook-form"},"React hook form"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://react-hook-form.com/get-started/"},"link")),(0,r.kt)("li",{parentName:"ul"},"Es un hook ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install react-hook-form\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," const { register, handleSubmit, watch, formState: { errors } } = useForm();\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Register : Para registrar un input"),(0,r.kt)("li",{parentName:"ul"},"handleSubmit  : Maneja el evento submit"),(0,r.kt)("li",{parentName:"ul"},"formState : Nos trae los errores"),(0,r.kt)("li",{parentName:"ul"},"watch : Averiguar")),(0,r.kt)("p",null,"Register.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext, useState } from "react"\nimport { useForm } from "react-hook-form";\nimport { UserContext } from \'../context/userProvider\'\n\nconst Register = () => {\n  const { registerUser } = useContext(UserContext)\n\n  const { register, handleSubmit, watch, formState: { errors } } = useForm();\n\n  //  data = los input registrados\n  const onSubmit = data => console.log(data);\n\n\n  return (\n    <>\n      <h1>Register</h1>\n      {/* El hook form hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {/* Registramos los inputs */}\n        {/* {...register("nombredelcampo")} */}\n        <input type="email" placeholder="Ingrese email"\n          {...register("email")} />\n        <input type="password" placeholder="Ingrese password" {...register("password")} />\n        <button>Register</button>\n      </form>\n    </>\n  )\n}\n\nexport default Register\n\n')),(0,r.kt)("h3",{id:"validaciones"},"Validaciones"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext, useState } from "react"\nimport { useForm } from "react-hook-form";\nimport { UserContext } from \'../context/userProvider\'\n\nconst Register = () => {\n  const { registerUser } = useContext(UserContext)\n\n  const { register, handleSubmit, watch, formState: { errors } } = useForm();\n\n  //  data = un objeto con los input registrados\n  const onSubmit = data => console.log(data);\n\n\n  return (\n    <>\n      <h1>Register</h1>\n      {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {/* Registramos los inputs */}\n        {/* {...register("nombredelcampo" , {validaciones})} */}\n        <input type="email" placeholder="Ingrese email"\n          {...register("email", { required: true })} />\n\n       {\n        //  Si existe un error(si no cumple las validaciones) en el campo email.\n         errors.email && <p>Campo obligatorio</p>\n       }\n\n        <input type="password" placeholder="Ingrese password" {...register("password")} />\n        <input type="password" placeholder="Ingrese password" {...register("repassword")} />\n        <button>Register</button>\n      </form>\n    </>\n  )\n}\n\nexport default Register\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Si no se cumple la validaci\xf3n, se genera un error."),(0,r.kt)("li",{parentName:"ul"},"Para acceder al error de un input es con  errors.nombreinput"),(0,r.kt)("li",{parentName:"ul"},"El nombreinput es el nombre que le asignaron al registrarlo con el register")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://react-hook-form.com/api/useform"},"link"))),(0,r.kt)("h3",{id:"validaciones-con-mensajes-personalizados"},"Validaciones con mensajes personalizados:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext, useState } from "react"\nimport { useForm } from "react-hook-form";\nimport { UserContext } from \'../context/userProvider\'\n\nconst Register = () => {\n  const { registerUser } = useContext(UserContext)\n\n  const { register, handleSubmit, watch, formState: { errors } } = useForm();\n\n  //  data = un objeto con los input registrados\n  const onSubmit = data => console.log(data);\n\n\n  return (\n    <>\n      <h1>Register</h1>\n      {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {/* Registramos los inputs */}\n        {/* {...register("nombredelcampo" , {validaciones})} */}\n        <input type="email" placeholder="Ingrese email"\n          {...register("email", { required: {value:true , message:\'Campo obligatorio\'} })} />\n\n       {\n        //  Si existe un error(si no cumple las validaciones) en el campo email.\n         // message corresponde con la propiedad message de la validacion\n         errors.email && <p>{errors.email.message}</p>\n       }\n        {/* Validacion de minimo 6 caracteres */}\n        <input type="password" placeholder="Ingrese password" {...register("password" , {minLength: {value:6 , message:"Minimo 6 caracteres"}})} />\n        {\n            //  Si existe un error(si no cumple las validaciones) en el campo password.\n            // message corresponde con la propiedad message de la validacion\n            errors.password && <p>{errors.password.message}</p>\n        }\n        <input type="password" placeholder="Ingrese password" {...register("repassword")} />\n        <button>Register</button>\n      </form>\n    </>\n  )\n}\n\nexport default Register\n\n')),(0,r.kt)("h3",{id:"expresiones-regulares"},"Expresiones regulares"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' <input type="email" placeholder="Ingrese email"\n          {...register("email", {\n            required:\n              { value: true, message: \'Campo obligatorio\' },\n            pattern: {\n               value: /[a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,15})/,\n               message:"Formato de email incorrecto"\n            }\n          })} />\n\n')),(0,r.kt)("h3",{id:"validacion-personalizada"},"Validacion personalizada"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Usaremos ",(0,r.kt)("a",{parentName:"li",href:"https://react-hook-form.com/api/useform/getvalues"},"getValues")," para obtener los valores del input registrado en tiempo real.")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"condici\xf3n && = Verifica que sea true"),(0,r.kt)("li",{parentName:"ul"},"condici\xf3n || = Verifica que sea false")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext, useState } from "react"\nimport { useForm } from "react-hook-form";\nimport { UserContext } from \'../context/userProvider\'\n\nconst Register = () => {\n  const { registerUser } = useContext(UserContext)\n\n  const { register, handleSubmit, getValues , formState: { errors } } = useForm();\n\n  //  data = un objeto con los input registrados\n  const onSubmit = data => console.log(data);\n\n\n  return (\n    <>\n      <h1>Register</h1>\n      {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {/* Registramos los inputs */}\n        {/* {...register("nombredelcampo" , {validaciones})} */}\n        <input type="email" placeholder="Ingrese email"\n          {...register("email", {\n            required:\n              { value: true, message: \'Campo obligatorio\' },\n            pattern: {\n               value: /[a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,15})/,\n               message:"Formato de email incorrecto"\n            }\n          })} />\n\n        {\n          //  Si existe un error(si no cumple las validaciones) en el campo email.\n          // message corresponde con la propiedad message de la validacion\n          errors.email && <p>{errors.email.message}</p>\n        }\n        {/* Validacion de minimo 6 caracteres */}\n        <input type="password" placeholder="Ingrese password" {...register("password", { \n          minLength: { value: 6, message: "Minimo 6 caracteres" }\n          \n          \n          })} />\n        {\n          //  Si existe un error(si no cumple las validaciones) en el campo password.\n          // message corresponde con la propiedad message de la validacion\n          errors.password && <p>{errors.password.message}</p>\n        }\n        <input type="password" placeholder="Ingrese password" {...register("repassword" , {validate: {\n          // equals puede llamarse como quiera , seria el nombre de la funcion que se ejecutaria para validar\n\n          // value es igual al valor del campo\n\n          // Para acceder al valor de un input  \n          //getValue("nombrecampo") \n          //nombrecampo = el nombre con el cual se registro \n          \n          equals:  value => value === getValues("password") || "No coincide la contrase\xf1a"\n        }})} />\n         {\n          //  Si existe un error(si no cumple las validaciones) en el campo password.\n          // message corresponde con la propiedad message de la validacion\n          errors.repassword && <p>{errors.repassword.message}</p>\n        }\n        <button>Register</button>\n      </form>\n    </>\n  )\n}\n\nexport default Register\n\n')),(0,r.kt)("h3",{id:"validacion-espacio-en-blanco"},"Validacion espacio en blanco"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es con trim "),(0,r.kt)("li",{parentName:"ul"},"La negaci\xf3n de String.trim() devuelve true si contiene espacio en blancos.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"  if (!'        '.trim()) {\n     console.log(\"contiene espacio en blanco\");\n   }\n\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<input type="password" placeholder="Ingrese password" {...register("password", { \n          minLength: { value: 6, message: "Minimo 6 caracteres" } ,\n          validate: {\n                 // v es igual al valor del campo\n                 trim : v => {\n                   if (!v.trim()) return "Escribe algo";\n                   return true;\n                 }\n          }\n          \n          \n          })} />\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Si Devuelve true, significa que la validacion paso."))),(0,r.kt)("h3",{id:"validaciones-firebase"},"Validaciones firebase"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/auth/admin/errors"},"Codigo de errores")),(0,r.kt)("li",{parentName:"ul"},"Usamos ",(0,r.kt)("a",{parentName:"li",href:"https://react-hook-form.com/api/useform/seterror"},"setError")," para crear errores manualmente."),(0,r.kt)("li",{parentName:"ul"},"setError(input_registrado ,objeto con el error)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext, useState } from "react"\nimport { useForm } from "react-hook-form";\nimport { UserContext } from \'../context/userProvider\'\n\nconst Register = () => {\n  const { registerUser } = useContext(UserContext)\n\n  // useForm({valores iniciales})\n  const { register, handleSubmit, getValues, formState: { errors }, setError } = useForm(\n    {\n      defaultValues: {\n        email: \'usuario@tes.com\',\n        password: \'123123\',\n        repassword: \'123123\'\n      }\n    }\n  );\n\n  //  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      //Creamos un usuario\n      await registerUser(data.email, data.password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n\n      switch (e.code) {\n        case \'auth/email-already-in-use\':\n          // setError(nombre_input_registrado , {error})\n          // Podes ignorar la propiedad type del error para que aparezca directamente en el errors.nombre_input_registrado\n          setError("email", { message: "Usuario ya registrado" });\n          break;\n        case "auth/invalid-email":\n          setError("email", {\n            message: "Formato email no v\xe1lido",\n          });\n          break;\n        default:\n          console.log(\'Intentelo mas tarde\')\n          break;\n      }\n\n      console.log(e.code);\n    }\n  }\n\n\n  return (\n    <>\n      <h1>Register</h1>\n      {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {/* Registramos los inputs */}\n        {/* {...register("nombredelcampo" , {validaciones})} */}\n        <input type="email" placeholder="Ingrese email"\n          {...register("email", {\n            required:\n              { value: true, message: \'Campo obligatorio\' },\n            pattern: {\n              value: /[a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,15})/,\n              message: "Formato de email incorrecto"\n            }\n          })} />\n\n        {\n          //  Si existe un error(si no cumple las validaciones) en el campo email.\n          // message corresponde con la propiedad message de la validacion\n          errors.email && <p>{errors.email.message}</p>\n        }\n        {/* Validacion de minimo 6 caracteres */}\n        <input type="password" placeholder="Ingrese password" {...register("password", {\n          minLength: { value: 6, message: "Minimo 6 caracteres" },\n          validate: {\n            // v es igual al valor del campo\n            trim: v => {\n              if (!v.trim()) return "Escribe algo";\n              return true;\n            }\n          }\n\n        })} />\n        {\n          //  Si existe un error(si no cumple las validaciones) en el campo password.\n          // message corresponde con la propiedad message de la validacion\n          errors.password && <p>{errors.password.message}</p>\n        }\n        <input type="password" placeholder="Ingrese password" {...register("repassword", {\n          validate: {\n            // equals puede llamarse como quiera , seria el nombre de la funcion que se ejecutaria para validar\n\n            // value es igual al valor del campo\n\n            // Para acceder al valor de un input  \n            //getValue("nombrecampo") \n            //nombrecampo = el nombre con el cual se registro \n\n            equals: value => value === getValues("password") || "No coincide la contrase\xf1a"\n          }\n        })} />\n        {\n          //  Si existe un error(si no cumple las validaciones) en el campo password.\n          // message corresponde con la propiedad message de la validacion\n          errors.repassword && <p>{errors.repassword.message}</p>\n        }\n        <button>Register</button>\n      </form>\n    </>\n  )\n}\n\nexport default Register\n\n')),(0,r.kt)("h2",{id:"refactorizar"},"Refactorizar"),(0,r.kt)("h3",{id:"a\xf1adimos-errores-de-firebase"},"A\xf1adimos errores de firebase."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext } from "react"\nimport { useForm } from "react-hook-form";\nimport { UserContext } from \'../context/userProvider\'\n\nconst Register = () => {\n  const { registerUser } = useContext(UserContext)\n\n  // useForm({valores iniciales})\n  const { register, handleSubmit, getValues, formState: { errors }, setError } = useForm(\n    {\n      defaultValues: {\n        email: \'usuario@tes.com\',\n        password: \'123123\',\n        repassword: \'123123\'\n      }\n    }\n  );\n\n  //  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      //Creamos un usuario\n      await registerUser(data.email, data.password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n\n      switch (e.code) {\n        case \'auth/email-already-in-use\':\n          // setError(nombre_input_registrado , {error})\n          // Podes ignorar la propiedad type del error para que aparezca directamente en el errors.nombre_input_registrado\n          // Estamos creando "firebase" (errors.firebase)\n          setError("firebase", { message: "Usuario ya registrado" });\n          break;\n        case "auth/invalid-email":\n          // Estamos creando "firebase" (errors.firebase)\n          setError("firebase", {\n            message: "Formato email no v\xe1lido",\n          });\n          break;\n        default:\n          console.log(\'Intentelo mas tarde\')\n          break;\n      }\n\n      console.log(e.code);\n    }\n  }\n\n\n  return (\n    <>\n      <h1>Register</h1>\n     { errors.firebase && <p>{errors.firebase.message}</p> \n}\n\n')),(0,r.kt)("h3",{id:"switch"},"Switch"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Creamos la Carpeta utils o lib/api"),(0,r.kt)("li",{parentName:"ul"},"En esta carpeta van las utilidades.")),(0,r.kt)("p",null,"utils/erroresFirebase.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// Almacenamos todos los errores (codigo) de firebase\nexport const erroresFirebase = (code) => {\n    switch (code) {\n        case \'auth/email-already-in-use\':\n            return "Usuario ya registrado";\n        case "auth/invalid-email":\n            return "Formato email no v\xe1lido"\n        default:\n            return \'Intentelo mas tarde\'\n    }\n}\n\n')),(0,r.kt)("p",null,"Register.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { erroresFirebase } from "../utils/erroresFirebase";\n  //  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      //Creamos un usuario\n      await registerUser(data.email, data.password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n      setError("firebase", {\n        message: erroresFirebase(e.code)\n      });\n\n\n    }\n  }\n\n')),(0,r.kt)("h3",{id:"componente-error"},"Componente error"),(0,r.kt)("p",null,"components/FormError.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"\nconst FormError = ({ error }) => {\n    return (\n        <>\n            {/* Si existe un error(si no cumple las validaciones) \n    message corresponde con la propiedad message de la validacion   \n          */}\n            {error && <p>{error.message}</p>}\n        </>\n    )\n}\n\nexport default FormError\n\n")),(0,r.kt)("p",null,"Register.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import FormError from "../components/FormError";\nreturn (\n    <>\n      <h1>Register</h1>\n      <FormError error={errors.firebase}/>\n      {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {/* Registramos los inputs */}\n        {/* {...register("nombredelcampo" , {validaciones})} */}\n        <input type="email" placeholder="Ingrese email"\n          {...register("email", {\n            required:\n              { value: true, message: \'Campo obligatorio\' },\n            pattern: {\n              value: /[a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,15})/,\n              message: "Formato de email incorrecto"\n            }\n          })} />\n\n         <FormError error={errors.email} />\n\n        {/* Validacion de minimo 6 caracteres */}\n        <input type="password" placeholder="Ingrese password" {...register("password", {\n          minLength: { value: 6, message: "Minimo 6 caracteres" },\n          validate: {\n            // v es igual al valor del campo\n            trim: v => {\n              if (!v.trim()) return "Escribe algo";\n              return true;\n            }\n          }\n\n        })} />\n         <FormError error={errors.password}/>\n        <input type="password" placeholder="Ingrese password" {...register("repassword", {\n          validate: {\n            // equals puede llamarse como quiera , seria el nombre de la funcion que se ejecutaria para validar\n\n            // value es igual al valor del campo\n\n            // Para acceder al valor de un input  \n            //getValue("nombrecampo") \n            //nombrecampo = el nombre con el cual se registro \n\n            equals: value => value === getValues("password") || "No coincide la contrase\xf1a"\n          }\n        })} />\n         <FormError error={errors.repassword}/>\n\n        <button>Register</button>\n      </form>\n    </>\n  )\n\n')),(0,r.kt)("h3",{id:"validaciones-1"},"Validaciones"),(0,r.kt)("p",null,"utils/formValidate.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'export const formValidate = () => {\n    return {\n        required: { value: true, message: \'Campo obligatorio\' },\n        patternEmail: {\n            value: /[a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,15})/,\n            message: "Formato de email incorrecto"\n        },\n        minLength6: { value: 6, message: "Minimo 6 caracteres" },\n        // v es igual al valor del campo\n        validateTrim: {\n\n            trim: v => {\n                if (!v.trim()) return "Escribe algo";\n                return true;\n            }\n        },\n       validateEquals(getValues) {\n           return {\n            equals: value => value === getValues("password") || "No coincide la contrase\xf1a"\n           }\n       }\n    }\n}\n\n')),(0,r.kt)("p",null,"Register.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { formValidate } from "../utils/formValidate";\n\nconst Register = () => {\n  const { required, patternEmail } = formValidate();\n\n <input type="email" placeholder="Ingrese email"\n          {...register("email", {\n            required,\n            pattern: patternEmail\n          })} />\n\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext } from "react"\nimport { useForm } from "react-hook-form";\nimport FormError from "../components/FormError";\nimport { UserContext } from \'../context/userProvider\'\nimport { erroresFirebase } from "../utils/erroresFirebase";\nimport { formValidate } from "../utils/formValidate";\n\nconst Register = () => {\n  const { required, patternEmail , minLength6 , validateTrim , validateEquals } = formValidate();\n  const { registerUser } = useContext(UserContext)\n\n  // useForm({valores iniciales})\n  const { register, handleSubmit, getValues, formState: { errors }, setError } = useForm(\n    {\n      defaultValues: {\n        email: \'usuario@tes.com\',\n        password: \'123123\',\n        repassword: \'123123\'\n      }\n    }\n  );\n\n  //  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      //Creamos un usuario\n      await registerUser(data.email, data.password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n      setError("firebase", {\n        message: erroresFirebase(e.code)\n      });\n\n\n    }\n  }\n\n  return (\n    <>\n      <h1>Register</h1>\n      <FormError error={errors.firebase} />\n      {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {/* Registramos los inputs */}\n        {/* {...register("nombredelcampo" , {validaciones})} */}\n        <input type="email" placeholder="Ingrese email"\n          {...register("email", {\n            required,\n            pattern: patternEmail\n          })} />\n\n         <FormError error={errors.email} />\n        <input type="password" placeholder="Ingrese password" {...register("password", {\n          minLength: minLength6,\n          validate: validateTrim\n\n        })} />\n        <FormError error={errors.password} />\n        <input type="password" placeholder="Ingrese password" {...register("repassword", {\n          validate: validateEquals(getValues)\n        })} />\n        <FormError error={errors.repassword} />\n\n        <button>Register</button>\n      </form>\n    </>\n  )\n\n}\n\nexport default Register\n\n')),(0,r.kt)("h2",{id:"useref"},"useRef"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://es.reactjs.org/docs/hooks-reference.html#useref"},"link")),(0,r.kt)("li",{parentName:"ul"},"Es un hook de React"),(0,r.kt)("li",{parentName:"ul"},"Nos permite acceder a todas las propiedades de un elemento(input , etc)"),(0,r.kt)("li",{parentName:"ul"},"Ser\xeda como el document.getElementById , \xf3sea es la forma de seleccionar un elemento en React"),(0,r.kt)("li",{parentName:"ul"},"React creo el ref para optimizar lo que hace  document.getElementById")),(0,r.kt)("p",null,"Ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useRef } from "react";\n\nconst ExampleRef = () => {\n    const inputEl = useRef(null);\n\n    const onButtonClick = () => {\n        // `current` = input\n        inputEl.current.focus();\n    };\n\n    return (\n        <>\n            <input type="text" ref={inputEl} />\n            <button onClick={onButtonClick}>Focus the</button>\n        </>\n    );\n};\n\nexport default ExampleRef;\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Al comienzo, ref(inputEl) es null  ya que cuando se inicializa todavia no existe ning\xfan elemento. "),(0,r.kt)("li",{parentName:"ul"},"Al renderizarse el componente, el valor de ref(inputEl) es una referencia al input. "),(0,r.kt)("li",{parentName:"ul"},"<","elemento ref={variableRef}>","<","/elemento> -- En esta linea de codigo se asigna una referencia del elemento a la variableRef(se creo con el useRef)"),(0,r.kt)("li",{parentName:"ul"},"<",'input type="text" ref={inputEl} /> -- En esta linea de codigo se asigna una referencia del input(elemento) a la variable inputEl(se creo con el useRef)'),(0,r.kt)("li",{parentName:"ul"},"Con el atributo(props) ref asignamos el valor(referencia de un elemento/componente) de ref."),(0,r.kt)("li",{parentName:"ul"},"Con la referencia al input, podemos manipularla (como el focus del ejemplo)."),(0,r.kt)("li",{parentName:"ul"},"El valor(referencia) lo contiene la propiedad current del ref.")))),(0,r.kt)("h2",{id:"forwardref"},"forwardRef"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://es.reactjs.org/docs/forwarding-refs.html"},"link")),(0,r.kt)("li",{parentName:"ul"},"El Reenv\xedo de refs es una caracter\xedstica opcional que permite a algunos componentes tomar una ref que reciben, y pasarla (en otras palabras, \u201creenviarla\u201d) a un hijo."),(0,r.kt)("li",{parentName:"ul"},"Como react no te permite mandar ref a trav\xe9s de props , se utiliza forwardRef  para enviar un ref  a un hijo"),(0,r.kt)("li",{parentName:"ul"},"Se suele utilizar cuando el componente implementa bibliotecas (como el useForm)"),(0,r.kt)("li",{parentName:"ul"},"forwardRef es un m\xe9todo que recibe como par\xe1metro un COMPONENTE."),(0,r.kt)("li",{parentName:"ul"},"El componente que tiene como par\xe1metro , tiene acceso a los props y a la referencia (ref) que se le pasa como si fuera una props mas."),(0,r.kt)("li",{parentName:"ul"},"el metodo forwardRef devuelve un componente(el mismo que recibio como parametro ) el cual se exporta para su posterior utilizacion.")),(0,r.kt)("p",null,"Ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { forwardRef, useRef } from "react";\n// Es un componente\nconst InputText = forwardRef((props, ref) => {\n    return <input type="text" ref={ref} />;\n});\n\nconst ExampleRef = () => {\n    const inputEl = useRef(null);\n\n    const onButtonClick = () => {\n        // `current` apunta al elemento de entrada de texto montado\n        inputEl.current.focus();\n    };\n\n    return (\n        <>\n            <InputText ref={inputEl} />\n            <button onClick={onButtonClick}>Focus the</button>\n        </>\n    );\n};\n\nexport default ExampleRef;\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"El componente InputText(lo crea la funcion forwardRef) tiene acceso a las props y a una referencia(ref)"),(0,r.kt)("li",{parentName:"ul"},"Cuando lo renderizamos , le pasamos una variable de referencia llamada inputEl"),(0,r.kt)("li",{parentName:"ul"},"La variable de referencia inputEl es la que se le  pasa  al parametro ref del componente")))),(0,r.kt)("h2",{id:"forwardref-proyecto"},"forwardRef Proyecto"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Explicacion de lo que pasa en useForm en la linea:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},'...register("email")\n\n')),(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Esta creando las props onChange , onBlur , ref y name (este ultimo lo hace con el valor que le pasamos entre los par\xe9ntesis).")))),(0,r.kt)("p",null,"components/FormInput.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React, { forwardRef } from 'react'\n\nconst FormInput = forwardRef(({type , placeholder , onChange , onBlur , name} , ref) => {\n  return (\n     <input type={type}  placeholder={placeholder} ref={ref} onBlur={onBlur} name={name} onChange={onChange}/>\n  )\n})\n\nexport default FormInput\n\n")),(0,r.kt)("p",null,"Register.jsx"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Recordatorio")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Los props lo pasa el \u2026register (incluyendo el ref)"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext } from "react"\nimport { useForm } from "react-hook-form";\nimport FormError from "../components/FormError";\nimport FormInput from "../components/FormInput";\nimport { UserContext } from \'../context/userProvider\'\nimport { erroresFirebase } from "../utils/erroresFirebase";\nimport { formValidate } from "../utils/formValidate";\n\nconst Register = () => {\n  const { required, patternEmail, minLength6, validateTrim, validateEquals } = formValidate();\n  const { registerUser } = useContext(UserContext)\n\n  // useForm({valores iniciales})\n  const { register, handleSubmit, getValues, formState: { errors }, setError } = useForm(\n    {\n      defaultValues: {\n        email: \'usuario@tes.com\',\n        password: \'123123\',\n        repassword: \'123123\'\n      }\n    }\n  );\n\n  //  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      //Creamos un usuario\n      await registerUser(data.email, data.password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n      setError("firebase", {\n        message: erroresFirebase(e.code)\n      });\n\n\n    }\n  }\n  return (\n    <>\n      <h1>Register</h1>\n      <FormError error={errors.firebase} />\n      {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <FormInput\n          type="email"\n          placeholder="Ingrese email"\n          {...register("email", {\n            required,\n            pattern: patternEmail\n          })}\n        >\n        </FormInput>\n        <FormError error={errors.email} />\n        <FormInput\n          type="password"\n          placeholder="Ingrese password"\n          {...register("password", {\n            minLength: minLength6,\n            validate: validateTrim\n          })}\n        ></FormInput>\n        <FormError error={errors.password} />\n        <FormInput\n          type="password"\n          placeholder="Ingrese password"\n          {...register("repassword", {\n            validate: validateEquals(getValues)\n          })}\n        ></FormInput>\n        <FormError error={errors.repassword} />\n        <button>Register</button>\n      </form>\n    </>\n  )\n\n}\n\nexport default Register\n\n')),(0,r.kt)("h2",{id:"children"},"Children"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es una props , que representa los componentes hijos.")),(0,r.kt)("p",null,"FormInput.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React, { forwardRef } from 'react'\n\nconst FormInput = forwardRef(({type , placeholder , onChange , onBlur , name , children} , ref) => {\n  return (\n    <>\n     <input type={type}  placeholder={placeholder} ref={ref} onBlur={onBlur} name={name} onChange={onChange}/>\n    {children}\n\n     </>\n  )\n})\n\nexport default FormInput\n\n")),(0,r.kt)("p",null,"Register.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'return (\n    <>\n      <h1>Register</h1>\n      <FormError error={errors.firebase} />\n      {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <FormInput\n          type="email"\n          placeholder="Ingrese email"\n          {...register("email", {\n            required,\n            pattern: patternEmail\n          })}\n        >\n          <FormError error={errors.email} />\n        </FormInput>\n\n        <FormInput\n          type="password"\n          placeholder="Ingrese password"\n          {...register("password", {\n            minLength: minLength6,\n            validate: validateTrim\n          })}\n        >\n          <FormError error={errors.password} />\n        </FormInput>\n\n        <FormInput\n          type="password"\n          placeholder="Ingrese password"\n          {...register("repassword", {\n            validate: validateEquals(getValues)\n          })}\n        >\n          <FormError error={errors.repassword} />\n        </FormInput>\n\n        <button>Register</button>\n      </form>\n    </>\n  )\n\n')),(0,r.kt)("h2",{id:"login"},"Login"),(0,r.kt)("p",null,"Login.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React, { useContext } from 'react'\nimport { useForm } from 'react-hook-form';\nimport { useNavigate } from 'react-router-dom'\nimport FormError from '../components/FormError';\nimport FormInput from '../components/FormInput';\nimport { UserContext } from '../context/userProvider'\nimport { erroresFirebase } from '../utils/erroresFirebase';\nimport { formValidate } from '../utils/formValidate';\n\nconst Login = () => {\n\n  const { loginUser } = useContext(UserContext)\n  const { required, patternEmail, minLength6, validateTrim } = formValidate();\n  // Creamos el navigate\n  const navegate = useNavigate();\n  // useForm({valores iniciales})\n  const { register, handleSubmit,  formState: { errors }, setError } = useForm(\n    {\n      defaultValues: {\n        email: 'usuario@tes.com',\n        password: '123123',\n      }\n    }\n  );\n  //  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      //Iniciamos sesion\n      await loginUser(data.email, data.password);\n      //Redirreciono al home\n      navegate(\"/home\")\n    } catch (e) {\n      setError(\"firebase\", {\n        message: erroresFirebase(e.code)\n      });\n\n\n    }\n  }\n  return (\n    <>\n      <h1>Login</h1>\n      <FormError error={errors.firebase} />\n        {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n      <FormInput\n          type=\"email\"\n          placeholder=\"Ingrese email\"\n          {...register(\"email\", {\n            required,\n            pattern: patternEmail\n          })}\n        >\n          <FormError error={errors.email} />\n        </FormInput>\n        <FormInput\n          type=\"password\"\n          placeholder=\"Ingrese password\"\n          {...register(\"password\", {\n            minLength: minLength6,\n            validate: validateTrim\n          })}\n        >\n          <FormError error={errors.password} />\n        </FormInput>\n        <button>Login</button>\n      </form>\n    </>\n  )\n}\n\nexport default Login\n\n")),(0,r.kt)("p",null,"utils/erroresFirebase.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// Almacenamos todos los errores (codigo) de firebase\nexport const erroresFirebase = (code) => {\n    switch (code) {\n        case \'auth/email-already-in-use\':\n            return "Usuario ya registrado";\n        case "auth/invalid-email":\n            return "Formato email no v\xe1lido"\n        case "auth/user-not-found":\n              return "Usuario no registrado"\n        case "auth/wrong-password":\n            return "Contrase\xf1a incorrecta"\n        default:\n            return \'Intentelo mas tarde\'\n    }\n}\n\n')),(0,r.kt)("h2",{id:"problemas"},"Problemas"),(0,r.kt)("h3",{id:"problema-usuario-ya-registrado"},'Problema "usuario ya registrado"'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Una vez que aparece el error \u201cusuario ya registrado\u201d , no te permite crear un usuario en el register"),(0,r.kt)("li",{parentName:"ul"},"Eso pasa porque \u201cNo se limpia\u201d los errores (setError) de firebase."),(0,r.kt)("li",{parentName:"ul"},"Linea que genera el error: ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'setError("firebase", {\n        message: erroresFirebase(e.code)\n      });\n\n')),(0,r.kt)("h4",{id:"solucion"},"Solucion"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Que los errores pertenezcan a un input registrado, para que se vayan limpiando a medida que se modifica los inputs.")),(0,r.kt)("p",null,"utils/erroresFirebase.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// Almacenamos todos los errores (codigo) de firebase\nexport const erroresFirebase = (code) => {\n    switch (code) {\n        case \'auth/email-already-in-use\':\n            return {code:"email" , message : "Usuario ya registrado"};\n        case "auth/invalid-email":\n            return {code:"email" , message : "Formato email no v\xe1lido" }\n        case "auth/user-not-found":\n              return {code:"email" , message :"Usuario no registrado"}\n        case "auth/wrong-password":\n            return {code:"password" , message :"Contrase\xf1a incorrecta"\n    }\n        default:\n            return {code:"email" , message :\'Intentelo mas tarde\' }\n    }\n}\n\n')),(0,r.kt)("p",null,"Register.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'//  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      //Creamos un usuario\n      await registerUser(data.email, data.password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n      const {code , message} = erroresFirebase(e.code);\n      setError(code , {message})\n    }\n  }\n\n')),(0,r.kt)("p",null,"Login.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'//  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      //Iniciamos sesion\n      await loginUser(data.email, data.password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n      const {code , message} = erroresFirebase(e.code);\n      setError(code , {message})\n    }\n  }\n\n')),(0,r.kt)("h3",{id:"optimizar-register"},"Optimizar register:"),(0,r.kt)("p",null,"Register.jsx"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Para que pueda comparar dos valores que no sean password.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' <FormInput\n          type="password"\n          placeholder="Ingrese password"\n          {...register("repassword", {\n            validate: validateEquals(getValues("password"))\n          })}\n        >\n          <FormError error={errors.repassword} />\n        </FormInput>\n\n')),(0,r.kt)("p",null,"utils/formValidate.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' validateEquals(value) {\n           return {\n            equals: v => v === value || "No coincide la contrase\xf1a"\n           }\n       }\n\n')),(0,r.kt)("h2",{id:"tailwindcss--flowbite"},"TailwindCSS & flowbite"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://tailwindcss.com/"},"link")),(0,r.kt)("li",{parentName:"ul"},"Es un framework de css"),(0,r.kt)("li",{parentName:"ul"},"Tiene clases din\xe1mica"),(0,r.kt)("li",{parentName:"ul"},"Es como Bootstrap, pero m\xe1s avanzado.")),(0,r.kt)("h3",{id:"tailwind-vs-bootstrap"},"Tailwind vs Bootstrap"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Bootstrap tiene componentes predefinidos. Dentro de una clase hay miles de propiedades css."),(0,r.kt)("li",{parentName:"ul"},"Tailwind  es mucho m\xe1s personalizado , cada clase tiene una propiedad"),(0,r.kt)("li",{parentName:"ul"},"Velocidad == Bootstrap || Personalizaci\xf3n == Tailwind")),(0,r.kt)("h3",{id:"tailwind"},"Tailwind"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Un componente es un conjunto de clases"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://flowbite.com/"},"Modulo que ofrece un conjunto de componentes")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://tailwindcomponents.com/cheatsheet/"},"Lista de clases y las propiedades que contienen")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://flowbite.com/docs/getting-started/react/"},"Como comenzar con react"))),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"vite ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Vite limpia las clases de Tailwind/flowbite y solo compilara las que use el proyecto."))),(0,r.kt)("h3",{id:"instalacion-de-tailwind-y-flowbite"},"Instalacion de tailwind y flowbite"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Instalamos tailwind")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install -D tailwindcss postcss autoprefixer\nnpx tailwindcss init -p\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"La \xfaltima l\xednea creara dos archivos: postcss.config.js y Tailwind.config.js"))),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Configuracion de tailwind")),(0,r.kt)("p",null,"tailwind.config.js:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'module.exports = {\n  content: [ \n    "./src/**/*.{js,jsx,ts,tsx}",\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n}\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Se esta haciendo un seguimiento a js , jsx , ts , tsx"))),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Importar tailwind en el index.css")),(0,r.kt)("p",null,"src/index.css"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Instalamos flowbite")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install flowbite\n")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Configuramos tailwind para trabajar con flowbite")),(0,r.kt)("p",null,"tailwind.config.js:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'module.exports = {\n  content: [ \n    "./src/**/*.{js,jsx,ts,tsx}" , "./node_modules/flowbite/**/*.js",\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [ require(\'flowbite/plugin\')],\n}\n\n')),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"Importamos el javascript de flowbite en el proyecto")),(0,r.kt)("p",null,"main.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport './index.css'\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from './context/userProvider';\nimport 'flowbite';\n\n")),(0,r.kt)("h3",{id:"empezamos-con-el-dise\xf1o-del-proyecto"},"Empezamos con el dise\xf1o del proyecto"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://transform.tools/html-to-jsx"},"Transformar html en jsx"))),(0,r.kt)("h3",{id:"titulo"},"titulo"),(0,r.kt)("p",null,"components/Title.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\nconst Title = ({text}) => {\n  return (\n    <h1 className="text-center my-5 text-4xl">{text}</h1>\n  )\n}\n\nexport default Title\n\n')),(0,r.kt)("h3",{id:"input"},"input"),(0,r.kt)("p",null,"components/FormInput.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import React, { forwardRef } from \'react\'\n\nconst FormInput = forwardRef(({type , placeholder , onChange , onBlur , name , label , children , error} , ref) => {\n\n   const errorClassLabel = error? "block mb-2 text-sm font-medium text-red-700 dark:text-red-500" : "block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300";\n   const errorClassInput = error? "bg-red-50 border border-red-500 text-red-900 placeholder-red-700 text-sm rounded-lg focus:ring-red-500 dark:bg-gray-700 focus:border-red-500 block w-full p-2.5 dark:text-red-500 dark:placeholder-red-500 dark:border-red-500" : "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500";\n  return (\n    <div className="mb-6">\n      <label\n  htmlFor="email"\n  className={errorClassLabel}\n>\n  {label}\n</label>\n     <input type={type}  placeholder={placeholder} ref={ref} onBlur={onBlur} name={name} onChange={onChange}\n     className={errorClassInput}\n     />\n    {children}\n   \n     </div>\n  )\n})\n\nexport default FormInput\n\n')),(0,r.kt)("h3",{id:"boton"},"Boton"),(0,r.kt)("p",null,"components/Button.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\nconst Button = ({ text }) => {\n    return (\n        <button\n            type="submit"\n            className="focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"\n        >\n            {text}\n        </button>\n    )\n}\n\nexport default Button\n\n')),(0,r.kt)("h3",{id:"error-de-formulario"},"Error de formulario"),(0,r.kt)("p",null,"components/FormError.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\nconst FormError = ({ error }) => {\n    return (\n        <>\n            {/* Si existe un error(si no cumple las validaciones) \n    message corresponde con la propiedad message de la validacion   \n          */}\n            {error &&  (<p class="mt-2 text-sm text-red-600 dark:text-red-500"><span class="font-medium">Oops!</span> {error.message}</p>)}\n        </>\n    )\n}\n\nexport default FormError\n\n')),(0,r.kt)("p",null,"Register.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext } from "react"\nimport { useForm } from "react-hook-form";\nimport Button from "../components/Button";\nimport FormError from "../components/FormError";\nimport FormInput from "../components/FormInput";\nimport Title from "../components/Title";\nimport { UserContext } from \'../context/userProvider\'\nimport { erroresFirebase } from "../utils/erroresFirebase";\nimport { formValidate } from "../utils/formValidate";\n\nconst Register = () => {\n  const { required, patternEmail, minLength6, validateTrim, validateEquals } = formValidate();\n  const { registerUser } = useContext(UserContext)\n\n  // useForm({valores iniciales})\n  const { register, handleSubmit, getValues, formState: { errors }, setError } = useForm(\n    {\n      defaultValues: {\n        email: \'usuario@tes.com\',\n        password: \'123123\',\n        repassword: \'123123\'\n      }\n    }\n  );\n\n  //  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      //Creamos un usuario\n      await registerUser(data.email, data.password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n      const {code , message} = erroresFirebase(e.code);\n      setError(code , {message})\n    }\n  }\n  return (\n    <>\n      <Title text="Register"/>\n      <FormError error={errors.firebase} />\n      {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <FormInput\n          type="email"\n          placeholder="Ingrese email"\n\n          {...register("email", {\n            required,\n            pattern: patternEmail\n          })}\n          label="Ingresa tu correo"\n          error={errors.email}\n        >\n          <FormError error={errors.email} />\n        </FormInput>\n\n        <FormInput\n          type="password"\n          placeholder="Ingrese password"\n          {...register("password", {\n            minLength: minLength6,\n            validate: validateTrim\n          })}\n          label="Ingresa tu password"\n          error={errors.password}\n        >\n          <FormError error={errors.password} />\n        </FormInput>\n\n        <FormInput\n          type="password"\n          placeholder="Ingrese password"\n          {...register("repassword", {\n            validate: validateEquals(getValues("password"))\n          })}\n          label="Repite tu password"\n          error={errors.repassword}\n        >\n          <FormError error={errors.repassword} />\n        </FormInput>\n\n        <Button text="Register"/>\n      </form>\n    </>\n  )\n\n}\n\nexport default Register\n\n')),(0,r.kt)("p",null,"Login.jsx  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React, { useContext } from 'react'\nimport { useForm } from 'react-hook-form';\nimport { useNavigate } from 'react-router-dom'\nimport Button from '../components/Button';\nimport FormError from '../components/FormError';\nimport FormInput from '../components/FormInput';\nimport Title from '../components/Title';\nimport { UserContext } from '../context/userProvider'\nimport { erroresFirebase } from '../utils/erroresFirebase';\nimport { formValidate } from '../utils/formValidate';\n\nconst Login = () => {\n\n  const { loginUser } = useContext(UserContext)\n  const { required, patternEmail, minLength6, validateTrim } = formValidate();\n  // Creamos el navigate\n  const navegate = useNavigate();\n  // useForm({valores iniciales})\n  const { register, handleSubmit,  formState: { errors }, setError } = useForm(\n    {\n      defaultValues: {\n        email: 'usuario@tes.com',\n        password: '123123',\n      }\n    }\n  );\n  //  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      //Iniciamos sesion\n      await loginUser(data.email, data.password);\n      //Redirreciono al home\n      navegate(\"/home\")\n    } catch (e) {\n      const {code , message} = erroresFirebase(e.code);\n      setError(code , {message})\n    }\n  }\n  return (\n    <>\n       <Title text=\"Login\"/>\n      <FormError error={errors.firebase} />\n        {/* El hook hace las validaciones , si esta todo bien invoca la funcion onSubmit */}\n      <form onSubmit={handleSubmit(onSubmit)}>\n      <FormInput\n          type=\"email\"\n          placeholder=\"Ingrese email\"\n          {...register(\"email\", {\n            required,\n            pattern: patternEmail\n          })}\n          label=\"Ingresa tu correo\"\n          error={errors.email}\n        >\n          <FormError error={errors.email} />\n        </FormInput>\n        <FormInput\n          type=\"password\"\n          placeholder=\"Ingrese password\"\n          {...register(\"password\", {\n            minLength: minLength6,\n            validate: validateTrim\n          })}\n          label=\"Ingresa tu contrase\xf1a\"\n          error={errors.password}\n        >\n          <FormError error={errors.password} />\n        </FormInput>\n        <Button text=\"Login\"/>\n      </form>\n    </>\n  )\n}\n\nexport default Login\n\n")),(0,r.kt)("h2",{id:"outlet"},"Outlet"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Nos sirve para hacer que dos componentes compartan el mismo layout "),(0,r.kt)("li",{parentName:"ul"},"Se hace con Outlet de react router"),(0,r.kt)("li",{parentName:"ul"},"Nos permite que varios componentes compartan el mismo layout")),(0,r.kt)("p",null,"App.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"return (\n    <>\n\n      <h1>App</h1>\n      <Navbar />\n      <Routes>\n        <Route path=\"/\" element={<LayoutContainerForm/>}>\n          <Route path='/register' element={<Register />}></Route>\n          <Route path='/login' element={<Login />}></Route>\n        </Route>\n        <Route path='/home' element={\n          /* Ruta protegida (Home) */\n          <RequireAuth >\n            <Home />\n          </RequireAuth>\n        }></Route>\n      </Routes >\n\n    </>\n  )\n\n")),(0,r.kt)("p",null,"components/LayoutContainerForm.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react'\nimport { Outlet } from 'react-router-dom'\n\nconst LayoutContainerForm = () => {\n  return (\n    <>\n      <Outlet/>\n    </>\n  )\n}\n\nexport default LayoutContainerForm\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"En Outlet se va a renderizar el componente hijo (que pueden ser Register o Login)"))),(0,r.kt)("h3",{id:"le-aplicamos-dise\xf1o"},"Le aplicamos dise\xf1o"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react'\nimport { Outlet } from 'react-router-dom'\n\nconst LayoutContainerForm = () => {\n  return (\n    <>\n    <div className=\"w-96 mx-auto mt-10\">\n      <Outlet/>\n      </div>\n    </>\n  )\n}\n\nexport default LayoutContainerForm\n\n")),(0,r.kt)("h2",{id:"navbarjsx"},"Navbar.jsx"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://flowbite.com/docs/components/navbar/"},"navbar"),(0,r.kt)("div",{parentName:"li",className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Control + D = Siguiente ocurrencia."))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext } from "react"\nimport { Link, NavLink } from "react-router-dom"\nimport { UserContext } from "../context/userProvider"\n\nconst Navbar = () => {\n    // Obtenemos el valor de la props value del Provider del context\n    // useContext(context)\n    const { user, signOutUser } = useContext(UserContext);\n    const handleClickLogOut = async () => {\n        try {\n            await signOutUser();\n        } catch (error) {\n            console.log(error.code);\n        }\n    }\n    const classButtonBlue = "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-3  dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800";\n    const classButtonRed = "text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-3  dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800";\n    return (\n        <>\n            <nav className="bg-white border-gray-200 px-2 sm:px-4 py-2.5 rounded dark:bg-gray-800">\n                <div className="container flex flex-wrap justify-between items-center mx-auto">\n                    <Link to="/" className="flex items-center">\n                        <span className="self-center text-xl font-semibold whitespace-nowrap dark:text-white">URLShort App</span>\n                    </Link>\n\n                    <div className="flex md:order-2">\n                        {\n                            user ? (<>\n                                <NavLink to="/home" className={classButtonBlue}>Inicio </NavLink>\n                                <button onClick={handleClickLogOut} className={classButtonRed}>Logout</button>\n                            </>\n                            ) : (<>\n                                <NavLink to="/login" className={classButtonBlue}>Login </NavLink>\n                                <NavLink to="/register" className={classButtonBlue}>Register </NavLink>\n                            </>)\n                        }\n\n                    </div>\n                </div>\n\n\n\n            </nav>\n        </>\n    )\n}\n\nexport default Navbar\n\n')),(0,r.kt)("h2",{id:"ruta-protegida-2"},"Ruta protegida #2"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Vamos a hacerlo de la misma manera que el Layout (Outlet)")),(0,r.kt)("p",null,"routes/Perfil.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"\nconst Perfil = () => {\n  return (\n    <div>Perfil</div>\n  )\n}\n\nexport default Perfil\n\n")),(0,r.kt)("h3",{id:"creamos-la-carpeta-layouts-en-components"},"Creamos la carpeta layouts en components"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"RequireAuth lo movemos a components/layouts/ y le cambiamos el nombre a LayoutRequireAuth"),(0,r.kt)("li",{parentName:"ul"},"El LayoutContainerForm deberia estar en esta carpeta tambi\xe9n.")),(0,r.kt)("p",null,"components/layouts/LayoutRequireAuth.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React, { useContext } from 'react'\nimport { Navigate, Outlet } from 'react-router-dom';\nimport { UserContext } from '../../context/userProvider'\n\nconst LayoutRequireAuth = () => {\n    const {user} = useContext(UserContext);\n    // Si no existe el usuario\n    if (!user) {\n        // Redirrecionamos  al login\n      return  <Navigate to=\"/login\" />\n    }\n // Entramos a la ruta protegida\n  return   (\n    <div className=\"container mx-auto\">\n     <Outlet/>\n    </div>\n  )  \n}\n\nexport default LayoutRequireAuth\n\n")),(0,r.kt)("p",null,"App.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useContext } from "react"\nimport { Route, Routes } from "react-router-dom"\nimport LayoutContainerForm from "./components/LayoutContainerForm"\nimport LayoutRequireAuth from "./components/layouts/LayoutRequireAuth"\nimport Navbar from "./components/Navbar"\nimport { UserContext } from "./context/userProvider"\nimport Home from "./routes/Home"\nimport Login from "./routes/Login"\nimport Perfil from "./routes/Perfil"\nimport Register from "./routes/Register"\n\nfunction App() {\n\n  const { user } = useContext(UserContext);\n\n  if (user == false) {\n    return <p>Loading....</p>\n  }\n  return (\n    <>\n      <Navbar />\n      <Routes>\n        <Route path="/" element={<LayoutRequireAuth/>}>\n          {/* Rutas protegidas */}\n          <Route  path="/home" element={<Home />}></Route>\n          <Route path="/perfil" element={<Perfil />}></Route>\n        </Route>\n        <Route path="/" element={<LayoutContainerForm />}>\n          <Route path=\'/register\' element={<Register />}></Route>\n          <Route path=\'/login\' element={<Login />}></Route>\n        </Route>\n      </Routes >\n\n    </>\n  )\n}\n\nexport default App\n\n')),(0,r.kt)("h2",{id:"ruta-404"},"Ruta 404"),(0,r.kt)("p",null,"routes/NotFound.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import Title from "../components/Title"\n\nconst NotFound = () => {\n  return (\n\n    <>\n     <Title text="404"/>\n    </>\n  )\n}\n\nexport default NotFound\n\n')),(0,r.kt)("p",null,"App.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' <Routes>\n        <Route path="/" element={<LayoutRequireAuth />}>\n          <Route path="/home" element={<Home />}></Route>\n          <Route path="/perfil" element={<Perfil />}></Route>\n        </Route>\n        <Route path="/" element={<LayoutContainerForm />}>\n          <Route path=\'/register\' element={<Register />}></Route>\n          <Route path=\'/login\' element={<Login />}></Route>\n        </Route>\n        {/* Ruta 404\n        Cualquier ruta  que no coincida con las anteriores */}\n        <Route path="*" element={<NotFound/>} />\n      </Routes >\n\n')),(0,r.kt)("h2",{id:"button-loading"},"Button loading"),(0,r.kt)("p",null,"components/ButtonLoading.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const ButtonLoading = () => {\n    return (\n        <button\n            disabled\n            type="button"\n            className="py-2.5 px-5 mr-2 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 inline-flex items-center"\n        >\n            <svg\n                role="status"\n                className="inline w-4 h-4 mr-2 text-gray-200 animate-spin dark:text-gray-600"\n                viewBox="0 0 100 101"\n                fill="none"\n                xmlns="http://www.w3.org/2000/svg"\n            >\n                <path\n                    d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"\n                    fill="currentColor"\n                />\n                <path\n                    d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"\n                    fill="#1C64F2"\n                />\n            </svg>\n            Loading...\n        </button>\n    );\n};\n\nexport default ButtonLoading;\n\n')),(0,r.kt)("p",null,"Login.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const [loading , setLoading] = useState(false);\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' //  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      setLoading(true);\n      //Iniciamos sesion\n      await loginUser(data.email, data.password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n      const {code , message} = erroresFirebase(e.code);\n      setError(code , {message})\n    } finally {\n      setLoading(false);\n    }\n  }\n\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' { \n          loading ? <ButtonLoading/> :   <Button text="Login"/>\n        }\n      \n      </form>\n\n')),(0,r.kt)("p",null,"Register.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," const [loading , setLoading] = useState(false);\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'  //  data = un objeto con los input registrados\n  const onSubmit = async (data) => {\n    try {\n      setLoading(true);\n      //Creamos un usuario\n      await registerUser(data.email, data.password);\n      //Redirreciono al home\n      navegate("/home")\n    } catch (e) {\n      const {code , message} = erroresFirebase(e.code);\n      setError(code , {message})\n    } finally {\n      setLoading(false);\n    }\n  }\n\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' {  loading ? <ButtonLoading/> :  <Button text="Register"/> }\n       \n      </form>\n\n')),(0,r.kt)("h2",{id:"firestore-bd"},"Firestore BD"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Firebase tiene dos BD."),(0,r.kt)("li",{parentName:"ul"},"RealTime se invento primero y luego surgio FireStore "),(0,r.kt)("li",{parentName:"ul"},"Ambas trabajan en tiempo real.")),(0,r.kt)("h3",{id:"realtime"},"RealTime"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es  parecido a Json "),(0,r.kt)("li",{parentName:"ul"},"Podemos trabajar a trav\xe9s de una REST API en un futuro ")),(0,r.kt)("h3",{id:"firestore"},"Firestore"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Trabaja a trav\xe9s de documento")),(0,r.kt)("h3",{id:"sitio-de-firebase"},"Sitio de Firebase"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"FireStore Database \u2013 Create database \u2013 en test mode (dura 30 dias) \u2013 habilitar"),(0,r.kt)("li",{parentName:"ol"},"Inicia una colecci\xf3n (Iniciar colecci\xf3n = Crear colecci\xf3n)")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicacion como si fuera relacional ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Una colecci\xf3n es igual a una tabla."),(0,r.kt)("li",{parentName:"ul"},"Collection ID = nombre de la tabla")))),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Agregamos un documento en la colecci\xf3n.")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicacion como si fuera relacional ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Un documento es igual a una fila de la tabla."),(0,r.kt)("li",{parentName:"ul"},"Podes generar una ID aleatoria en Document ID"),(0,r.kt)("li",{parentName:"ul"},"Los campos(fields) de un documento serian las columnas de una fila"),(0,r.kt)("li",{parentName:"ul"},"A diferencia de una BD relacional, dos filas pueden tener diferentes campos(columnas) de datos (en una fila el campo es name y en otra el campo es nombre)"),(0,r.kt)("li",{parentName:"ul"},"Cada campo(columna) contiene un nombre, el tipo de dato y el valor.")))),(0,r.kt)("p",null,'Ejemplo(campo "valor"):'),(0,r.kt)("p",null,'nanoid "xM6S6Z"'),(0,r.kt)("p",null,'origin "',(0,r.kt)("a",{parentName:"p",href:"https://firebase.google.com/docs/firestore/quickstart?hl=es#initialize%22"},'https://firebase.google.com/docs/firestore/quickstart?hl=es#initialize"')),(0,r.kt)("p",null,'uid ""'),(0,r.kt)("p",null,"Guardar"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"proyecto de crear un short de una url")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"El Document ID es igual al nanoid"),(0,r.kt)("li",{parentName:"ul"},"nanoid: Es el id del documento y el short de la url"),(0,r.kt)("li",{parentName:"ul"},"origin : La url a la que va a redirrecionar el short. El short apunta a esta url."),(0,r.kt)("li",{parentName:"ul"},"uid : La ID del usuario que creo el short")))),(0,r.kt)("h3",{id:"en-el-proyecto-2"},"En el proyecto"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/quickstart?hl=es"},"link"))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Instalar firebase(ya lo hicimos)"),(0,r.kt)("li",{parentName:"ol"},"Importamos Firestore y lo configuramos en firebase.js")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\nimport { initializeApp } from "firebase/app";\nimport { getAuth } from "firebase/auth";\nimport { getFirestore } from "firebase/firestore";\n\n// Your web app\'s Firebase configuration\nconst firebaseConfig = {\n  apiKey: "XXX",\n  authDomain: "XXX",\n  projectId: "XXX",\n  storageBucket: "XXX",\n  messagingSenderId: "XXX",\n  appId: "XXX"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\n// getFirestore(appFirebase)\nconst db = getFirestore(app);\nexport {auth , db}\n\n')),(0,r.kt)("h2",{id:"getdocs"},"getDocs"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"getDocs es un m\xe9todo para leer todos los documentos de una colecci\xf3n."),(0,r.kt)("li",{parentName:"ul"},"Para manipular los documentos creamos un hook."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/quickstart?hl=es#read_data"},"link"))),(0,r.kt)("p",null,"hooks/useFirestore.js"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"El hook sirve para reutilizar l\xf3gica."),(0,r.kt)("li",{parentName:"ul"},"Utilizamos la constante db para especificar en que proyecto debe usar la BD. (LO MISMO QUE AUTH)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { collection, getDocs } from "firebase/firestore";\nimport { useEffect, useState } from "react"\nimport { db } from "../firebase";\n\nexport const useFirestore = () => {\n  const [data, setData] = useState([]);\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n       getData();\n  } , [])\n\n  const getData = async () => {\n    try {\n      setLoading(true);\n      //  getDocs(metodo collection)\n      //  collection(db , "nombre_collecion")\n      // db = configuracion de la bd   de firebase.js\n      const query = await getDocs(collection(db, "urls"));\n      // A la propiedad docs le podemos a\xf1adir el metodo map() del array\n     const dataDB =  query.docs.map(doc => (\n        // doc tiene la propiedad id (devuelve la id) y el metodo data (devuelve la informacion)\n        doc.data()\n      ))\n      setData(dataDB);\n    } catch (error) {\n      console.log(error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return {\n       data , error , loading\n  }\n}\n\n')),(0,r.kt)("p",null,"Home.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import Title from "../components/Title"\nimport { useFirestore } from "../hooks/useFirestore"\n\nconst Home = () => {\n  const {data , error , loading} = useFirestore()\n  if (loading) return <p>Loading data...</p>\n  if (error) return <p>{error}</p>\n  console.log(data)\n  return (\n    <>\n    <Title text="Home"/>\n    {\n      data.map(item => (\n        <div key={item.nanoid}>\n          <p>{item.nanoid}</p>\n          <p>{item.origin}</p>\n          <p>{item.uid}</p>\n        </div>\n      ))\n    }\n    </>\n  )\n}\n\nexport default Home\n\n')),(0,r.kt)("h2",{id:"where"},"Where"),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Las reglas de seguridad de firebase no son filtros , el where lo a\xf1adis vos."))),(0,r.kt)("p",null,"useFirestore.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { collection, getDocs, query, where } from "firebase/firestore";\nimport { useEffect, useState } from "react"\nimport { db } from "../firebase";\n\nexport const useFirestore = () => {\n  const [data, setData] = useState([]);\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n       getData();\n  } , [])\n\n  const getData = async () => {\n    try {\n      setLoading(true);\n      // Creamos una referencia con el metodo collection\n      const dataRef = collection(db, "urls");\n      // query(referencia , metodo where )\n      //where(campo a filtrar , "==" , valor);\n      // where campo_a_filtro == valor\n      const q = query(dataRef , where("uid" , "==" , "EV8w1BcEXiTkoyXqlrwF2jBdy4u2"))\n      // Ejecutamos la consulta con el where\n      const querySnapshot = await getDocs(q);\n     const dataDB =  querySnapshot.docs.map(doc => (\n        doc.data()\n      ))\n      setData(dataDB);\n    } catch (error) {\n      console.log(error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return {\n       data , error , loading\n  }\n}\n\n')),(0,r.kt)("h3",{id:"informacion-del-usuario-activo"},"Informacion del usuario activo"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Se encuentra en el auth.currentUser.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { auth } from "../firebase"\n  console.log(auth.currentUser);\n\n')),(0,r.kt)("h3",{id:"para-hacer-el-filtro-din\xe1micamente"},"Para hacer el filtro din\xe1micamente"),(0,r.kt)("p",null,"Entonces cambiamos una parte del c\xf3digo de useFirestore.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { collection, getDocs, query, where } from "firebase/firestore";\nimport { useEffect, useState } from "react"\nimport { auth, db } from "../firebase";\n\nexport const useFirestore = () => {\n  const [data, setData] = useState([]);\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n\n       getData();\n  } , [])\n\n  const getData = async () => {\n    try {\n      setLoading(true);\n      // Creamos una referencia con el metodo collection\n      const dataRef = collection(db, "urls");\n      // query(referencia , metodo where )\n      //where(campo a filtrar , "==" , valor);\n      // where campo_a_filtro == valor\n      const q = query(dataRef , where("uid" , "==" , auth.currentUser.uid))\n\n')),(0,r.kt)("h2",{id:"add-doc"},"Add Doc"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/manage-data/add-data?hl=es#add_a_document"},"link")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/nanoid"}," modulo para generar la id")),(0,r.kt)("li",{parentName:"ul"},"Podes Agregar un documento con los m\xe9todos set y add",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"m\xe9todo set: A\xf1ade un documento, especificando la id (no se genera de forma autom\xe1tica) y los datos correspondientes "),(0,r.kt)("li",{parentName:"ul"},"m\xe9todo add: A\xf1ade un documento y la id se genera autom\xe1ticamente")))),(0,r.kt)("p",null,"   useFirestore.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm i nanoid\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { collection, getDocs, query, where , doc, setDoc } from "firebase/firestore";\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"  const addData = async(url) => {\n     try{\n      setLoading(true);\n    \n      // Creamos un objeto con los datos que se van a guardar\n      const newDoc = {\n          enabled:true ,\n           nanoid:  nanoid(6),\n           origin:url,\n           uid:auth.currentUser.uid\n\n      }\n      // Creamos la referencia\n      // doc(db , collecion , id del documento a crear)\n      const docRef = doc(db , 'urls' , newDoc.nanoid);\n      // Creamos el documento\n      //setDoc(referencia , datos del documento)\n      await setDoc(docRef , newDoc);\n      setData([...data, newDoc ])\n     }catch(error){\n      setError(error.message);\n     } finally {\n      setLoading(false);\n     }\n   }\n  return {\n       data , error , loading , getData , addData\n  }\n\n")),(0,r.kt)("p",null,"Home.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useEffect, useState } from "react"\nimport Title from "../components/Title"\nimport { useFirestore } from "../hooks/useFirestore"\n\nconst Home = () => {\n  const {data , error , loading , getData , addData} = useFirestore()\n  const [text , setText] = useState(\'\');\n  useEffect(() => {\n   \n    getData();\n  } , [])\n  if (loading) return <p>Loading data...</p>\n  if (error) return <p>{error}</p>\n  const handleSubmit =async(e)  => {\n    e.preventDefault();\n    await addData(text)\n    setText(\'\');\n  }\n  return (\n    <>\n    <Title text="Home"/>\n    <form onSubmit={handleSubmit}>\n      <input\n        type="text"\n        placeholder="ex: http://youtube.com" \n        onChange={e => setText(e.target.value)}\n        value={text}\n        />\n          <button type="submit">ADD URL</button>\n    </form>\n    {\n      data.map(item => (\n        <div key={item.nanoid}>\n          <p>{item.nanoid}</p>\n          <p>{item.origin}</p>\n          <p>{item.uid}</p>\n        </div>\n      ))\n    }\n    </>\n  )\n}\n\nexport default Home\n\n')),(0,r.kt)("h2",{id:"loading-parametro-set-de-usestate"},"Loading (Parametro set de useState)"),(0,r.kt)("p",null,"useFirestore.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { collection, getDocs, query, where, doc, setDoc } from "firebase/firestore";\nimport { nanoid } from "nanoid";\nimport { useState } from "react"\nimport { auth, db } from "../firebase";\n\nexport const useFirestore = () => {\n  const [data, setData] = useState([]);\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState({});\n\n\n\n  const getData = async () => {\n    try {\n      //usamos un callback en el setLoading cuyo parametro es el valor "actual" (antes de modificarse) del estado\n      setLoading(valorAnterior => ({ ...valorAnterior, getData: true }))\n\n      const dataRef = collection(db, "urls");\n\n      const q = query(dataRef, where("uid", "==", auth.currentUser.uid))\n      const querySnapshot = await getDocs(q);\n      const dataDB = querySnapshot.docs.map(doc => (\n        doc.data()\n      ))\n      setData(dataDB);\n    } catch (error) {\n      console.log(error);\n      setError(error.message);\n    } finally {\n       //usamos un callback en el setLoading cuyo parametro es el valor "actual" (antes de modificarse) del estado\n       setLoading(valorAnterior => ({ ...valorAnterior, getData: false }))\n    }\n  }\n  const addData = async (url) => {\n    try {\n      //usamos un callback en el setLoading cuyo parametro es el valor "actual" (antes de modificarse) del estado\n      setLoading(valorAnterior => ({ ...valorAnterior, addData: true }))\n\n      const newDoc = {\n        enabled: true,\n        nanoid: nanoid(6),\n        origin: url,\n        uid: auth.currentUser.uid\n\n      }\n\n      const docRef = doc(db, \'urls\', newDoc.nanoid);\n      await setDoc(docRef, newDoc);\n      setData([...data, newDoc])\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      //usamos un callback en el setLoading cuyo parametro es el valor "actual" (antes de modificarse) del estado\n      setLoading(valorAnterior => ({ ...valorAnterior, addData: false }))\n    }\n  }\n  return {\n    data, error, loading, getData, addData\n  }\n}\n\n')),(0,r.kt)("p",null,"Button.jsx"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Control + D = Siguiente ocurrencia"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import ButtonLoading from './ButtonLoading';\n\nconst Button = ({ text, color = 'purple'  , loading}) => {\n    if (loading) return <ButtonLoading/>\n    return (\n        <button\n            type=\"submit\"\n            className={`focus:outline-none text-white bg-${color}-700 hover:bg-${color}-800 focus:ring-4 focus:ring-${color}-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-${color}-600 dark:hover:bg-${color}-700 dark:focus:ring-${color}-900 ml-5`}\n        >\n            {text}\n        </button>\n    )\n}\n\nexport default Button\n\n")),(0,r.kt)("p",null,"Home.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useEffect, useState } from "react"\nimport Button from "../components/Button"\nimport Title from "../components/Title"\nimport { useFirestore } from "../hooks/useFirestore"\n\nconst Home = () => {\n  const {data , error , loading , getData , addData} = useFirestore()\n  const [text , setText] = useState(\'\');\n  useEffect(() => {\n   \n    getData();\n  } , [])\n  if (loading.getData) return <p>Loading data...</p>\n  if (error) return <p>{error}</p>\n  const handleSubmit =async(e)  => {\n    e.preventDefault();\n    await addData(text)\n    setText(\'\');\n  }\n  return (\n    <>\n    <Title text="Home"/>\n    <form onSubmit={handleSubmit}>\n      <input\n        type="text"\n        placeholder="ex: http://youtube.com" \n        onChange={e => setText(e.target.value)}\n        value={text}\n        />\n          <Button text="ADD URL"  color="blue" loading={loading.addData} />\n    </form>\n    {\n      data.map(item => (\n        <div key={item.nanoid}>\n          <p>{item.nanoid}</p>\n          <p>{item.origin}</p>\n          <p>{item.uid}</p>\n        </div>\n      ))\n    }\n    </>\n  )\n}\n\nexport default Home\n\n')),(0,r.kt)("p",null,"Login.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' <Button text="Login" loading={loading}/>\n        \n      \n      </form>\n\n')),(0,r.kt)("p",null,"Register.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'  <Button text="Register" loading={loading}/> \n       \n      </form>\n\n')),(0,r.kt)("h2",{id:"delete-doc"},"Delete doc"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/manage-data/delete-data?hl=es#delete_documents"},"link")),(0,r.kt)("li",{parentName:"ul"},"Para eliminar un elemento se utiliza la ID del documento.")),(0,r.kt)("p",null,"Firestore.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { collection, getDocs, query, where, doc, setDoc, deleteDoc } from "firebase/firestore";\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," const deleteData = async(nanoid) => {\n    try {\n     \n      setLoading(valorAnterior => ({ ...valorAnterior, [nanoid]: true }))\n      // Creamos la referencia del documento\n      // doc(db , collecion , id del documento)\n      const docRef = doc(db, 'urls', nanoid);\n     //Eliminamos\n     await deleteDoc(docRef);\n     setData(data.filter(item => item.nanoid !== nanoid))\n   \n    } catch (error) {\n      setError(error.message);\n      console.log(error);\n    } finally {\n     \n      setLoading(valorAnterior => ({ ...valorAnterior, deleteData: false }))\n    }\n  }\n  return {\n    data, error, loading, getData, addData , deleteData\n  }\n\n")),(0,r.kt)("p",null,"Button.jsx "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Los eventos hay que manipularlo en los componentes que lo generan y no en un componente padre."),(0,r.kt)("li",{parentName:"ul"},"Por lo tanto la mejor opcion es manejarla con props.")),(0,r.kt)("p",null,"Button.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import ButtonLoading from './ButtonLoading';\n\nconst Button = ({ text, color = 'purple'  , loading , onclick}) => {\n    if (loading) return <ButtonLoading/>\n    return (\n        <button\n            onClick={onclick}\n            type=\"submit\"\n            className={`focus:outline-none text-white bg-${color}-700 hover:bg-${color}-800 focus:ring-4 focus:ring-${color}-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-${color}-600 dark:hover:bg-${color}-700 dark:focus:ring-${color}-900 ml-5`}\n        >\n            {text}\n        </button>\n    )\n}\n\nexport default Button\n\n")),(0,r.kt)("p",null,"Home.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useEffect, useState } from "react"\nimport Button from "../components/Button"\nimport Title from "../components/Title"\nimport { useFirestore } from "../hooks/useFirestore"\n\nconst Home = () => {\n  const {data , error , loading , getData , addData , deleteData} = useFirestore()\n  const [text , setText] = useState(\'\');\n  useEffect(() => {\n   \n    getData();\n  } , [])\n  if (loading.getData) return <p>Loading data...</p>\n  if (error) return <p>{error}</p>\n  const handleSubmit =async(e)  => {\n    e.preventDefault();\n    await addData(text)\n    setText(\'\');\n  }\n  const handleClickDelete = async(nanoid) => {\n    await deleteData(nanoid);\n    console.log("eliminado");\n  }\n  return (\n    <>\n    <Title text="Home"/>\n    <form onSubmit={handleSubmit}>\n      <input\n        type="text"\n        placeholder="ex: http://youtube.com" \n        onChange={e => setText(e.target.value)}\n        value={text}\n        />\n          <Button text="ADD URL"  color="blue" loading={loading.addData} />\n    </form>\n    {\n      data.map(item => (\n        <div key={item.nanoid}>\n          <p>{item.nanoid}</p>\n          <p>{item.origin}</p>\n          <p>{item.uid}</p>\n          <Button \n          text="Eliminar"\n          color="red"\n          loading={loading[item.nanoid]} \n          onclick={() => handleClickDelete(item.nanoid)}\n          />\n        </div>\n      ))\n    }\n    </>\n  )\n}\n\nexport default Home\n\n')),(0,r.kt)("h2",{id:"update-doc"},"Update Doc"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/manage-data/add-data?hl=es#update-data"},"link"))),(0,r.kt)("p",null,"useFirestore.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { collection, getDocs, query, where, doc, setDoc, deleteDoc, updateDoc } from "firebase/firestore";\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const updateData = async(nanoid , origin) => {\n    try {\n      setLoading(valorAnterior => ({ ...valorAnterior, updateData: true }))\n      // Creamos la referencia del documento\n      // doc(db , collecion , id del documento)\n      const docRef = doc(db, 'urls', nanoid);\n     //Modificamos\n     // updateDoc(referencia , {datos a actualizar})\n     await updateDoc(docRef , {origin });\n     setData(data.map(item => item.nanoid === nanoid ? ({...item , origin}) : item ))\n   \n    } catch (error) {\n      setError(error.message);\n      console.log(error);\n    } finally {\n     \n      setLoading(valorAnterior => ({ ...valorAnterior, updateData: false }))\n    }\n  }\n  return {\n    data, error, loading, getData, addData , deleteData , updateData\n  }\n\n")),(0,r.kt)("p",null,"Home.jsx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useEffect, useState } from "react"\nimport Button from "../components/Button"\nimport Title from "../components/Title"\nimport { useFirestore } from "../hooks/useFirestore"\n\nconst Home = () => {\n  const {data , error , loading , getData , addData , deleteData , updateData} = useFirestore()\n\n  const [text , setText] = useState(\'\');\n  const [newOriginID , setNewOriginID] = useState();\n  useEffect(() => {\n   \n    getData();\n  } , [])\n  if (loading.getData) return <p>Loading data...</p>\n  if (error) return <p>{error}</p>\n  const handleSubmit =async(e)  => {\n    e.preventDefault();\n    if (newOriginID) {\n      await updateData(newOriginID , text);\n      setNewOriginID(\'\');\n      setText(\'\');\n      return;\n    }\n    await addData(text)\n    setText(\'\');\n  }\n  const handleClickDelete = async(nanoid) => {\n   \n    await deleteData(nanoid);\n    console.log("eliminado");\n  }\n  const handleClickEdit = async(item) => {\n    \n    setText(item.origin);\n    setNewOriginID(item.nanoid)\n  }\n  return (\n    <>\n    <Title text="Home"/>\n    <form onSubmit={handleSubmit}>\n      <input\n        type="text"\n        placeholder="ex: http://youtube.com" \n        onChange={e => setText(e.target.value)}\n        value={text}\n        />\n        {\n          newOriginID ? (\n            <Button text="EDITAR URL"  color="yellow" loading={loading.updateData} />\n          ):   <Button text="ADD URL"  color="blue" loading={loading.addData} />\n        }\n       \n    </form>\n    {\n      data.map(item => (\n        <div key={item.nanoid}>\n          <p>{item.nanoid}</p>\n          <p>{item.origin}</p>\n          <p>{item.uid}</p>\n          <Button \n          text="Eliminar"\n          color="red"\n          loading={loading[item.nanoid]} \n          onclick={() => handleClickDelete(item.nanoid)}\n          />    \n           <Button \n          text="Editar"\n          color="yellow"\n          onclick={() => handleClickEdit(item)}\n          />\n        </div>\n      ))\n    }\n    </>\n  )\n}\n\nexport default Home\n\n')),(0,r.kt)("h2",{id:"problemas-botones"},"PROBLEMAS BOTONES"),(0,r.kt)("h3",{id:"interpolaci\xf3n-colores-tailwind"},"interpolaci\xf3n colores tailwind"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/66330112/tailwind-custom-colors-not-complied"},"link"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Tailwind no compila las clases definidas con la interpolaci\xf3n (din\xe1micas)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Tailwind Lee el archivo sin detectar el valor de una variable pasada (ej. color en el proyecto)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"TAILWIND solo utiliza las clases que se implementan, si no la detecta en el archivo no la compila y por lo tanto provoca el error que nos estaba pasando."))),(0,r.kt)("p",null,"Button.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import ButtonLoading from \'./ButtonLoading\';\n\nconst Button = ({ text, color = \'purple\'  , loading , onclick}) => {\n    if (loading) return <ButtonLoading/>\n    const classButtonBase =\n        "focus:outline-none text-white focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 ml-5 ";\n\n    let classButtonColor;\n    if (color === "indigo") {\n        classButtonColor =\n            "bg-indigo-700 hover:bg-indigo-800 focus:ring-indigo-300 dark:bg-indigo-600 dark:hover:bg-indigo-700 dark:focus:ring-indigo-900";\n    }\n    if (color === "pink") {\n        classButtonColor =\n            "bg-pink-700 hover:bg-pink-800 focus:ring-pink-300 dark:bg-pink-600 dark:hover:bg-pink-700 dark:focus:ring-pink-900";\n    }\n    if (color === "purple") {\n        classButtonColor =\n            "bg-purple-700 hover:bg-purple-800 focus:ring-purple-300 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900";\n    }\n    if (color === "red") {\n        classButtonColor =\n            "bg-red-700 hover:bg-red-800 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900";\n    }\n    if (color === "blue") {\n        classButtonColor =\n            "bg-blue-700 hover:bg-blue-800 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-900";\n    }\n    if (color === "green") {\n        classButtonColor =\n            "bg-green-700 hover:bg-green-800 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-900";\n    }\n    if (color === "yellow") {\n        classButtonColor =\n            "bg-yellow-400 hover:bg-yellow-700 focus:ring-yellow-300 dark:bg-yellow-600 dark:hover:bg-yellow-700 dark:focus:ring-yellow-900";\n    }\n    return (\n        <button\n            onClick={onclick}\n            type="submit"\n            className={classButtonBase + classButtonColor }\n        >\n            {text}\n        </button>\n    )\n}\n\nexport default Button\n\n')),(0,r.kt)("h3",{id:"separacion-entre-botones"},"Separacion entre botones"),(0,r.kt)("p",null,"Home.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' {\n      data.map(item => (\n        <div key={item.nanoid}>\n          <p>{item.nanoid}</p>\n          <p>{item.origin}</p>\n          <p>{item.uid}</p>\n          <div className="flex space-x-2">\n          <Button \n          text="Eliminar"\n          color="red"\n          loading={loading[item.nanoid]} \n          onclick={() => handleClickDelete(item.nanoid)}\n          />    \n           <Button \n          text="Editar"\n          color="yellow"\n          onclick={() => handleClickEdit(item)}\n          />\n          </div>\n        </div>\n      ))\n    }\n\n')),(0,r.kt)("h2",{id:"hook-form-home"},"Hook Form Home"),(0,r.kt)("p",null,"utils/formValidate.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'export const formValidate = () => {\n    return {\n        required: { value: true, message: \'Campo obligatorio\' },\n        patternEmail: {\n            value: /[a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,15})/,\n            message: "Formato de email incorrecto"\n        },\n        patternURL: { \n            value: /^https?:\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+[\\#?]?.*$/,\n            message: "Formato url incorrecto"\n        } ,\n        minLength6: { value: 6, message: "Minimo 6 caracteres" },\n        // v es igual al valor del campo\n        validateTrim: {\n\n            trim: v => {\n                if (!v.trim()) return "Escribe algo";\n                return true;\n            }\n        },\n        validateEquals(value) {\n            return {\n                equals: v => v === value || "No coincide la contrase\xf1a"\n            }\n        }\n    }\n}\n\n')),(0,r.kt)("p",null,"Home.jsx"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"usamos resetField para resetear el campo y setValue  para asignar el valor de un campo"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useEffect, useState } from "react"\nimport Button from "../components/Button"\nimport FormError from "../components/FormError"\nimport FormInput from "../components/FormInput"\nimport Title from "../components/Title"\nimport { useFirestore } from "../hooks/useFirestore"\nimport { formValidate } from "../utils/formValidate"\nimport { useForm } from \'react-hook-form\';\n\nconst Home = () => {\n\n  const { required , patternURL} = formValidate();\n\n  const { register, handleSubmit,  formState: { errors } , resetField , setValue } = useForm();\n\n  const {data , error , loading , getData , addData , deleteData , updateData} = useFirestore()\n\n \n  const [newOriginID , setNewOriginID] = useState();\n  useEffect(() => {\n   \n    getData();\n  } , [])\n  if (loading.getData) return <p>Loading data...</p>\n  if (error) return <p>{error}</p>\n\n  const onSubmit =async({url})  => {\n    if (newOriginID) {\n      await updateData(newOriginID , url);\n      setNewOriginID(\'\');\n      \n    } else {\n      await addData(url)\n  \n    }\n    // Reseteamos el campo url\n    // resetField("nombrecampo")\n    resetField("url");\n   \n  }\n  const handleClickDelete = async(nanoid) => {\n   \n    await deleteData(nanoid);\n    console.log("eliminado");\n  }\n  const handleClickEdit = async(item) => {\n    //Le asignamos un nuevo valor al campo URL\n    // setValue("nombrecampo" , nuevo valor)\n    setValue("url" , item.origin)\n    \n    setNewOriginID(item.nanoid)\n  }\n  return (\n    <>\n    <Title text="Home"/>\n    <form onSubmit={handleSubmit(onSubmit)}>\n    <FormInput\n          type="text"\n          placeholder="https://youtube.com"\n          {...register("url", {\n            required, pattern: patternURL\n           \n          })}\n          label="Ingresa tu URL"\n          error={errors.url}\n        >\n          <FormError error={errors.url} />\n        </FormInput>\n\n        {\n          newOriginID ? (\n            <Button text="EDITAR URL"  color="yellow" loading={loading.updateData} />\n          ):   <Button text="ADD URL"  color="blue" loading={loading.addData} />\n        }\n       \n    </form>\n    {\n      data.map(item => (\n        <div key={item.nanoid}>\n          <p>{item.nanoid}</p>\n          <p>{item.origin}</p>\n          <p>{item.uid}</p>\n          <div className="flex space-x-2">\n          <Button \n          text="Eliminar"\n          color="red"\n          loading={loading[item.nanoid]} \n          onclick={() => handleClickDelete(item.nanoid)}\n          />    \n           <Button \n          text="Editar"\n          color="yellow"\n          onclick={() => handleClickEdit(item)}\n          />\n          </div>\n        </div>\n      ))\n    }\n    </>\n  )\n}\n\nexport default Home\n\n')),(0,r.kt)("h2",{id:"card-flowbite"},"Card flowbite"),(0,r.kt)("p",null,"Home.jsx"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.w3schools.com/js/js_window_location.asp"},"Utilizamos window.location "))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' // window.location.href =  La url en la que estas\n  const pathURL  = window.location.href + "/"\n  console.log(\'pathURL\' , pathURL )\n  return (\n    <>\n      <Title text="Home" />\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <FormInput\n          type="text"\n          placeholder="https://youtube.com"\n          {...register("url", {\n            required, pattern: patternURL\n\n          })}\n          label="Ingresa tu URL"\n          error={errors.url}\n        >\n          <FormError error={errors.url} />\n        </FormInput>\n\n        {\n          newOriginID ? (\n            <Button text="EDITAR URL" color="yellow" loading={loading.updateData} />\n          ) : <Button text="ADD URL" color="blue" loading={loading.addData} />\n        }\n\n      </form>\n      {\n        data.map(item => (\n          <div key={item.nanoid} className="p-6 bg-white rounded-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700 mb-3">\n            <h5 className="mb-2 text-xl font-bold tracking-tight text-gray-900 dark:text-white">{pathURL}{item.nanoid}</h5>\n            <p className="mb-3 font-normal text-gray-700 dark:text-gray-400">{item.origin}</p>\n            <div className="flex space-x-2">\n              <Button\n                text="Eliminar"\n                color="red"\n                loading={loading[item.nanoid]}\n                onclick={() => handleClickDelete(item.nanoid)}\n              />\n              <Button\n                text="Editar"\n                color="yellow"\n                onclick={() => handleClickEdit(item)}\n              />\n            </div>\n          </div>\n        ))\n      }\n    </>\n  )\n\n')),(0,r.kt)("h2",{id:"handleclickcopy"},"handleClickCopy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/clipboard"},"Navigator")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/Clipboard"},"ClipBoard object"))),(0,r.kt)("p",null,"Home.jsx"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const Home = () => {\n\n  const { required, patternURL } = formValidate();\n\n  const { register, handleSubmit, formState: { errors }, resetField, setValue } = useForm();\n\n  const { data, error, loading, getData, addData, deleteData, updateData } = useFirestore()\n\n  const [newOriginID, setNewOriginID] = useState();\n  const [copy, setCopy] = useState({});\n  useEffect(() => {\n\n    getData();\n  }, [])\n  if (loading.getData) return <p>Loading data...</p>\n  if (error) return <p>{error}</p>\n\n  const onSubmit = async ({ url }) => {\n    if (newOriginID) {\n      await updateData(newOriginID, url);\n      setNewOriginID(\'\');\n\n    } else {\n      await addData(url)\n\n    }\n    // Reseteamos el campo url\n    // resetField("nombrecampo")\n    resetField("url");\n\n  }\n  const handleClickDelete = async (nanoid) => {\n\n    await deleteData(nanoid);\n    console.log("eliminado");\n  }\n  const handleClickEdit = async (item) => {\n    //Le asignamos un nuevo valor al campo URL\n    // setValue("nombrecampo" , nuevo valor)\n    setValue("url", item.origin)\n\n    setNewOriginID(item.nanoid)\n  }\n\n  const pathURL = window.location.href + "/"\n  const handleClickCopy = async (nanoid) => {\n    //Devuelve una promesa por eso usamos el await\n    //writeText(texto)\n    // el texto se copiara en el portapapeles\n    await navigator.clipboard.writeText(pathURL + nanoid)\n    setCopy({ [nanoid]: true })\n  }\n  return (\n    <>\n      <Title text="Home" />\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <FormInput\n          type="text"\n          placeholder="https://youtube.com"\n          {...register("url", {\n            required, pattern: patternURL\n\n          })}\n          label="Ingresa tu URL"\n          error={errors.url}\n        >\n          <FormError error={errors.url} />\n        </FormInput>\n\n        {\n          newOriginID ? (\n            <Button text="EDITAR URL" color="yellow" loading={loading.updateData} />\n          ) : <Button text="ADD URL" color="blue" loading={loading.addData} />\n        }\n\n      </form>\n      {\n        data.map(item => (\n          <div key={item.nanoid} className="p-6 bg-white rounded-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700 mb-3">\n            <h5 className="mb-2 text-xl font-bold tracking-tight text-gray-900 dark:text-white">{pathURL}{item.nanoid}</h5>\n            <p className="mb-3 font-normal text-gray-700 dark:text-gray-400">{item.origin}</p>\n            <div className="flex space-x-2">\n              <Button\n                text="Eliminar"\n                color="red"\n                loading={loading[item.nanoid]}\n                onclick={() => handleClickDelete(item.nanoid)}\n              />\n              <Button\n                text="Editar"\n                color="yellow"\n                onclick={() => handleClickEdit(item)}\n              />\n              <Button\n                text={copy[item.nanoid] ? "Copiado" : "Copiar"}\n                color="blue"\n                onclick={() => handleClickCopy(item.nanoid)}\n              />\n            </div>\n          </div>\n        ))\n      }\n    </>\n  )\n}\n\n')),(0,r.kt)("h2",{id:"redirect-params-en-la-url--getdoc"},"Redirect (params en la url) / getDoc"),(0,r.kt)("p",null,"App.jsx "),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Variable en la url ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Sintaxis  ruta/:nombrevariable"),(0,r.kt)("li",{parentName:"ul"},"Si entramos a ruta/a58d6"),(0,r.kt)("li",{parentName:"ul"},"el valor de nombrevariable es a58d6")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'return (\n    <>\n      <Navbar />\n      <Routes>\n        <Route path="/" element={<LayoutRequireAuth />}>\n          <Route path="/home" element={<Home />}></Route>\n          <Route path="/perfil" element={<Perfil />}></Route>\n        </Route>\n        <Route path="/" element={<LayoutContainerForm />}>\n          <Route path=\'/register\' element={<Register />}></Route>\n          <Route path=\'/login\' element={<Login />}></Route>\n        </Route>\n         {/* :nombrevariable */}\n        <Route path="/home/:nanoid" element={<LayoutRedirect/>}>\n        <Route index element={<NotFound/>} />\n        </Route>\n        <Route path="*" element={<NotFound/>} />\n      </Routes >\n\n    </>\n  )\n\n')),(0,r.kt)("p",null,"hooks/useFirestore.js"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/query-data/get-data?hl=es#get_a_document"},"Obtener un documento"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," const searchData = async (nanoid) => {\n    try {\n      // Creamos la referencia del documento\n      // doc(db , collecion , id del documento)\n      const docRef = doc(db, 'urls', nanoid);\n      // Buscamos un documento \n      // where ID = nanoid\n      const docSnap = await getDoc(docRef);\n\n      return docSnap;\n\n    } catch (error) {\n      setError(error.message);\n      console.log(error);\n    }\n  }\n  return {\n    data, error, loading, getData, addData, deleteData, updateData, searchData\n  }\n\n")),(0,r.kt)("p",null,"layouts/LayoutRedirect.jsx"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Usamos useParams() para leer los par\xe1metros(variables) de la url."),(0,r.kt)("li",{parentName:"ul"},"Nos devuelve un objeto donde cada propiedad es un par\xe1metro de la url con su valor correspondiente."),(0,r.kt)("li",{parentName:"ul"},"Usamos el m\xe9todo exists() que lo contiene el documento extra\xeddo de la BD , para comprobar si existe.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { useEffect, useState } from "react";\nimport { Outlet , useParams} from "react-router-dom"\nimport { useFirestore } from "../../hooks/useFirestore"\nimport Title from "../Title";\n\nconst LayoutRedirect = () => {\n    const params = useParams()\n    const {searchData} = useFirestore();\n    const [loading , setLoading] = useState(true);\n    useEffect(() => {\n        // Nos devuelve una promesa\n        searchData(params.nanoid)\n        // En la respuesta afirmativa , recibimos al documento como parametro.\n        .then(docSnap => {\n\n            // Si el documento existe\n            if (docSnap.exists()){\n                // Redirrecionamos\n                window.location.href =  docSnap.data().origin;\n            } else {\n                setLoading(false);\n            }\n        })\n    } , [])\n\n    if(loading) return <Title text=\'Cargando redirrecionamiento...\'/>\n  return (\n    <div className="mx-auto container">\n        <Outlet/>\n    </div>\n  )\n}\n\nexport default LayoutRedirect\n\n')),(0,r.kt)("h2",{id:"regla-de-seguridad"},"Regla de seguridad"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/security/get-started?hl=es"},"link")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/security/rules-structure?hl=es#basic_readwrite_rules"},"link 2")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/security/rules-conditions?hl=es#authentication"},"link 3"))),(0,r.kt)("h3",{id:"firebase"},"FireBase"),(0,r.kt)("p",null,"FireStore DataBase \u2013 Reglas"),(0,r.kt)("p",null,"Te aparec\xeda algo asi: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if\n          request.time < timestamp.date(2022, 5, 28);\n    }\n  }\n}\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Usamos la versi\xf3n 2"),(0,r.kt)("li",{parentName:"ul"},"Usan el match para encontrar algo (Si lo encuentra ejecuta el bloque {})"),(0,r.kt)("li",{parentName:"ul"},"El siguiente c\xf3digo especifica que que se puede leer y escribir en la colecci\xf3n durante  30 dias. (empieza el dia que iniciaste la BD)")),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"allow read, write: if\n          request.time < timestamp.date(2022, 5, 28);\n\n")))),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"allow ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Los allow se aplican si se cumple la condicion (se encuentra despu\xe9s del if)"))),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Division")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Una regla read se puede dividir en get y list, mientras que una regla write se puede dividir en create, update y delete")))),(0,r.kt)("h3",{id:"implementamos-nuestro-match-para-la-colecci\xf3n-urls"},"Implementamos nuestro match para la colecci\xf3n urls"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"request.auth = Te devuelve la sesion del usuario , en caso de no haber devuelve null.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /urls/{document=**} {\n      allow read, write: if request.auth !=null \n    }\n    \n  }\n}\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Solo se puede escribir y leer la BD , si existe una sesion del usuario activa.")))),(0,r.kt)("h3",{id:"separar-los-permisos"},"Separar los permisos"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /urls/{document=**} {\n    allow read: if true;\n      allow  write: if request.auth !=null \n    }\n  }\n}\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Todos pueden leer la BD."),(0,r.kt)("li",{parentName:"ul"},"Solo los que est\xe1n autenticadas pueden escribir en la BD")))),(0,r.kt)("h3",{id:"update--delete--create"},"update , delete , create"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /urls/{document=**} {\n    allow read: if true;\n    allow  create: if request.auth !=null;\n    allow delete,update: if request.auth.uid == resource.data.uid;\n    }\n  }\n}\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"request.auth = Tiene la informaci\xf3n del usuario autenticado y por lo tanto tiene acceso a la propiedad uid que corresponde a la ID del usuario."),(0,r.kt)("li",{parentName:"ul"},"resource.data = Corresponde a la informaci\xf3n del documento . En esta regla se accede al campo uid del documento."),(0,r.kt)("li",{parentName:"ul"},"Permiso para leer: Todos"),(0,r.kt)("li",{parentName:"ul"},"Permiso para crear : Solo si es autenticado"),(0,r.kt)("li",{parentName:"ul"},"Permiso para eliminar , actualizar: Solo si el uid del documento coincide con el del usuario autenticado.")))),(0,r.kt)("h3",{id:"permiso-get-y-list"},"Permiso get y list"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"get : Permiso para solo un documento"),(0,r.kt)("li",{parentName:"ul"},"list : Permiso para un conjunto de documentos")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /urls/{document=**} {\n    allow get: if true;\n    allow  create: if request.auth !=null;\n    allow delete,update , list: if request.auth.uid == resource.data.uid;\n    }\n  }\n}\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Permiso para leer SOLO un documento = Todos"),(0,r.kt)("li",{parentName:"ul"},"Permiso para leer  un  CONJUNTO de documentos (Ej. Seleccionar todos los documentos) : Solo si el uid del documento coincide con el del usuario autenticado.")))),(0,r.kt)("h2",{id:"deploy"},"Deploy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Vamos a usar el hosting de firebase")),(0,r.kt)("p",null,"El comando nos genera una carpeta llamada dist"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm run build\n")),(0,r.kt)("p",null,"El comando ejecuta lo que contiene carpeta llamada dist, abriendo la aplicaci\xf3n que se pondr\xeda en producci\xf3n."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm run preview\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Si funciona todo, subimos la carpeta dist al hosting."))),(0,r.kt)("h3",{id:"en-firebase-2"},"En firebase"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Hosting \u2013 get started(comenzar)")),(0,r.kt)("p",null,"Ejecutamos el comando"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install -g firebase-tools\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"warning ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"se instala de manera global , no hace falta ubicarse en el proyecto"))),(0,r.kt)("p",null,"Iniciamos Sesion con el comando: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"firebase login\n")),(0,r.kt)("p",null,"Ejecutamos el siguiente comando en el proyecto:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"firebase init\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Te genera la configuracion del proyecto")))),(0,r.kt)("h4",{id:"opciones"},"opciones"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Enter para continuar"),(0,r.kt)("li",{parentName:"ul"},"Espacio para selecionar"),(0,r.kt)("li",{parentName:"ul"},"Le das a  continuar(Enter) para que tome el valor por defecto (entre par\xe9ntesis)")))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Le das a Si(yes) en comenzar/procesar proyecto"),(0,r.kt)("li",{parentName:"ol"},"Seleccionas los servicios que utilizaste (con el espacio)")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"En este ejemplo Firestore ( y te trae todas las reglas de seguridad) y Hosting (Configure files for FireBase Hosting and optionally \u2026)")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Use an existing Project  --- Enter "),(0,r.kt)("li",{parentName:"ol"},"Selecciona el Proyecto de FireBase que vas a hacer deploy \u2013 Enter"),(0,r.kt)("li",{parentName:"ol"},"Luego te va a pedir el nombre del archivo que se va a crear con las reglas de seguridad  (por defecto firestore.rules) --  Enter"),(0,r.kt)("li",{parentName:"ol"},"What file should be used for Firestore indexes ? \u2013 Enter"),(0,r.kt)("li",{parentName:"ol"},"What do you want to use as your public directory? -- dist")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Por defecto es public, pero como vamos a subir la carpeta que genera npm run build , ponemos dist (contiene todos los archivos est\xe1ticos)")),(0,r.kt)("ol",{start:8},(0,r.kt)("li",{parentName:"ol"},"Configure as a single-page-app (rewrite all urls to /index.html)? -- Y")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es para reescribir todas las url en el index.html"),(0,r.kt)("li",{parentName:"ul"},"Como es una Single-page Application (todo se renderiza en el index.html , un solo archivo ), le das a si (y)")),(0,r.kt)("ol",{start:9},(0,r.kt)("li",{parentName:"ol"},"Set up automatic builds and deploys with Github?  ---- Le das a no (n)"),(0,r.kt)("li",{parentName:"ol"},"File dist/index.html already exists . Overwrite?  ----------- Le das a no (n)")),(0,r.kt)("h3",{id:"terminamos-la-configuraci\xf3n"},"\xa1Terminamos la configuraci\xf3n!"),(0,r.kt)("p",null,"Si hiciste todo bien en el proyecto se crearon los archivos : firestore.rules , firestore.indexes.json , firebase.json , etc."),(0,r.kt)("p",null,"Y finalmente hacemos el deploy ejecutando el comando en el proyecto"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"firebase deploy\n")),(0,r.kt)("p",null,"Y ya tenes un dominio"),(0,r.kt)("h3",{id:"archivo"},"Archivo"),(0,r.kt)("p",null,"firestore.rules:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Estan las reglas de seguridad que modificamos")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /urls/{document=**} {\n    allow get: if true;\n    allow  create: if request.auth !=null;\n    allow delete,update , list: if request.auth.uid == resource.data.uid;\n    }\n  }\n}\n\n")),(0,r.kt)("p",null,"firebase.json"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Esta la configuraci\xf3n de la carpeta public"),(0,r.kt)("li",{parentName:"ul"},"Esta la sobreescritura de url")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\n{\n  "firestore": {\n    "rules": "firestore.rules",\n    "indexes": "firestore.indexes.json"\n  },\n  "hosting": {\n    "public": "dist",\n    "ignore": [\n      "firebase.json",\n      "**/.*",\n      "**/node_modules/**"\n    ],\n    "rewrites": [\n      {\n        "source": "**",\n        "destination": "/index.html"\n      }\n    ]\n  }\n}\n\n')),(0,r.kt)("h3",{id:"en-cada-cambio"},"En cada cambio:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm run build\nfirebase deploy\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"No hace falta hacer el init porque ya esta toda la configuraci\xf3n de firebase.")))}u.isMDXComponent=!0}}]);