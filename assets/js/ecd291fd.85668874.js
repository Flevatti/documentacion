"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[4513],{5680:(e,a,n)=>{n.d(a,{xA:()=>d,yg:()=>g});var o=n(6540);function i(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){i(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function c(e,a){if(null==e)return{};var n,o,i=function(e,a){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],a.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),t=function(e){var a=o.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):s(s({},a),e)),n},d=function(e){var a=t(e.components);return o.createElement(l.Provider,{value:a},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},p=o.forwardRef((function(e,a){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),m=t(n),p=i,g=m["".concat(l,".").concat(p)]||m[p]||u[p]||r;return n?o.createElement(g,s(s({ref:a},d),{},{components:n})):o.createElement(g,s({ref:a},d))}));function g(e,a){var n=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var r=n.length,s=new Array(r);s[0]=p;var c={};for(var l in a)hasOwnProperty.call(a,l)&&(c[l]=a[l]);c.originalType=e,c[m]="string"==typeof e?e:i,s[1]=c;for(var t=2;t<r;t++)s[t]=n[t];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},891:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>c,toc:()=>t});var o=n(8168),i=(n(6540),n(5680));const r={sidebar_position:3},s="Docker compose",c={unversionedId:"Docker/archivoDockerCompose",id:"Docker/archivoDockerCompose",title:"Docker compose",description:"- Te simplifica el proceso de crear contenedores, conectarlos en una red y configurar como almacenar los datos.",source:"@site/docs/Docker/archivoDockerCompose.md",sourceDirName:"Docker",slug:"/Docker/archivoDockerCompose",permalink:"/documentacion/docs/Docker/archivoDockerCompose",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Docker/archivoDockerCompose.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"Docker",previous:{title:"DockerFile",permalink:"/documentacion/docs/Docker/archivoDockerFile"}},l={},t=[{value:"\xbfCu\xe1l es la diferencia entre Docker y Docker Compose?",id:"cu\xe1l-es-la-diferencia-entre-docker-y-docker-compose",level:4},{value:"\xbfCu\xe1ndo usar Docker Compose?",id:"cu\xe1ndo-usar-docker-compose",level:4},{value:"\xbfQu\xe9 se necesita para utilizar Docker Compose?",id:"qu\xe9-se-necesita-para-utilizar-docker-compose",level:4},{value:"Caracter\xedsticas Principales de Docker Compose",id:"caracter\xedsticas-principales-de-docker-compose",level:4},{value:"Comandos Comunes de Docker Compose",id:"comandos-comunes-de-docker-compose",level:4},{value:"Beneficios de Usar Docker Compose",id:"beneficios-de-usar-docker-compose",level:4},{value:"Campo version",id:"campo-version",level:2},{value:"Campo name",id:"campo-name",level:2},{value:"Campo services",id:"campo-services",level:2},{value:"image",id:"image",level:4},{value:"build",id:"build",level:4},{value:"command",id:"command",level:4},{value:"ports",id:"ports",level:4},{value:"volumes",id:"volumes",level:4},{value:"Ejemplo de uso de Volumen",id:"ejemplo-de-uso-de-volumen",level:4},{value:"Ejemplo de uso de Enlace (bind)",id:"ejemplo-de-uso-de-enlace-bind",level:4},{value:"Ejemplo de Uso de tmpfs",id:"ejemplo-de-uso-de-tmpfs",level:4},{value:"Ejemplo de Uso de npipe",id:"ejemplo-de-uso-de-npipe",level:4},{value:"environment",id:"environment",level:4},{value:"depends_on",id:"depends_on",level:4},{value:"networks",id:"networks",level:4},{value:"restart",id:"restart",level:4},{value:"links (Obsoleto)",id:"links-obsoleto",level:4},{value:"env_file",id:"env_file",level:4},{value:"Ver m\xe1s campos",id:"ver-m\xe1s-campos",level:4},{value:"Campo networks",id:"campo-networks",level:2},{value:"Ejemplo B\xe1sico:",id:"ejemplo-b\xe1sico",level:4},{value:"Campo volumes",id:"campo-volumes",level:2},{value:"Ejemplo B\xe1sico",id:"ejemplo-b\xe1sico-1",level:4},{value:"Uso en Servicios",id:"uso-en-servicios",level:4},{value:"Definici\xf3n de un Volumen con Nombre",id:"definici\xf3n-de-un-volumen-con-nombre",level:4},{value:"Uso en Servicios",id:"uso-en-servicios-1",level:4},{value:"Entonces hay dos tipos de vol\xfamenes",id:"entonces-hay-dos-tipos-de-vol\xfamenes",level:4},{value:"Uso de Volumen An\xf3nimo en un Servicio",id:"uso-de-volumen-an\xf3nimo-en-un-servicio",level:4},{value:"Gesti\xf3n de Vol\xfamenes",id:"gesti\xf3n-de-vol\xfamenes",level:4},{value:"Campo configs",id:"campo-configs",level:2},{value:"Estructura B\xe1sica",id:"estructura-b\xe1sica",level:4},{value:"Campos Disponibles",id:"campos-disponibles",level:4},{value:"Ejemplos Detallados",id:"ejemplos-detallados",level:4},{value:"Definici\xf3n de una Configuraci\xf3n con un Archivo",id:"definici\xf3n-de-una-configuraci\xf3n-con-un-archivo",level:4},{value:"Configuraci\xf3n Externa",id:"configuraci\xf3n-externa",level:4},{value:"\xbfC\xf3mo usar configuraciones externas?",id:"c\xf3mo-usar-configuraciones-externas",level:4},{value:"Paso 1: Crear la Configuraci\xf3n Externa",id:"paso-1-crear-la-configuraci\xf3n-externa",level:4},{value:"Paso 2: Referenciar la Configuraci\xf3n Externa en Docker Compose",id:"paso-2-referenciar-la-configuraci\xf3n-externa-en-docker-compose",level:4},{value:"Comandos \xdatiles para Gestionar Configuraciones Externas",id:"comandos-\xfatiles-para-gestionar-configuraciones-externas",level:4},{value:"Configuraci\xf3n con Nombre Personalizado",id:"configuraci\xf3n-con-nombre-personalizado",level:4},{value:"Referencia en Servicios",id:"referencia-en-servicios",level:4},{value:"\xbfPara qu\xe9 sirven las configuraciones?",id:"para-qu\xe9-sirven-las-configuraciones",level:4},{value:"\xbfQu\xe9 pasa por dentro cuando se usa una configuraci\xf3n?",id:"qu\xe9-pasa-por-dentro-cuando-se-usa-una-configuraci\xf3n",level:4},{value:"Ejemplo de Uso Pr\xe1ctico:",id:"ejemplo-de-uso-pr\xe1ctico",level:4},{value:"Beneficios",id:"beneficios",level:4},{value:"Campo secrets",id:"campo-secrets",level:2},{value:"Caracter\xedsticas de los Secretos en Docker",id:"caracter\xedsticas-de-los-secretos-en-docker",level:4},{value:"C\xf3mo Funcionan los Secretos",id:"c\xf3mo-funcionan-los-secretos",level:4},{value:"Estructura B\xe1sica",id:"estructura-b\xe1sica-1",level:4},{value:"Campos Disponibles",id:"campos-disponibles-1",level:4},{value:"Secreto Externo",id:"secreto-externo",level:4},{value:"Secreto con Nombre Personalizado",id:"secreto-con-nombre-personalizado",level:4},{value:"Referencia en Servicios",id:"referencia-en-servicios-1",level:4},{value:"Montaje del Secreto en el Contenedor",id:"montaje-del-secreto-en-el-contenedor",level:4},{value:"Variables de entornos vs Secretos",id:"variables-de-entornos-vs-secretos",level:4},{value:"Cu\xe1ndo Usar Cada Uno",id:"cu\xe1ndo-usar-cada-uno",level:4},{value:"Acceso a Secretos en Docker",id:"acceso-a-secretos-en-docker",level:4},{value:"Consideraciones de Seguridad Adicionales",id:"consideraciones-de-seguridad-adicionales",level:4},{value:"Seguridad de los Secretos en Docker",id:"seguridad-de-los-secretos-en-docker",level:4},{value:"Ejecutar docker compose",id:"ejecutar-docker-compose",level:2}],d={toc:t},m="wrapper";function u(e){let{components:a,...n}=e;return(0,i.yg)(m,(0,o.A)({},d,n,{components:a,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"docker-compose"},"Docker compose"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Te simplifica el proceso de crear contenedores, conectarlos en una red y configurar como almacenar los datos."),(0,i.yg)("li",{parentName:"ul"},"Es una herramienta que viene integrada con dockers desktop."),(0,i.yg)("li",{parentName:"ul"},"Es  un archivo que se llama docker-compose.yml o docker-composer.yaml"),(0,i.yg)("li",{parentName:"ul"},"Docker Compose es una herramienta vers\xe1til que te permite definir y gestionar aplicaciones multi-contenedor de forma sencilla. Con Docker Compose, puedes describir la configuraci\xf3n de tu entorno de desarrollo en un archivo YAML, especificando los servicios, vol\xfamenes y redes necesarios para tu aplicaci\xf3n. Luego, con un solo comando, puedes crear y ejecutar todos los contenedores definidos en tu archivo de configuraci\xf3n."),(0,i.yg)("li",{parentName:"ul"},"Docker Compose es una herramienta para definir y gestionar aplicaciones Docker con m\xfaltiples contenedores. Permite describir la configuraci\xf3n de una aplicaci\xf3n en un archivo YAML, llamado docker-compose.yml, y luego ejecutar comandos para crear y administrar todos los contenedores (servicios) especificados en ese archivo de manera conjunta.")),(0,i.yg)("h4",{id:"cu\xe1l-es-la-diferencia-entre-docker-y-docker-compose"},"\xbfCu\xe1l es la diferencia entre Docker y Docker Compose?"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Docker es una plataforma de contenedores que te permite empaquetar y distribuir aplicaciones en entornos aislados llamados contenedores. Proporciona una forma eficiente y consistente de ejecutar aplicaciones en diferentes sistemas operativos. Por otro lado, Docker Compose es una herramienta que complementa a Docker, permiti\xe9ndote definir y gestionar m\xfaltiples contenedores para crear un entorno de desarrollo completo."),(0,i.yg)("li",{parentName:"ul"},"Mientras que Docker se centra en la ejecuci\xf3n y creaci\xf3n de contenedores individuales, Docker Compose se encarga de coordinar y gestionar m\xfaltiples contenedores que trabajan juntos para formar una aplicaci\xf3n.")),(0,i.yg)("h4",{id:"cu\xe1ndo-usar-docker-compose"},"\xbfCu\xe1ndo usar Docker Compose?"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Docker Compose es especialmente \xfatil cuando necesitas configurar un entorno de desarrollo que involucra m\xfaltiples servicios (contenedores). Te permite definir la estructura de tu aplicaci\xf3n y sus dependencias en un solo archivo YAML, simplificando la creaci\xf3n y gesti\xf3n de tu entorno de desarrollo."),(0,i.yg)("li",{parentName:"ul"},"Al utilizar Docker Compose en lugar de Docker solo, obtienes beneficios como la capacidad de definir vol\xfamenes y redes personalizadas, la posibilidad de escalar servicios y la facilidad de compartir y replicar tu entorno de desarrollo con otros miembros del equipo. Docker Compose ofrece una soluci\xf3n m\xe1s completa y eficiente para configurar y orquestar aplicaciones multi-contenedor en tu entorno de desarrollo.")),(0,i.yg)("h4",{id:"qu\xe9-se-necesita-para-utilizar-docker-compose"},"\xbfQu\xe9 se necesita para utilizar Docker Compose?"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Para utilizar Docker Compose, necesitar\xe1s tener instalado Docker en tu m\xe1quina. Docker Compose viene incluido como parte del paquete de instalaci\xf3n de Docker, por lo que no es necesario instalarlo por separado. Aseg\xfarate de tener una versi\xf3n compatible de Docker seg\xfan tu sistema operativo. "),(0,i.yg)("li",{parentName:"ul"},"Adem\xe1s, necesitar\xe1s un archivo de configuraci\xf3n docker-compose.yml en el directorio de tu proyecto. Este archivo es donde definir\xe1s los servicios, vol\xfamenes y redes necesarios para tu entorno de desarrollo. Puedes crearlo desde cero o utilizar plantillas y ejemplos disponibles en la documentaci\xf3n de Docker Compose y en la comunidad de Docker. "),(0,i.yg)("li",{parentName:"ul"},"El archivo que se utiliza para gestionar aplicaciones multi-contenedores con Docker Compose se llama docker-compose.yml. Aunque Docker Compose soporta la extensi\xf3n .yaml debido a la flexibilidad del formato YAML, el nombre m\xe1s com\xfanmente utilizado y el que encontrar\xe1s en la documentaci\xf3n oficial es docker-compose.yml.")),(0,i.yg)("h4",{id:"caracter\xedsticas-principales-de-docker-compose"},"Caracter\xedsticas Principales de Docker Compose"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"Configuraci\xf3n Declarativa: Define todos los servicios, redes y vol\xfamenes necesarios en un archivo YAML (docker-compose.yml), lo que facilita la configuraci\xf3n y reutilizaci\xf3n."),(0,i.yg)("li",{parentName:"ol"},"Simplificaci\xf3n del Despliegue: Con un solo comando (docker-compose up), puedes desplegar una aplicaci\xf3n completa, lo que es muy \xfatil para entornos de desarrollo, pruebas y producci\xf3n."),(0,i.yg)("li",{parentName:"ol"},"Gesti\xf3n de M\xfaltiples Contenedores: Docker Compose permite gestionar y coordinar varios contenedores como una sola unidad l\xf3gica, simplificando la interconexi\xf3n entre ellos."),(0,i.yg)("li",{parentName:"ol"},"Escalabilidad: Facilita la escalabilidad horizontal de los servicios, permitiendo aumentar o disminuir el n\xfamero de instancias de un servicio espec\xedfico con el comando docker-compose scale."),(0,i.yg)("li",{parentName:"ol"},"Compatibilidad con Vol\xfamenes y Redes: Permite definir vol\xfamenes persistentes y redes personalizadas para facilitar la comunicaci\xf3n entre los contenedores y la persistencia de datos.")),(0,i.yg)("h4",{id:"comandos-comunes-de-docker-compose"},"Comandos Comunes de Docker Compose"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Crea y arranca todos los contenedores definidos en el archivo docker-compose.yml:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker-compose up\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Detiene y elimina los contenedores, redes y vol\xfamenes creados por up:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker-compose down\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Construye o reconstruye las im\xe1genes de los servicios definidos:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker-compose build\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Lista los contenedores en ejecuci\xf3n definidos por el archivo Compose:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker-compose ps\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Muestra los logs de los servicios en ejecuci\xf3n:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker-compose logs\n")),(0,i.yg)("h4",{id:"beneficios-de-usar-docker-compose"},"Beneficios de Usar Docker Compose"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Facilita el Desarrollo: Al definir toda la infraestructura de la aplicaci\xf3n en un solo archivo, los desarrolladores pueden levantar r\xe1pidamente entornos de desarrollo completos y consistentes."),(0,i.yg)("li",{parentName:"ul"},"Reproducibilidad: Garantiza que los entornos sean consistentes en diferentes sistemas y etapas del ciclo de vida del desarrollo, desde el desarrollo local hasta la producci\xf3n."),(0,i.yg)("li",{parentName:"ul"},"Portabilidad: Al empaquetar la configuraci\xf3n de la aplicaci\xf3n en un archivo, es f\xe1cil mover y compartir la aplicaci\xf3n completa entre diferentes entornos y equipos."),(0,i.yg)("li",{parentName:"ul"},"El archivo docker-compose.yml tiene varios campos que se utilizan para definir y configurar los servicios, redes, vol\xfamenes y otras caracter\xedsticas de una aplicaci\xf3n multi-contenedor. ")),(0,i.yg)("h2",{id:"campo-version"},"Campo version"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Esta obsoleta, pero la puedes encontrar en ciertos archivos de configuraci\xf3n o especificaciones, se incluy\xf3 originalmente para indicar la versi\xf3n de la sintaxis y mantener la compatibilidad con versiones anteriores de un software o sistema. "),(0,i.yg)("li",{parentName:"ul"},"B\xe1sicamente, se usaba para asegurarse de que el sistema pudiera funcionar con configuraciones antiguas. A partir de Docker Compose v3.9 y versiones posteriores, Docker ha dejado de requerir la propiedad version en los archivos docker-compose.yml. "),(0,i.yg)("li",{parentName:"ul"},"En lugar de requerir una declaraci\xf3n expl\xedcita de la versi\xf3n, Docker Compose ahora puede detectar autom\xe1ticamente la \u201cversi\xf3n de sintaxis\u201dy manejar las diferencias de sintaxis y caracter\xedsticas entre versiones. "),(0,i.yg)("li",{parentName:"ul"},"Esto significa que puedes omitir la propiedad version en tus archivos docker-compose.yml, y Docker Compose aplicar\xe1 las reglas y comportamientos adecuados en funci\xf3n de las caracter\xedsticas y sintaxis presentes en el archivo.")),(0,i.yg)("h2",{id:"campo-name"},"Campo name"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"El campo name se utiliza para definir el nombre del proyecto. Este nombre se usar\xe1 si no se establece expl\xedcitamente de otra manera. Sirve como una forma de identificar y agrupar todos los recursos (contenedores, redes, vol\xfamenes, etc.) creados por Docker Compose para un proyecto espec\xedfico."),(0,i.yg)("li",{parentName:"ul"},"Si no se establece un nombre a trav\xe9s de la propiedad name, Docker Compose generar\xe1 un nombre de proyecto predeterminado basado en el nombre del directorio que contiene el archivo docker-compose.yml."),(0,i.yg)("li",{parentName:"ul"},"Una vez que se ha definido el nombre del proyecto, ya sea mediante la propiedad name o un mecanismo personalizado, este nombre se expone como la variable COMPOSE_PROJECT_NAME. Esto permite usar el nombre del proyecto en otros lugares dentro del archivo docker-compose.yml mediante interpolaci\xf3n (sustituci\xf3n de variables) y tambi\xe9n se puede acceder a \xe9l como una variable de entorno en los contenedores."),(0,i.yg)("li",{parentName:"ul"},"Por lo tanto:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"El campo name en un archivo docker-compose.yml define el nombre del proyecto que se usar\xe1 si no se especifica otro nombre. Docker Compose permite sobrescribir este nombre mediante mecanismos personalizados, como variables de entorno o par\xe1metros de l\xednea de comandos. Si no se configura la propiedad name, Compose establece un nombre de proyecto predeterminado basado en el nombre del directorio que contiene el archivo."),(0,i.yg)("li",{parentName:"ul"},"El nombre del proyecto, una vez definido, se expone como la variable COMPOSE_PROJECT_NAME, que puede usarse para la interpolaci\xf3n dentro del archivo docker-compose.yml y como una variable de entorno en los contenedores.")))),(0,i.yg)("h2",{id:"campo-services"},"Campo services"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Especifica los m\xfaltiples contenedores que se van a usar."),(0,i.yg)("li",{parentName:"ul"},"Cada contenedor tiene un nombre (puede ser cualquiera) y le podemos especificar varios campos."),(0,i.yg)("li",{parentName:"ul"},"En Docker Compose, el campo services define los contenedores que conforman tu aplicaci\xf3n. Cada servicio se describe con una serie de opciones que especifican c\xf3mo se debe construir y configurar el contenedor correspondiente. Los servicios pueden depender unos de otros, compartir redes, vol\xfamenes y establecer variables de entorno."),(0,i.yg)("li",{parentName:"ul"},"El campo services contiene una colecci\xf3n de contenedores, y cada contenedor (se le llama servicio) tiene un nombre que puedes definir libremente. A cada uno de estos servicios se le pueden especificar varios campos para configurar su comportamiento y entorno."),(0,i.yg)("li",{parentName:"ul"},"Algunos campos que les podemos especificar a cada servicio son:")),(0,i.yg)("h4",{id:"image"},"image"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Especifica la imagen Docker a utilizar para el contenedor.")),(0,i.yg)("h4",{id:"build"},"build"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"En lugar de usar el campo image, podes usar este campo para especificar en donde est\xe1 el archivo dockerfile. De esta manera pod\xe9s crear una imagen \u201cpersonalizada\u201d de tu aplicaci\xf3n y ejecutarla en un contenedor.")),(0,i.yg)("h4",{id:"command"},"command"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Sobrescribe el comando por defecto que se ejecuta en el contenedor. Permite especificar un comando que reemplaza el comando CMD de un DockerFile.")),(0,i.yg)("h4",{id:"ports"},"ports"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Mapea puertos del host a puertos del contenedor.")),(0,i.yg)("h4",{id:"volumes"},"volumes"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Se utiliza para definir d\xf3nde y c\xf3mo los contenedores de tus servicios pueden acceder a datos que se ubican fuera del contenedor. Puedes usar volumes para configurar diferentes tipos de conexiones:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Volumen: Es un espacio de almacenamiento dedicado que puede ser compartido entre m\xfaltiples contenedores."),(0,i.yg)("li",{parentName:"ul"},"Enlace (bind): Monta una carpeta o archivo espec\xedfico desde el sistema host directamente en el contenedor."),(0,i.yg)("li",{parentName:"ul"},"tmpfs: Monta una memoria temporal en el contenedor, \xfatil para datos que no necesitan persistencia."),(0,i.yg)("li",{parentName:"ul"},"npipe: Monta un named pipe (tuber\xeda nombrada) en el contenedor para la comunicaci\xf3n entre procesos.")))),(0,i.yg)("h4",{id:"ejemplo-de-uso-de-volumen"},"Ejemplo de uso de Volumen"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Un volumen es un espacio de almacenamiento dedicado que puede ser compartido entre varios contenedores. En este ejemplo, creamos un volumen nombrado db-data que puede ser utilizado por varios servicios:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"version: '3.8'\n\nservices:\n  backend:\n    image: backend-image\n    volumes:\n      - db-data:/var/lib/data\n\nvolumes:\n  db-data:\n    driver: local\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"volumes a nivel de servicios: Define que el servicio backend utiliza el volumen db-data montado en /var/lib/data. Esto se hace para especificar c\xf3mo y d\xf3nde los datos externos estar\xe1n disponibles dentro del contenedor de ese servicio espec\xedfico."),(0,i.yg)("li",{parentName:"ul"},"volumes a nivel superior: Declara el volumen nombrado db-data, usando el driver local por defecto. Esto se hace para definir vol\xfamenes que pueden ser compartidos y reutilizados por varios servicios en tu configuraci\xf3n de Docker Compose.")))),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Driver")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},'Un "driver" en Docker act\xfaa como un traductor especializado que facilita la comunicaci\xf3n entre los contenedores Docker y los diferentes tipos de almacenamiento de datos disponibles. Aqu\xed tienes una analog\xeda para entenderlo mejor:',(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Almacenamiento como diferentes idiomas: Imagina que cada tipo de almacenamiento (tu disco duro local, un servicio en la nube como AWS o Azure, o una red compartida como NFS) tiene su propio idioma o manera particular de trabajar con los datos."),(0,i.yg)("li",{parentName:"ul"},"El driver como int\xe9rprete: Cada driver en Docker funciona como un int\xe9rprete experto que conoce c\xf3mo interactuar con ese tipo espec\xedfico de almacenamiento. Como un buen int\xe9rprete, el driver traduce las solicitudes y operaciones que los contenedores Docker necesitan hacer hacia el idioma o formato correcto que ese almacenamiento particular entiende."),(0,i.yg)("li",{parentName:"ul"},"Eficiencia y compatibilidad: Esta traducci\xf3n garantiza que Docker pueda utilizar eficientemente el almacenamiento deseado sin importar d\xf3nde est\xe9 ubicado o c\xf3mo est\xe9 configurado. Esto significa que puedes usar Docker con confianza, sabiendo que tus contenedores pueden almacenar y acceder a datos de manera efectiva, independientemente del tipo de almacenamiento que elijas utilizar."))),(0,i.yg)("li",{parentName:"ul"},"Driver local: Este es como tu propio disco duro personal dentro de Docker. Almacena los datos directamente en el mismo lugar donde Docker est\xe1 corriendo, como si fuera una carpeta especial que solo Docker puede ver y usar."),(0,i.yg)("li",{parentName:"ul"},"Driver nfs: Similar a conectarte a una carpeta compartida en una red de computadoras. Permite a m\xfaltiples Docker compartir datos a trav\xe9s de la red, como tener una carpeta que todos pueden ver y modificar desde diferentes computadoras."),(0,i.yg)("li",{parentName:"ul"},"Driver azure_file: Es como tener una carpeta especial en Microsoft Azure (un servicio en la nube). Puedes guardar y acceder a datos desde all\xed, \xfatil si est\xe1s usando Azure para tu infraestructura."),(0,i.yg)("li",{parentName:"ul"},"Driver aws: Funciona como un lugar especial en Amazon Web Services (AWS) donde puedes guardar datos. Es \xfatil si usas AWS para alojar tus aplicaciones y necesitas guardar informaci\xf3n importante."),(0,i.yg)("li",{parentName:"ul"},"Driver gce: Es como una carpeta especial en Google Compute Engine (GCE), otro servicio en la nube. Guarda datos de la misma manera, pero en Google Cloud, \xfatil si est\xe1s usando GCE para tus aplicaciones.")))),(0,i.yg)("h4",{id:"ejemplo-de-uso-de-enlace-bind"},"Ejemplo de uso de Enlace (bind)"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Un enlace (bind) monta una carpeta o archivo espec\xedfico desde el sistema host directamente en el contenedor. Aqu\xed montamos el directorio actual (.) del host en /code dentro del contenedor:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nservices:\n  frontend:\n    image: frontend-image\n    volumes:\n      - type: bind\n        source: .\n        target: /code\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"type: bind: Especifica que es un montaje bind."),(0,i.yg)("li",{parentName:"ul"},"volumes: Define que el servicio frontend utiliza un montaje bind."),(0,i.yg)("li",{parentName:"ul"},'source: Especifica la ruta del sistema host que se va a montar (. indica el directorio actual , Cuando se refiere al "directorio actual" (en ingl\xe9s, "current working directory"), se est\xe1 hablando del directorio en el que se encuentra el archivo docker-compose.yml que se est\xe1 ejecutando.)'),(0,i.yg)("li",{parentName:"ul"},"target: Especifica la ruta dentro del contenedor donde se montar\xe1 el volumen (/code).")))),(0,i.yg)("h4",{id:"ejemplo-de-uso-de-tmpfs"},"Ejemplo de Uso de tmpfs"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"tmpfs monta una memoria temporal en el contenedor, \xfatil para datos que no necesitan persistencia. En este ejemplo, creamos un montaje tmpfs para almacenar archivos temporales:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nservices:\n  app:\n    image: app-image\n    volumes:\n      - type: tmpfs\n        target: /tmp\n\n\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"volumes: Define que el servicio app utiliza un montaje tmpfs."),(0,i.yg)("li",{parentName:"ul"},"type: tmpfs: Especifica que es un montaje tmpfs."),(0,i.yg)("li",{parentName:"ul"},"target: Especifica la ruta dentro del contenedor donde se montar\xe1 la memoria temporal (/tmp en este caso)."),(0,i.yg)("li",{parentName:"ul"},"La informaci\xf3n almacenada en ese volumen se elimina cuando el contenedor se detiene o se reinicia.")))),(0,i.yg)("h4",{id:"ejemplo-de-uso-de-npipe"},"Ejemplo de Uso de npipe"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"npipe monta un named pipe (tuber\xeda nombrada) en el contenedor para la comunicaci\xf3n entre procesos. A continuaci\xf3n, se muestra c\xf3mo podr\xedas configurar un servicio para utilizar un named pipe:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nservices:\n  backend:\n    image: backend-image\n    volumes:\n      - type: npipe\n        source: /path/to/namedpipe\n        target: /var/run/namedpipe\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"volumes: Define que el servicio backend utiliza un montaje de tipo npipe."),(0,i.yg)("li",{parentName:"ul"},"type: npipe: Especifica que es un montaje npipe."),(0,i.yg)("li",{parentName:"ul"},"source: Especifica la ruta de la named pipe en el sistema host (/path/to/namedpipe)."),(0,i.yg)("li",{parentName:"ul"},"target: Especifica la ruta dentro del contenedor donde se montar\xe1 la named pipe (/var/run/namedpipe).")))),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"NamedPipe")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"Los Named Pipes (tambi\xe9n conocidos como FIFOs, First-In-First-Out) son un mecanismo de comunicaci\xf3n entre procesos que permite la comunicaci\xf3n entre procesos que se ejecutan en diferentes espacios de nombres (como contenedores o m\xe1quinas virtuales)."),(0,i.yg)("li",{parentName:"ul"},"Un Named Pipe es un archivo especial que act\xfaa como una cola de mensajes. Los procesos que desean comunicarse a trav\xe9s del Named Pipe pueden escribir en \xe9l (como si fuera un archivo) y otros procesos pueden leer desde \xe9l. Los datos escritos en el Named Pipe se almacenan en una cola y se leen en el orden en que se escribieron."),(0,i.yg)("li",{parentName:"ul"},"Aqu\xed hay algunas caracter\xedsticas importantes de los archivos de Named Pipes:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"No contiene datos: A diferencia de un archivo regular, un Named Pipe no contiene datos en s\xed mismo. En su lugar, act\xfaa como una cola de mensajes que se almacenan en memoria."),(0,i.yg)("li",{parentName:"ul"},"No tiene tama\xf1o: Los Named Pipes no tienen un tama\xf1o fijo, ya que los datos se almacenan en memoria y se eliminan cuando se leen."),(0,i.yg)("li",{parentName:"ul"},"No se pueden buscar: Los Named Pipes no permiten buscar en ellos, ya que los datos se leen en el orden en que se escribieron."),(0,i.yg)("li",{parentName:"ul"},"No se pueden truncar: Los Named Pipes no se pueden truncar, ya que los datos se eliminan cuando se leen."))),(0,i.yg)("li",{parentName:"ul"},"Imagina que tienes una caja de correo donde puedes dejar mensajes para alguien m\xe1s. Cuando alguien escribe un mensaje y lo deja en la caja, el mensaje se queda ah\xed hasta que alguien m\xe1s lo lee."),(0,i.yg)("li",{parentName:"ul"},"Un Named Pipe es como esa caja de correo, pero para la comunicaci\xf3n entre programas o procesos en una computadora. Es un lugar especial en el sistema de archivos donde los programas pueden dejar mensajes para otros programas."),(0,i.yg)("li",{parentName:"ul"},"Cuando un programa escribe un mensaje en el Named Pipe, el mensaje se queda ah\xed hasta que otro programa lo lee. Los mensajes se leen en el orden en que se escribieron, como si fueran cartas en una caja de correo."),(0,i.yg)("li",{parentName:"ul"},"Los Named Pipes son \xfatiles cuando necesitas que dos programas se comuniquen entre s\xed, pero no est\xe1n en el mismo lugar o no pueden hablar directamente entre s\xed. Es como una forma de dejar un mensaje para alguien m\xe1s, y ellos pueden leerlo cuando est\xe9n listos."),(0,i.yg)("li",{parentName:"ul"},"Por ejemplo, imagina que tienes un programa que necesita enviar informaci\xf3n a otro programa que se ejecuta en una m\xe1quina virtual. - En lugar de tratar de comunicarse directamente, puedes crear un Named Pipe y que el primer programa escriba la informaci\xf3n en \xe9l. Luego, el segundo programa puede leer la informaci\xf3n del Named Pipe cuando est\xe9 listo."),(0,i.yg)("li",{parentName:"ul"},"Los archivos de Named Pipes no tienen una extensi\xf3n particular como .txt, .doc, .jpg, etc. En su lugar, se identifican por su nombre y ruta en el sistema de archivos."),(0,i.yg)("li",{parentName:"ul"},"Cuando se crea un Named Pipe, se asigna un nombre y una ruta en el sistema de archivos, como /tmp/mypipe o /var/run/myfifo. El nombre y la ruta se utilizan para identificar el Named Pipe y permitir que los programas se comuniquen con \xe9l."),(0,i.yg)("li",{parentName:"ul"},'S\xed, en la salida de la comando ls -l en Unix-like systems, la primera columna indica el tipo de archivo y sus permisos. La "p" may\xfascula en la primera columna indica que el archivo es un Named Pipe (tambi\xe9n conocido como FIFO, First-In-First-Out).')))),(0,i.yg)("h4",{id:"environment"},"environment"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Define variables de entorno para el contenedor.")),(0,i.yg)("h4",{id:"depends_on"},"depends_on"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Establece dependencias entre servicios, asegurando que ciertos servicios se inicien antes que otros. De este modo primero se van a iniciar los servicios \u201cindependientes\u201d (que generalmente lo consume otro servicio, como una bd que es consumida por una app) y luego los \u201cdependientes\u201d."),(0,i.yg)("li",{parentName:"ul"},"En resumen, sirve para controlar el orden de inicio de los controladores, pero no garantiza que los servicios est\xe9n completamente listo. Para garantizar que esta listo podes usar el comando wait de docker como wait-for-it.sh O  dockerize.")),(0,i.yg)("h4",{id:"networks"},"networks"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Asigna una o mas redes en el contenedor. Estas debes deben estar definidas en el \u201ccampo networks superior\u201d.")),(0,i.yg)("h4",{id:"restart"},"restart"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},'Configura las pol\xedticas de reinicio del contenedor. Sirve para especificar que se va a hacer cuando el contenedor \u201csale\u201d. Cuando se habla de que un contenedor "sale" (o "exits" en ingl\xe9s), se refiere a que el proceso principal del contenedor termina su ejecuci\xf3n.')),(0,i.yg)("h4",{id:"links-obsoleto"},"links (Obsoleto)"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Se utiliza para definir enlaces entre contenedores, permitiendo que un contenedor se conecte a otro utilizando un \u201clink\u201d que usa el DNS interno de Docker."),(0,i.yg)("li",{parentName:"ul"},"Sin embargo, es importante notar que links est\xe1 considerado en desuso (deprecated) en las versiones m\xe1s recientes de Docker Compose, ya que Docker Compose ahora usa una red predeterminada donde todos los contenedores pueden comunicarse entre s\xed por el nombre de servicio.")),(0,i.yg)("h4",{id:"env_file"},"env_file"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Sirve para especificar el archivo con las variables de entorno (.env) que se va a usar en el contenedor. Sirve para especificar uno o varios archivos que contienen variables de entorno. Estas variables se pasan al contenedor durante su ejecuci\xf3n."),(0,i.yg)("li",{parentName:"ul"},"La aplicaci\xf3n y por ende la imagen usaran las variables de entorno que hay en el proyecto. Docker Compose autom\xe1ticamente carga las variables de entorno desde un archivo .env ubicado en el mismo directorio que el archivo docker-compose.yml. Por lo tanto no es necesario el campo .env_file."),(0,i.yg)("li",{parentName:"ul"},"Aunque no es necesario especificar env_file si est\xe1s utilizando un archivo .env en el mismo directorio, hay casos en los que podr\xeda ser \xfatil. Por ejemplo, si deseas utilizar m\xfaltiples archivos de variables de entorno o tener m\xe1s control sobre qu\xe9 variables se cargan para cada servicio espec\xedfico.")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"El uso de un archivo .env en Docker Compose permite definir variables de entorno que se pueden usar dentro del archivo docker-compose.yml utilizando la sintaxis de interpolaci\xf3n: ${NOMBRE_VARIABLE}. Sin embargo, la utilizaci\xf3n del campo env_file dentro de un servicio en docker-compose.yml tiene una funcionalidad ligeramente diferente y no permite el uso directo de las variables de entorno definidas en ese campo en el archivo docker-compose.yml.")))),(0,i.yg)("h4",{id:"ver-m\xe1s-campos"},(0,i.yg)("a",{parentName:"h4",href:"https://docs.docker.com/compose/compose-file/05-services/"},"Ver m\xe1s campos")),(0,i.yg)("h2",{id:"campo-networks"},"Campo networks"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Es donde defines las redes con nombre que pueden ser utilizadas por los servicios dentro de tu aplicaci\xf3n Docker. Este elemento te permite especificar y configurar diferentes redes que pueden ser compartidas entre m\xfaltiples servicios, proporcionando un medio para controlar c\xf3mo se comunican esos servicios y en qu\xe9 entorno de red operan."),(0,i.yg)("li",{parentName:"ul"},"Aqu\xed est\xe1n los aspectos clave del elemento networks:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Definici\xf3n de Redes con Nombre:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Dentro del bloque networks, puedes definir varias redes con nombres descriptivos (mynetwork, backend, frontend, etc.)."),(0,i.yg)("li",{parentName:"ul"},"Cada red puede tener configuraciones espec\xedficas como el tipo de driver (bridge, overlay, macvlan, etc.), configuraci\xf3n IPAM (para la gesti\xf3n de direcciones IP), opciones de enrutamiento, entre otras."))),(0,i.yg)("li",{parentName:"ul"},"Reutilizaci\xf3n de Redes:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Una vez definida una red con nombre, puedes asignarla a m\xfaltiples servicios dentro de tu archivo docker-compose.yml."),(0,i.yg)("li",{parentName:"ul"},"Esto permite que varios servicios se conecten a la misma red, facilitando la comunicaci\xf3n entre ellos a trav\xe9s de nombres de servicio en lugar de direcciones IP directas."))),(0,i.yg)("li",{parentName:"ul"},"Configuraciones Avanzadas:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"El elemento networks tambi\xe9n soporta configuraciones avanzadas que permiten un control m\xe1s granular sobre c\xf3mo se gestionan las comunicaciones y los recursos de red dentro de tu aplicaci\xf3n Docker.")))))),(0,i.yg)("h4",{id:"ejemplo-b\xe1sico"},"Ejemplo B\xe1sico:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"networks:\n  mynetwork:\n    driver: bridge\n    ipam:\n      config:\n        - subnet: 172.20.0.0/16\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"En este ejemplo, se define una red llamada mynetwork con el controlador de red bridge y se especifica un rango de direcciones IP usando IPAM."),(0,i.yg)("li",{parentName:"ul"},"driver: bridge: Este indica que la red utilizar\xe1 el driver de puente (bridge) de Docker. El driver de puente es el driver de red predeterminado de Docker, que permite que los contenedores se comuniquen entre s\xed y con la red externa."),(0,i.yg)("li",{parentName:"ul"},"ipam: Esta secci\xf3n configura la gesti\xf3n de direcciones IP (IPAM) para la red."),(0,i.yg)("li",{parentName:"ul"},"config: Esta secci\xf3n define una lista de configuraciones de IPAM."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"subnet: 172.20.0.0/16: Esta l\xednea define una configuraci\xf3n de subnet para la red. La direcci\xf3n de subnet es 172.20.0.0/16, lo que significa que la red tendr\xe1 una direcci\xf3n de subnet de 172.20.0.0 y una m\xe1scara de subnet de 255.255.0.0 (equivalente a una longitud de prefijo de 16 bits)."))),(0,i.yg)("li",{parentName:"ul"},"Cuando se crea un contenedor y se une a esta red, Docker asignar\xe1 autom\xe1ticamente una direcci\xf3n IP disponible en la subnet 172.20.0.0/16 al contenedor.")))),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("p",{parentName:"div"}," ",(0,i.yg)("a",{parentName:"p",href:"https://docs.docker.com/compose/compose-file/06-networks/"},"Ver m\xe1s informaci\xf3n")))),(0,i.yg)("h2",{id:"campo-volumes"},"Campo volumes"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Te permite definir vol\xfamenes que pueden ser utilizados por los servicios dentro de tu aplicaci\xf3n Docker. Los vol\xfamenes en Docker Compose son utilizados para persistir datos generados por los contenedores, compartir datos entre contenedores o almacenar configuraciones y archivos que deben persistir m\xe1s all\xe1 del ciclo de vida de un contenedor."),(0,i.yg)("li",{parentName:"ul"},"Definici\xf3n de Vol\xfamenes:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Dentro del bloque volumes, puedes definir varios vol\xfamenes con nombres descriptivos (data, config, logs, etc.)."),(0,i.yg)("li",{parentName:"ul"},"Los vol\xfamenes pueden ser de diferentes tipos, como vol\xfamenes de host, vol\xfamenes an\xf3nimos o vol\xfamenes nombrados."))),(0,i.yg)("li",{parentName:"ul"},"Reutilizaci\xf3n de Vol\xfamenes:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Una vez definido un volumen, puedes asignarlo a m\xfaltiples servicios dentro de tu archivo docker-compose.yml."),(0,i.yg)("li",{parentName:"ul"},"Esto permite que varios servicios compartan el mismo volumen para acceder y persistir datos de manera consistente."))),(0,i.yg)("li",{parentName:"ul"},"Configuraciones Avanzadas:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"El campo volumes tambi\xe9n soporta configuraciones avanzadas como la especificaci\xf3n de rutas de host para vol\xfamenes de host, configuraci\xf3n de permisos y modos de montaje, entre otros.")))),(0,i.yg)("h4",{id:"ejemplo-b\xe1sico-1"},"Ejemplo B\xe1sico"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"volumes:\n  - /var/www/html\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"En este caso, se define un volumen con la ruta /var/www/html del host, el cual por defecto ser\xe1 un volumen an\xf3nimo.")))),(0,i.yg)("h4",{id:"uso-en-servicios"},"Uso en Servicios"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Para que un servicio use un volumen definido en el nivel superior, se especifica el volumen en el bloque de configuraci\xf3n del servicio utilizando el atributo volumes:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nservices:\n  nginx:\n    image: nginx\n    volumes:\n      - /var/www/html:/usr/share/nginx/html\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"/var/www/html es una ruta del sistema de archivos del host."),(0,i.yg)("li",{parentName:"ul"},"/usr/share/nginx/html es el directorio dentro del contenedor donde se montar\xe1 la ruta del host.")))))),(0,i.yg)("h4",{id:"definici\xf3n-de-un-volumen-con-nombre"},"Definici\xf3n de un Volumen con Nombre"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\nservices:\n  myservice:\n    image: nginx\n    volumes:\n      - mydata:/usr/share/nginx/html\nvolumes:\n  mydata:\n    driver: local\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"Se define un servicio (myservice) que utiliza la imagen de nginx."),(0,i.yg)("li",{parentName:"ul"},"Se especifica que el volumen mydata se montar\xe1 en el directorio /usr/share/nginx/html dentro del contenedor del servicio myservice."),(0,i.yg)("li",{parentName:"ul"},"En el bloque volumes, se define el volumen mydata con el atributo driver establecido en local, lo que indica que el volumen se gestionar\xe1 localmente en el host donde se ejecuta Docker.")))),(0,i.yg)("h4",{id:"uso-en-servicios-1"},"Uso en Servicios"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\nservices:\n  myservice:\n    image: nginx\n    volumes:\n      - mydata:/usr/share/nginx/html\nvolumes:\n  mydata:\n    driver: local\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"En este caso, el volumen mydata se montar\xe1 en el directorio /usr/share/nginx/html del contenedor myservice, permitiendo que el servicio nginx acceda y persista datos en ese directorio.")))),(0,i.yg)("h4",{id:"entonces-hay-dos-tipos-de-vol\xfamenes"},"Entonces hay dos tipos de vol\xfamenes"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"An\xf3nimo: Un volumen an\xf3nimo se define simplemente como una ruta en el sistema de archivos del host. Los vol\xfamenes an\xf3nimos son \xfatiles cuando solo necesitas montar una ruta espec\xedfica del sistema de archivos del host dentro de un contenedor, sin necesidad de gestionar ese volumen de manera expl\xedcita a nivel global."),(0,i.yg)("li",{parentName:"ul"},"Con Nombre: Un volumen con nombre se define cuando se le asigna expl\xedcitamente un nombre dentro del campo volumes.")),(0,i.yg)("h4",{id:"uso-de-volumen-an\xf3nimo-en-un-servicio"},"Uso de Volumen An\xf3nimo en un Servicio"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"No es necesario definir un volumen an\xf3nimo en el campo volumes a nivel superior antes de utilizarlo en servicios dentro de tu archivo docker-compose.yml. En Docker Compose, puedes especificar vol\xfamenes an\xf3nimos directamente en la secci\xf3n volumes de cualquier servicio sin necesidad de definirlos previamente a nivel global."),(0,i.yg)("li",{parentName:"ul"},"Aqu\xed tienes un ejemplo donde se usa un volumen an\xf3nimo directamente en la configuraci\xf3n de un servicio sin definirlo a nivel superior:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nservices:\n  nginx:\n    image: nginx\n    volumes:\n      - /var/www/html:/usr/share/nginx/html\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"/var/www/html es una ruta del sistema de archivos del host que se monta directamente en /usr/share/nginx/html dentro del contenedor de nginx."),(0,i.yg)("li",{parentName:"ul"},"No se define volumes a nivel superior en este archivo docker-compose.yml.")))),(0,i.yg)("h4",{id:"gesti\xf3n-de-vol\xfamenes"},"Gesti\xf3n de Vol\xfamenes"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Gesti\xf3n en el Host:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Cuando defines un volumen en Docker, ya sea an\xf3nimo o con nombre, Docker se encarga de gestionar este volumen en el sistema de archivos del host. Esto significa que Docker crea una ubicaci\xf3n espec\xedfica en el sistema de archivos del host (generalmente en /var/lib/docker/volumes en sistemas Linux) donde se almacenan los datos asociados con ese volumen."),(0,i.yg)("li",{parentName:"ul"},"Docker se asegura de que los datos en estos vol\xfamenes persistan incluso si los contenedores que los utilizan se detienen o se eliminan."))),(0,i.yg)("li",{parentName:"ul"},"Docker gestiona la creaci\xf3n, montaje y desmontaje de los vol\xfamenes dentro del entorno del contenedor. Cuando especificas un volumen en un archivo docker-compose.yml o al ejecutar un contenedor con docker run -v, Docker se encarga de montar el volumen especificado en el contenedor desde la ubicaci\xf3n en el host.")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("p",{parentName:"div"}," ",(0,i.yg)("a",{parentName:"p",href:"https://docs.docker.com/compose/compose-file/06-networks/"},"Ver m\xe1s informaci\xf3n")))),(0,i.yg)("h2",{id:"campo-configs"},"Campo configs"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Permite definir configuraciones que luego pueden ser referenciadas y usadas por los servicios."),(0,i.yg)("li",{parentName:"ul"},"Estas configuraciones son \xfatiles para manejar archivos de configuraci\xf3n, certificados, o cualquier otro tipo de datos sensibles que necesitas distribuir a tus contenedores.")),(0,i.yg)("h4",{id:"estructura-b\xe1sica"},"Estructura B\xe1sica"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"La estructura b\xe1sica para definir configs a nivel superior es la siguiente:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nconfigs:\n  my_config:\n    file: ./my_config_file.txt\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"En este ejemplo, my_config es una configuraci\xf3n que toma el contenido del archivo ./my_config_file.txt en el sistema de archivos del host.")))),(0,i.yg)("h4",{id:"campos-disponibles"},"Campos Disponibles"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"file: Especifica la ruta del archivo en el sistema de archivos del host que contiene la configuraci\xf3n."),(0,i.yg)("li",{parentName:"ul"},"external: Indica si la configuraci\xf3n es externa al archivo docker-compose.yml. Se refiere a una configuraci\xf3n que no se define directamente en tu archivo docker-compose.yml, sino que ya existe fuera de este archivo, normalmente gestionada por el sistema de Docker, especialmente en entornos de orquestaci\xf3n como Docker Swarm. Utilizar configuraciones externas es \xfatil cuando tienes configuraciones centralizadas que necesitas compartir entre m\xfaltiples aplicaciones o servicios sin duplicarlas en cada archivo docker-compose.yml."),(0,i.yg)("li",{parentName:"ul"},"name: Opcional. Permite asignar un nombre personalizado a la configuraci\xf3n.")),(0,i.yg)("h4",{id:"ejemplos-detallados"},"Ejemplos Detallados"),(0,i.yg)("h4",{id:"definici\xf3n-de-una-configuraci\xf3n-con-un-archivo"},"Definici\xf3n de una Configuraci\xf3n con un Archivo"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nconfigs:\n  my_config:\n    file: ./my_config_file.txt\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"my_config se define con el contenido proveniente de ./my_config_file.txt.")))),(0,i.yg)("h4",{id:"configuraci\xf3n-externa"},"Configuraci\xf3n Externa"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Puedes definir configuraciones que son externas a tu archivo docker-compose.yml. Esto es \xfatil cuando gestionas configuraciones centralizadas en Docker Swarm o Docker Configs:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nconfigs:\n  my_external_config:\n    external: true\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"my_external_config se refiere a una configuraci\xf3n que ya existe y es gestionada externamente a tu archivo docker-compose.yml.")))),(0,i.yg)("h4",{id:"c\xf3mo-usar-configuraciones-externas"},"\xbfC\xf3mo usar configuraciones externas?"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Para las configuraciones externas en Docker, debes asegurarte de que estas configuraciones ya est\xe9n definidas y gestionadas por Docker antes de referenciarlas en tu archivo docker-compose.yml. Docker sabe d\xf3nde buscar estas configuraciones porque se almacenan y gestionan a nivel del sistema Docker, especialmente cuando se usa Docker Swarm.")),(0,i.yg)("h4",{id:"paso-1-crear-la-configuraci\xf3n-externa"},"Paso 1: Crear la Configuraci\xf3n Externa"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Primero, necesitas crear y gestionar la configuraci\xf3n externa usando el comando docker config. Este comando se utiliza para crear configuraciones que luego pueden ser utilizadas por servicios en Docker Swarm:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker config create my_external_config ./path/to/my_config_file.txt\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"my_external_config es el nombre que le das a la configuraci\xf3n."),(0,i.yg)("li",{parentName:"ul"},"./path/to/my_config_file.txt es la ruta al archivo de configuraci\xf3n en tu sistema local.")))),(0,i.yg)("h4",{id:"paso-2-referenciar-la-configuraci\xf3n-externa-en-docker-compose"},"Paso 2: Referenciar la Configuraci\xf3n Externa en Docker Compose"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},'Una vez que la configuraci\xf3n externa est\xe1 creada y gestionada por Docker, puedes referenciarla en tu archivo docker-compose.yml utilizando el "campo external: true": ')),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nconfigs:\n  my_external_config:\n    external: true\n\nservices:\n  myservice:\n    image: nginx\n    configs:\n      - source: my_external_config\n        target: /etc/nginx/conf.d/my_config_file.txt\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"La configuraci\xf3n my_external_config se define con external: true, lo que indica que Docker debe buscar una configuraci\xf3n que se llame my_external_config en sus configuraciones gestionadas externamente."),(0,i.yg)("li",{parentName:"ul"},"El servicio myservice monta my_external_config en /etc/nginx/conf.d/my_config_file.txt dentro del contenedor."),(0,i.yg)("li",{parentName:"ul"},"Docker sabe d\xf3nde buscar la configuraci\xf3n porque las configuraciones externas se almacenan y gestionan a nivel del sistema Docker (especialmente en Docker Swarm). Cuando creas una configuraci\xf3n externa con docker config create, Docker almacena esta configuraci\xf3n en su almac\xe9n de configuraciones."),(0,i.yg)("li",{parentName:"ul"},"Cuando un archivo docker-compose.yml hace referencia a una configuraci\xf3n externa con external: true, Docker busca en este almac\xe9n de configuraciones para encontrar la configuraci\xf3n especificada.")))),(0,i.yg)("h4",{id:"comandos-\xfatiles-para-gestionar-configuraciones-externas"},"Comandos \xdatiles para Gestionar Configuraciones Externas"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Crear Configuraci\xf3n:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker config create my_external_config ./path/to/my_config_file.txt\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Listar Configuraciones:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker config ls\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Ver Detalles de una Configuraci\xf3n:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker config inspect name_config\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Eliminar Configuraci\xf3n:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker config rm my_external_config\n")),(0,i.yg)("h4",{id:"configuraci\xf3n-con-nombre-personalizado"},"Configuraci\xf3n con Nombre Personalizado"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nconfigs:\n  custom_config:\n    name: my_custom_config\n    file: ./another_config_file.txt\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"custom_config se define con un nombre personalizado my_custom_config."),(0,i.yg)("li",{parentName:"ul"},"El contenido proviene de ./another_config_file.txt.")))),(0,i.yg)("h4",{id:"referencia-en-servicios"},"Referencia en Servicios"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"As\xed se implementa una configuraci\xf3n en un servicio:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nconfigs:\n  my_config:\n    file: ./my_config_file.txt\n\nservices:\n  myservice:\n    image: nginx\n    configs:\n      - source: my_config\n        target: /etc/nginx/my_config_file.txt\n\n")),(0,i.yg)("h4",{id:"para-qu\xe9-sirven-las-configuraciones"},"\xbfPara qu\xe9 sirven las configuraciones?"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Las configuraciones se utilizan para inyectar archivos de configuraci\xf3n o datos espec\xedficos en los contenedores de manera segura y gestionada. Estos archivos pueden ser utilizados por las aplicaciones dentro del contenedor para personalizar su comportamiento sin necesidad de reconstruir la imagen del contenedor.")),(0,i.yg)("h4",{id:"qu\xe9-pasa-por-dentro-cuando-se-usa-una-configuraci\xf3n"},"\xbfQu\xe9 pasa por dentro cuando se usa una configuraci\xf3n?"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Cuando defines una configuraci\xf3n en un servicio:",(0,i.yg)("ol",{parentName:"li"},(0,i.yg)("li",{parentName:"ol"},"Montaje del Archivo: Docker monta el archivo de configuraci\xf3n en una ruta espec\xedfica dentro del contenedor."),(0,i.yg)("li",{parentName:"ol"},"Lectura por la Aplicaci\xf3n: La aplicaci\xf3n dentro del contenedor lee este archivo y utiliza su contenido para ajustar su comportamiento seg\xfan lo configurado."),(0,i.yg)("li",{parentName:"ol"},"Consistencia: Permite que todas las instancias del contenedor utilicen la misma configuraci\xf3n, garantizando un comportamiento consistente.")))),(0,i.yg)("h4",{id:"ejemplo-de-uso-pr\xe1ctico"},"Ejemplo de Uso Pr\xe1ctico:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nconfigs:\n  my_config:\n    file: ./my_config_file.txt\n\nservices:\n  web:\n    image: nginx\n    configs:\n      - source: my_config\n        target: /etc/nginx/conf.d/my_config_file.txt\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"Definici\xf3n: my_config se define a nivel superior con el archivo ./my_config_file.txt."),(0,i.yg)("li",{parentName:"ul"},"Referencia: El servicio web monta my_config en /etc/nginx/conf.d/my_config_file.txt dentro del contenedor de nginx."),(0,i.yg)("li",{parentName:"ul"},"Uso Interno: Nginx, al arrancar, leer\xe1 el archivo de configuraci\xf3n montado en /etc/nginx/conf.d/my_config_file.txt y aplicar\xe1 las configuraciones especificadas en ese archivo.")))),(0,i.yg)("h4",{id:"beneficios"},"Beneficios"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Seguridad: Mantienes configuraciones sensibles fuera de las im\xe1genes de los contenedores."),(0,i.yg)("li",{parentName:"ul"},"Flexibilidad: Puedes cambiar configuraciones sin necesidad de reconstruir im\xe1genes."),(0,i.yg)("li",{parentName:"ul"},"Consistencia: Aseguras que todas las instancias de un servicio utilicen las mismas configuraciones.")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("p",{parentName:"div"}," ",(0,i.yg)("a",{parentName:"p",href:"https://docs.docker.com/compose/compose-file/08-configs/"},"Ver m\xe1s informaci\xf3n")))),(0,i.yg)("h2",{id:"campo-secrets"},"Campo secrets"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Permite definir secretos que luego pueden ser referenciados y utilizados por los servicios. Estos secretos son gestionados de manera segura por Docker, y se aseguran de que nunca se expongan en texto plano dentro de los contenedores."),(0,i.yg)("li",{parentName:"ul"},"Los secretos en Docker son datos sensibles que necesitan ser protegidos, como contrase\xf1as, claves API, certificados, y cualquier otra informaci\xf3n confidencial. Docker proporciona una forma segura de gestionar estos datos mediante el uso de secretos, asegur\xe1ndose de que no se expongan en texto plano dentro de los contenedores.")),(0,i.yg)("h4",{id:"caracter\xedsticas-de-los-secretos-en-docker"},"Caracter\xedsticas de los Secretos en Docker"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Gesti\xf3n Segura: Los secretos se almacenan y gestionan de manera segura por Docker. No se exponen en el entorno del contenedor ni en los logs."),(0,i.yg)("li",{parentName:"ul"},"Acceso Controlado: Los secretos solo pueden ser accedidos por los servicios que tienen permiso para usarlos."),(0,i.yg)("li",{parentName:"ul"},"Montaje en Contenedores: Los secretos se montan en los contenedores como archivos en una ubicaci\xf3n segura, t\xedpicamente en /run/secrets/.")),(0,i.yg)("h4",{id:"c\xf3mo-funcionan-los-secretos"},"C\xf3mo Funcionan los Secretos"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Definici\xf3n: Los secretos se definen en el archivo docker-compose.yml o mediante comandos de Docker CLI."),(0,i.yg)("li",{parentName:"ul"},"Referencia: Los servicios que necesitan acceder a los secretos los referencian en su configuraci\xf3n."),(0,i.yg)("li",{parentName:"ul"},"Uso: Los secretos se montan en una ruta espec\xedfica dentro del contenedor, donde la aplicaci\xf3n puede leerlos como archivos.")),(0,i.yg)("h4",{id:"estructura-b\xe1sica-1"},"Estructura B\xe1sica"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"La estructura b\xe1sica para definir secrets a nivel superior es la siguiente:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nsecrets:\n  my_secret:\n    file: ./my_secret_file.txt\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"my_secret es un secreto definido a nivel superior que toma su contenido del archivo ./my_secret_file.txt en el sistema de archivos del host.")))),(0,i.yg)("h4",{id:"campos-disponibles-1"},"Campos Disponibles"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"file: Especifica la ruta del archivo en el sistema de archivos del host que contiene el secreto."),(0,i.yg)("li",{parentName:"ul"},"external: Indica si el secreto es externo al archivo docker-compose.yml."),(0,i.yg)("li",{parentName:"ul"},"name: Opcional. Permite asignar un nombre personalizado al secreto.")),(0,i.yg)("h4",{id:"secreto-externo"},"Secreto Externo"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Puedes definir secretos que son externos a tu archivo docker-compose.yml. Esto es \xfatil cuando gestionas secretos centralizados en Docker Swarm o Docker Secrets:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nsecrets:\n  my_external_secret:\n    external: true\n\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"my_external_secret se refiere a un secreto que ya existe y es gestionado externamente a tu archivo docker-compose.yml."),(0,i.yg)("li",{parentName:"ul"},"Aca pasa lo mismo que con una configuraci\xf3n externa, lo gestionas con el comando \u201cdocker secret\u201d")))),(0,i.yg)("h4",{id:"secreto-con-nombre-personalizado"},"Secreto con Nombre Personalizado"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nsecrets:\n  custom_secret:\n    name: my_custom_secret\n    file: ./another_secret_file.txt\n\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"custom_secret se define con un nombre personalizado my_custom_secret."),(0,i.yg)("li",{parentName:"ul"},"El contenido proviene de ./another_secret_file.txt.")))),(0,i.yg)("h4",{id:"referencia-en-servicios-1"},"Referencia en Servicios"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Para utilizar los secretos en un servicio, los defines dentro del bloque services de la siguiente manera:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nsecrets:\n  my_secret:\n    file: ./my_secret_file.txt\n\nservices:\n  myservice:\n    image: nginx\n    secrets:\n      - my_secret\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"El servicio myservice referencia el secreto my_secret, permitiendo que el contenedor tenga acceso a su contenido de manera segura.")))),(0,i.yg)("h4",{id:"montaje-del-secreto-en-el-contenedor"},"Montaje del Secreto en el Contenedor"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Docker monta los secretos en una ubicaci\xf3n especial dentro del contenedor, generalmente en /run/secrets/"),(0,i.yg)("li",{parentName:"ul"},"Ejemplo:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml"},"version: '3.8'\n\nsecrets:\n  my_secret:\n    file: ./my_secret_file.txt\n\nservices:\n  myservice:\n    image: nginx\n    secrets:\n      - source: my_secret\n        target: /run/secrets/my_secret\n\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"my_secret se monta en /run/secrets/my_secret dentro del contenedor del servicio myservice.")))),(0,i.yg)("h4",{id:"variables-de-entornos-vs-secretos"},"Variables de entornos vs Secretos"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"Seguridad:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Variables de Entorno: Menos seguras. Se pueden exponer f\xe1cilmente dentro del contenedor y pueden ser visibles en los logs de procesos si no se manejan adecuadamente."),(0,i.yg)("li",{parentName:"ul"},"Secretos: M\xe1s seguras. Se almacenan y gestionan de manera segura por Docker. No se exponen en los logs y se montan en ubicaciones espec\xedficas con permisos restringidos."))),(0,i.yg)("li",{parentName:"ol"},"Gesti\xf3n:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Variables de Entorno: Simple de usar y gestionar. Ideal para configuraciones que no son cr\xedticas."),(0,i.yg)("li",{parentName:"ul"},"Secretos: Requieren un paso adicional para su creaci\xf3n y gesti\xf3n, pero ofrecen una mejor seguridad para datos sensibles."))),(0,i.yg)("li",{parentName:"ol"},"Acceso en Contenedor:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Variables de Entorno: Accesibles a trav\xe9s del entorno del contenedor (env)."),(0,i.yg)("li",{parentName:"ul"},"Secretos: Accesibles como archivos en una ruta espec\xedfica (/run/secrets/).")))),(0,i.yg)("h4",{id:"cu\xe1ndo-usar-cada-uno"},"Cu\xe1ndo Usar Cada Uno"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Variables de Entorno:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Informaci\xf3n de configuraci\xf3n general no sensible."),(0,i.yg)("li",{parentName:"ul"},"Modos de operaci\xf3n, configuraciones de servicio no cr\xedticas."))),(0,i.yg)("li",{parentName:"ul"},"Secretos:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Contrase\xf1as, claves API, certificados, y cualquier dato sensible."),(0,i.yg)("li",{parentName:"ul"},"Informaci\xf3n que necesita estar protegida contra accesos no autorizados.")))),(0,i.yg)("h4",{id:"acceso-a-secretos-en-docker"},"Acceso a Secretos en Docker"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Montaje de Secretos: Cuando defines un secreto en Docker Compose o Docker Swarm, Docker se encarga de montar el secreto en una ubicaci\xf3n espec\xedfica dentro del contenedor. Por defecto, los secretos se montan en /run/secrets/nombre_del_secreto."),(0,i.yg)("li",{parentName:"ul"},"Acceso desde la Aplicaci\xf3n:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Desde la aplicaci\xf3n dentro del contenedor, puedes acceder al secreto como un archivo en la ruta especificada (/run/secrets/nombre_del_secreto)."),(0,i.yg)("li",{parentName:"ul"},"Por ejemplo, para leer el contenido de un secreto en un contenedor que corre Nginx, podr\xedas usar un comando como cat /run/secrets/my_secret_password."))),(0,i.yg)("li",{parentName:"ul"},"Seguridad del Acceso:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Docker asegura que solo los procesos que tienen acceso al contenedor y que conocen la ruta del secreto puedan acceder a su contenido."),(0,i.yg)("li",{parentName:"ul"},"Los permisos del sistema de archivos dentro del contenedor est\xe1n configurados de tal manera que solo el usuario o proceso adecuado puede leer el contenido del archivo de secreto.")))),(0,i.yg)("h4",{id:"consideraciones-de-seguridad-adicionales"},"Consideraciones de Seguridad Adicionales"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"No se expone en texto plano: Docker asegura que el contenido del secreto no sea visible en texto plano dentro del sistema operativo del contenedor."),(0,i.yg)("li",{parentName:"ul"},"Gesti\xf3n de Acceso: Solo los procesos dentro del contenedor que tienen acceso al sistema de archivos /run/secrets pueden leer el secreto.")),(0,i.yg)("h4",{id:"seguridad-de-los-secretos-en-docker"},"Seguridad de los Secretos en Docker"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Montaje Seguro: Docker monta los secretos como archivos en una ubicaci\xf3n espec\xedfica dentro del sistema de archivos del contenedor, generalmente en /run/secrets/."),(0,i.yg)("li",{parentName:"ul"},"Acceso Restringido:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Permisos de Acceso: Docker establece permisos de acceso restrictivos en la carpeta /run/secrets/ dentro del contenedor. Solo el proceso o los procesos que tienen los permisos adecuados pueden acceder a los archivos de secreto."),(0,i.yg)("li",{parentName:"ul"},"Usuario y Grupo: Los archivos de secreto se asignan a un usuario y grupo espec\xedficos dentro del contenedor, asegurando que solo ese usuario y los procesos que corren bajo ese contexto puedan acceder al secreto."))),(0,i.yg)("li",{parentName:"ul"},"No Exposici\xf3n en Texto Plano: Docker toma medidas para asegurarse de que el contenido del secreto no sea visible en texto plano dentro del contenedor. Esto significa que el secreto no es accesible directamente a trav\xe9s de comandos que podr\xedan exponer su contenido en los logs o en otros lugares dentro del contenedor."),(0,i.yg)("li",{parentName:"ul"},"Lectura del Secreto: La aplicaci\xf3n puede leer el secreto desde la ubicaci\xf3n montada usando operaciones de lectura de archivos est\xe1ndar en el lenguaje de programaci\xf3n utilizado (por ejemplo, abrir y leer el archivo).")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("p",{parentName:"div"}," ",(0,i.yg)("a",{parentName:"p",href:"https://docs.docker.com/compose/compose-file/09-secrets/"},"Ver m\xe1s informaci\xf3n")))),(0,i.yg)("h2",{id:"ejecutar-docker-compose"},"Ejecutar docker compose"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"En la ubicaci\xf3n del proyecto y del archivo docker-composer , ejecutamos el comando:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker compose up\n")),(0,i.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.yg)("div",{parentName:"div",className:"admonition-heading"},(0,i.yg)("h5",{parentName:"div"},(0,i.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,i.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,i.yg)("div",{parentName:"div",className:"admonition-content"},(0,i.yg)("ul",{parentName:"div"},(0,i.yg)("li",{parentName:"ul"},"Lee el archivo docker-composer y crea o ejecuta las im\xe1genes/contenedores necesarios para realizar todo lo que se especifica en el archivo."),(0,i.yg)("li",{parentName:"ul"},"Todos los contenedores que crea y ejecuta los agrupa con un nombre."),(0,i.yg)("li",{parentName:"ul"},'Al ejecutar el comando se bloquea la consola, por lo tanto, si pulsamos "control + c" se detiene. Para evitar esto puedes usar la ',(0,i.yg)("a",{parentName:"li",href:"/documentacion/docs/Docker/#comportamiento-de-la-consola"},"opci\xf3n -d del comando docker run"),".")))),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Para eliminar el grupo que contiene todos los contenedores que creamos:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker compose down\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Tambien podemos usar la opcion --build  para arrancar los servicios definidos en un archivo docker-compose.yml. La opci\xf3n --build a\xf1ade un paso adicional: fuerza la construcci\xf3n de las im\xe1genes de los servicios antes de arrancarlos. Esto es \xfatil cuando has realizado cambios en los Dockerfiles o en el contexto de construcci\xf3n y necesitas que se reflejen esos cambios en las im\xe1genes."),(0,i.yg)("li",{parentName:"ul"},"Sin --build: Docker Compose usa las im\xe1genes que ya est\xe1n disponibles  y solo las construye si no existen."),(0,i.yg)("li",{parentName:"ul"},"Con --build: Fuerza la construcci\xf3n de las im\xe1genes para todos los servicios, asegurando que cualquier cambio reciente en el Dockerfile o en el contexto de construcci\xf3n se aplique."),(0,i.yg)("li",{parentName:"ul"},"Ejemplo:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},"docker compose up  --build\n")))}u.isMDXComponent=!0}}]);