"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[5182],{3905:(e,a,n)=>{n.d(a,{Zo:()=>m,kt:()=>p});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function i(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=t.createContext({}),u=function(e){var a=t.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):s(s({},a),e)),n},m=function(e){var a=u(e.components);return t.createElement(l.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},d=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),d=u(n),p=r,v=d["".concat(l,".").concat(p)]||d[p]||c[p]||o;return n?t.createElement(v,s(s({ref:a},m),{},{components:n})):t.createElement(v,s({ref:a},m))}));function p(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=d;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var u=2;u<o;u++)s[u]=n[u];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9713:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>u});var t=n(7462),r=(n(7294),n(3905));const o={sidebar_position:9},s="Proyecto #1",i={unversionedId:"vue/proyecto",id:"vue/proyecto",title:"Proyecto #1",description:"1",source:"@site/docs/vue/proyecto.md",sourceDirName:"vue",slug:"/vue/proyecto",permalink:"/documentacion/docs/vue/proyecto",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/vue/proyecto.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"vue",previous:{title:"Vue #5",permalink:"/documentacion/docs/vue/vue5"},next:{title:"Proyecto 2 -- ShortUrl",permalink:"/documentacion/docs/vue/proyecto2"}},l={},u=[{value:"Iniciamos el proyecto con vite",id:"iniciamos-el-proyecto-con-vite",level:2},{value:"script setup",id:"script-setup",level:2},{value:"Componente App",id:"componente-app",level:2},{value:"Inicializar servidor",id:"inicializar-servidor",level:3},{value:"vue-router",id:"vue-router",level:2},{value:"1. Creamos la carpeta views dentro de src",id:"1-creamos-la-carpeta-views-dentro-de-src",level:3},{value:"2. Creamos el archivo router.js en src",id:"2-creamos-el-archivo-routerjs-en-src",level:3},{value:"3. Configuramos el componente App para que renderice las vistas",id:"3-configuramos-el-componente-app-para-que-renderice-las-vistas",level:3},{value:"Navbar",id:"navbar",level:2},{value:"Pinia",id:"pinia",level:2},{value:"Instalacion",id:"instalacion",level:3},{value:"State  / Variables en componentes",id:"state---variables-en-componentes",level:2},{value:"GETTER",id:"getter",level:2},{value:"Hacemos lo mismo pero desde la tienda",id:"hacemos-lo-mismo-pero-desde-la-tienda",level:3},{value:"ACTIONS  / Eventos",id:"actions---eventos",level:2},{value:"Firebase 9",id:"firebase-9",level:2},{value:"Instalacion",id:"instalacion-1",level:3},{value:"Configuracion",id:"configuracion",level:3},{value:"Habilitamos la autenticacion",id:"habilitamos-la-autenticacion",level:3},{value:"Formulario / preventDefault()",id:"formulario--preventdefault",level:2},{value:"ref",id:"ref",level:2},{value:"Valores por defecto del formulario",id:"valores-por-defecto-del-formulario",level:3},{value:"Validaciones (Trim)",id:"validaciones-trim",level:2},{value:"Register",id:"register",level:2},{value:"useRouter (Redirrecion)",id:"userouter-redirrecion",level:2},{value:"Login",id:"login",level:2},{value:"Logout",id:"logout",level:2},{value:"Redirrecion con el router",id:"redirrecion-con-el-router",level:2},{value:"Loading \u2013 \u201cAtributos\u201d dinamicos",id:"loading--atributos-dinamicos",level:2},{value:"Ruta protegida",id:"ruta-protegida",level:2},{value:"Componentes y v-if",id:"componentes-y-v-if",level:2},{value:"Loading  y v-else",id:"loading--y-v-else",level:2},{value:"Verificar cuenta correo",id:"verificar-cuenta-correo",level:2},{value:"En FireBase",id:"en-firebase",level:3},{value:"En el proyecto",id:"en-el-proyecto",level:3},{value:"Mas seguridad a la ruta protegida",id:"mas-seguridad-a-la-ruta-protegida",level:3},{value:"Inicializa Cloud Firestore",id:"inicializa-cloud-firestore",level:2},{value:"Pasos en Firebase",id:"pasos-en-firebase",level:3},{value:"Pasos en el proyecto",id:"pasos-en-el-proyecto",level:3},{value:"Creamos otra store / Leer doc",id:"creamos-otra-store--leer-doc",level:2},{value:"WHERE",id:"where",level:2},{value:"V-for",id:"v-for",level:2},{value:"Loading",id:"loading",level:2},{value:"Reset Store",id:"reset-store",level:2},{value:"Agregar Doc",id:"agregar-doc",level:2},{value:"Borrar doc / getDoc",id:"borrar-doc--getdoc",level:2},{value:"Variables en Url (getDoc)",id:"variables-en-url-getdoc",level:2},{value:"Leer variable url / onMounted",id:"leer-variable-url--onmounted",level:2},{value:"Update doc",id:"update-doc",level:2},{value:"Rules",id:"rules",level:2},{value:"Siempre comienta con : service cloud.firestore",id:"siempre-comienta-con--service-cloudfirestore",level:3},{value:"Declaracion match /databases/{database}/documents",id:"declaracion-match-databasesdatabasedocuments",level:3},{value:"Reglas b\xe1sicas de lectura y escritura",id:"reglas-b\xe1sicas-de-lectura-y-escritura",level:3},{value:"Resultado Final",id:"resultado-final",level:3},{value:"Deploy",id:"deploy",level:2},{value:"Ant Design Vue",id:"ant-design-vue",level:2},{value:"Ant Design Of Vue",id:"ant-design-of-vue",level:3},{value:"Instalacion de ambos",id:"instalacion-de-ambos",level:3},{value:"Listo!!",id:"listo",level:3},{value:"Componente a-button",id:"componente-a-button",level:3},{value:"Props",id:"props",level:4},{value:"Ejemplos",id:"ejemplos",level:4},{value:"Layout",id:"layout",level:2},{value:"Layout con Menu",id:"layout-con-menu",level:3},{value:"A-layout",id:"a-layout",level:4},{value:"A-layout-header",id:"a-layout-header",level:4},{value:"A-menu",id:"a-menu",level:4},{value:"Props:",id:"props-1",level:5},{value:"A-menu-item",id:"a-menu-item",level:4},{value:"Props:",id:"props-2",level:5},{value:"a-layout-content",id:"a-layout-content",level:4},{value:"Name del router",id:"name-del-router",level:2},{value:"Tener acceso al name desde la vista",id:"tener-acceso-al-name-desde-la-vista",level:3},{value:"Grid",id:"grid",level:2},{value:"Componentes:",id:"componentes",level:3},{value:"a-row",id:"a-row",level:4},{value:"a-col",id:"a-col",level:4},{value:"props:",id:"props-3",level:4},{value:"span",id:"span",level:5},{value:"offset",id:"offset",level:5},{value:"xs , sm",id:"xs--sm",level:5},{value:"Formulario",id:"formulario",level:2},{value:"Componentes",id:"componentes-1",level:3},{value:"a-form",id:"a-form",level:4},{value:"Props:",id:"props-4",level:4},{value:"a-form-item",id:"a-form-item",level:4},{value:"Props:",id:"props-5",level:4},{value:"a-input",id:"a-input",level:4},{value:"a-input-password",id:"a-input-password",level:4},{value:"a-button",id:"a-button",level:4},{value:"Problema",id:"problema",level:3},{value:"Utilizamos los eventos Finish y FinishFailed del componente a-form",id:"utilizamos-los-eventos-finish-y-finishfailed-del-componente-a-form",level:3},{value:"Reglas para la props rules",id:"reglas-para-la-props-rules",level:4},{value:"Registro con repassword",id:"registro-con-repassword",level:2},{value:"Reglas para la props rules",id:"reglas-para-la-props-rules-1",level:4},{value:"Errores Fire Auth",id:"errores-fire-auth",level:2},{value:"Login",id:"login-1",level:3},{value:"Message",id:"message",level:2},{value:"Register",id:"register-1",level:2},{value:"Animaciones de loading en los botones:",id:"animaciones-de-loading-en-los-botones",level:3},{value:"Componente AddForm / Renderizar componente",id:"componente-addform--renderizar-componente",level:2},{value:"Reglas para la props rules",id:"reglas-para-la-props-rules-2",level:4},{value:"Le a\xf1adimos un loading y un manejo de errores de Firebase",id:"le-a\xf1adimos-un-loading-y-un-manejo-de-errores-de-firebase",level:3},{value:"Card",id:"card",level:2},{value:"Componente a-card",id:"componente-a-card",level:3},{value:"props:",id:"props-6",level:4},{value:"componente template",id:"componente-template",level:3},{value:"componente a-space",id:"componente-a-space",level:3},{value:"props:",id:"props-7",level:4},{value:"Confirmar Eliminacion / Parametro en la funci\xf3n del evento",id:"confirmar-eliminacion--parametro-en-la-funci\xf3n-del-evento",level:2},{value:"Componente a-popfirm",id:"componente-a-popfirm",level:3},{value:"props:",id:"props-8",level:4},{value:"Editar",id:"editar",level:2}],m={toc:u};function c(e){let{components:a,...n}=e;return(0,r.kt)("wrapper",(0,t.Z)({},m,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"proyecto-1"},"Proyecto #1"),(0,r.kt)("h2",{id:"iniciamos-el-proyecto-con-vite"},"Iniciamos el proyecto con vite"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"http://localhost:3000/documentacion/docs/React/proyecto#vite"},"\xbfque es vite?")),(0,r.kt)("li",{parentName:"ul"},"Iniciamos un proyecto de vue con el siguiente comando:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm create vite@latest my-vue-app -- --template vue\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es parecido a React"),(0,r.kt)("li",{parentName:"ul"},"La aplicaci\xf3n se monta en el index.html (el div con la id app)"),(0,r.kt)("li",{parentName:"ul"},"El src/main.js crea la aplicaci\xf3n y la renderiza en el div del index.html"),(0,r.kt)("li",{parentName:"ul"},"Por lo tanto, lo que se renderiza es el src/App.vue ")),(0,r.kt)("p",null,"App.vue "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es un componente")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<script setup>\nimport HelloWorld from \'./components/HelloWorld.vue\'\n<\/script>\n\n<template>\n  <img alt="Vue logo" src="./assets/logo.png" />\n  <HelloWorld msg="Hello Vue 3 + Vite" />\n</template>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n')),(0,r.kt)("h2",{id:"script-setup"},"script setup"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Lo que esta adentro de esa etiqueta, se va al template."),(0,r.kt)("li",{parentName:"ul"},"Se ejecutar\xe1 cada vez que se cree una instancia del componente ."),(0,r.kt)("li",{parentName:"ul"},"Al usar script setup, cualquier enlace de nivel superior (incluidas variables, declaraciones de funciones e importaciones) declarado dentro script setup se puede usar directamente en la plantilla")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<script setup>\nimport HelloWorld from './components/HelloWorld.vue'\n<\/script>\n\n")),(0,r.kt)("h2",{id:"componente-app"},"Componente App"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Creamos nuestro componente App")),(0,r.kt)("p",null,"App.vue "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Podes usar el snippet vue  (vbase-3-setup)"),(0,r.kt)("li",{parentName:"ul"},"Utilizamos la etiqueta template"),(0,r.kt)("li",{parentName:"ul"},"Lo que contiene la etiqueta template se va a renderizar.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<template>\n <h1>App</h1>\n</template>\n\n")),(0,r.kt)("h3",{id:"inicializar-servidor"},"Inicializar servidor"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm run dev  \n")),(0,r.kt)("h2",{id:"vue-router"},"vue-router"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://router.vuejs.org/installation.html#direct-download-cdn"},"link")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://router.vuejs.org/guide/"},"como empezar"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install vue-router@4\n")),(0,r.kt)("h3",{id:"1-creamos-la-carpeta-views-dentro-de-src"},"1. Creamos la carpeta views dentro de src"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Tambien se puede llamar routes"),(0,r.kt)("li",{parentName:"ul"},"Aca van todos los componentes que se van a renderizar en las rutas")),(0,r.kt)("p",null,"src/views/Home.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<template>\n    <div>\n       <h1>Home</h1>\n    </div>\n</template>\n\n<script setup>\n\n<\/script>\n\n")),(0,r.kt)("p",null,"src/views/Login.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<template>\n    <div>\n       <h1>Login</h1>\n    </div>\n</template>\n\n<script setup>\n\n<\/script>\n\n")),(0,r.kt)("p",null,"src/views/Register.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"\n<template>\n    <div>\n       <h1>Register</h1>\n    </div>\n</template>\n\n<script setup>\n\n<\/script>\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Las tres rutas son components"))),(0,r.kt)("h3",{id:"2-creamos-el-archivo-routerjs-en-src"},"2. Creamos el archivo router.js en src"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Crea el router"),(0,r.kt)("li",{parentName:"ul"},"Tiene las configuraciones de las rutas"),(0,r.kt)("li",{parentName:"ul"},"Este archivo especifica que componente debe renderizar en base a la url."),(0,r.kt)("li",{parentName:"ul"},"El router lo utiliza la app (main.js)")),(0,r.kt)("p",null,"src/router.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// createWebHistory = Para evitar el # en la url\nimport {createRouter , createWebHistory } from 'vue-router';\n\n// componentes\nimport Home from './views/Home.vue';\nimport Login from './views/Login.vue';\nimport Register from './views/Register.vue';\n\n // routes = array de objetos\n // cada objeto es una ruta \nconst routes = [\n    // path : ruta   components: componente a renderizar en la ruta\n    {path:\"/\" , component: Home},\n    {path:\"/login\" , component: Login},\n    {path:\"/register\" , component: Register},\n]\n\n// creamos el router con toda su configuracion \n// createRouter({rutas , history})\nconst router = createRouter({ \n    routes ,\n    history : createWebHistory()\n})\n\nexport default router;\n\n")),(0,r.kt)("p",null,"main.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router';\n// use(router) = Que utilize el router\ncreateApp(App).use(router).mount('#app')\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Con  createWebHistory: http://localhost:3000/login"),(0,r.kt)("li",{parentName:"ul"},"Con createWebHashHistory y sin createWebHistory:  http://localhost:3000/#/login")))),(0,r.kt)("h3",{id:"3-configuramos-el-componente-app-para-que-renderice-las-vistas"},"3. Configuramos el componente App para que renderice las vistas"),(0,r.kt)("p",null,"App.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div>\n    <h1>App</h1>\n    \x3c!-- Es como un componente que lo genera el router que renderiza las vistas  --\x3e\n    <router-view></router-view>\n  </div>\n</template>\n\n<script setup>\n\n<\/script>\n\n<style lang="scss" scoped>\n\n</style>\n\n')),(0,r.kt)("h2",{id:"navbar"},"Navbar"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"en lugar de usar la etiqueta a , utiliza la etiqueta router-link"),(0,r.kt)("li",{parentName:"ul"},"el lugar de usar el atributo href , se utiliza el to.")),(0,r.kt)("p",null,"App.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div>\n    <h1>App</h1>\n\n    <nav>\n      \x3c!-- <router-link> es el equivalente a <a></a> --\x3e\n      \x3c!-- el to="valor" es equivalente a href="valor" --\x3e\n      <router-link to="/">Home </router-link>  |\n      <router-link to="/login">Login </router-link> |\n      <router-link to="/register">Register </router-link> |\n      <button>Logout</button>\n    </nav>\n\n    \x3c!-- Es como un componente que lo genera el router que renderiza las vistas  --\x3e\n    <router-view></router-view>\n  </div>\n</template>\n\n<script setup>\n\n<\/script>\n\n<style lang="scss" scoped>\n\n</style>\n\n')),(0,r.kt)("h2",{id:"pinia"},"Pinia"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://pinia.vuejs.org/"},"link")),(0,r.kt)("li",{parentName:"ul"},"Pinia es una biblioteca de  Store para Vue, le permite compartir un estado entre componentes/p\xe1ginas."),(0,r.kt)("li",{parentName:"ul"},"Aunque Pinia es lo suficientemente bueno para reemplazar a Vuex, reemplazar a Vuex no era su objetivo. Pero luego se volvi\xf3 tan bueno que el equipo central de Vue.js decidi\xf3 convertirlo en Vuex 5."),(0,r.kt)("li",{parentName:"ul"},"Es el equivalente a ",(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/context.html"},"context Api"),"  de react"),(0,r.kt)("li",{parentName:"ul"},"Permite compartir un estado entre componentes"),(0,r.kt)("li",{parentName:"ul"},"Sirve para implementar un estado global"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://blog.logrocket.com/pinia-vs-vuex/"},"pinia vs vuex"))),(0,r.kt)("h3",{id:"instalacion"},"Instalacion"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install pinia\n")),(0,r.kt)("p",null,"main.js"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Inicializamos pinia ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router';\nimport { createPinia } from 'pinia'\n// use(router) = Que utilize el router\n//use(createPinia()) = Que inicialice pinia\ncreateApp(App).use(router).use(createPinia()).mount('#app')\n\n")),(0,r.kt)("h2",{id:"state---variables-en-componentes"},"State  / Variables en componentes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Creamos la Carpeta stores dentro de src"),(0,r.kt)("li",{parentName:"ul"},"Podemos crear varias stores dentro de esta carpeta")),(0,r.kt)("p",null,"src/stores/user.js"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Vamos a crear una tienda."),(0,r.kt)("li",{parentName:"ul"},"Todas las tiendan tienen un nombre que las identifica y un objeto con las configuraciones."),(0,r.kt)("li",{parentName:"ul"},"En las configuraciones se encuentra el estado, las acciones (permite modificar el estado) y los getter (permite obtener el estado de forma computada)."),(0,r.kt)("li",{parentName:"ul"},"Todo lo que contiene el estado se comparte con todos los componentes.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { defineStore } from 'pinia'\n\n//defineStore(\"nombre\" , {configuracion})\nexport const useUserStore = defineStore(\"userStore\" , {\n    //state: funci\xf3n flecha que retorna el estado.\n    state : () => ({\n          userData : 'nombreusuario@tes.com'\n    })\n    \n})\n\n")),(0,r.kt)("p",null,"Home.vue"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Para escribir variables dentro de vue(template) es con:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-js"}," {{ variable}}\n")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<template>\n    <div>\n       <h1>Home - {{userStore.userData}}</h1>\n    </div>\n</template>\n\n<script setup>\n  import { useUserStore } from '../stores/user';\n  // Accedemos a la tienda\n  // userStore = contiene el objeto que retornaba state\n  const userStore = useUserStore();\n<\/script>\n\n")),(0,r.kt)("h2",{id:"getter"},"GETTER"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Los captadores son solo propiedades computadas detr\xe1s de escena, por lo que no es posible pasarles ning\xfan par\xe1metro (solo el State)"),(0,r.kt)("li",{parentName:"ul"},"Sin embargo, puede devolver una funci\xf3n del getter para aceptar cualquier argumento: ",(0,r.kt)("a",{parentName:"li",href:"https://pinia.vuejs.org/core-concepts/getters.html#passing-arguments-to-getters"},"link"))),(0,r.kt)("p",null,"Login.vue"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Utilizamos los getter(computed) para modificar un valor del estado."),(0,r.kt)("li",{parentName:"ul"},"El valor modificado no se guardar\xe1 en la Store. (no modificara el estado)"),(0,r.kt)("li",{parentName:"ul"},"Es un getter que puede modificar el valor devuelto. Ej. te devuelve la informaci\xf3n en may\xfascula."),(0,r.kt)("li",{parentName:"ul"},"Hace un c\xe1lculo, pero no lo modifica.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<template>\n    <div>\n       <h1>Login</h1>\n       <p>{{mayuscula}}</p>\n    </div>\n</template>\n\n<script setup>\n  \nimport { computed } from 'vue';\nimport { useUserStore } from '../stores/user';\n  // Accedemos a la tienda\n  // userStore = contiene el objeto que retornaba state\n  const userStore = useUserStore();\n  // computed(callback que retorna el valor)\n  const mayuscula = computed(() => userStore.userData.toUpperCase());\n<\/script>\n\n")),(0,r.kt)("h3",{id:"hacemos-lo-mismo-pero-desde-la-tienda"},"Hacemos lo mismo pero desde la tienda"),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Los getter siempre deben retornar algo."))),(0,r.kt)("p",null,"user.js "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { defineStore } from 'pinia'\n\n//defineStore(\"nombre\" , {configuracion})\nexport const useUserStore = defineStore(\"userStore\" , {\n    //state: funci\xf3n flecha que retorna el estado.\n    state : () => ({\n          userData : 'nombreusuario@tes.com'\n    }) ,\n    // getters : {  los computed}\n    getters: {\n       mayuscula(state) {\n          return state.userData.toUpperCase();\n       }\n    }\n    \n})\n\n")),(0,r.kt)("p",null,"Login.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<template>\n    <div>\n       <h1>Login</h1>\n       <p>{{mayuscula}}</p>\n    </div>\n</template>\n\n<script setup>\n  \nimport { computed } from 'vue';\nimport { useUserStore } from '../stores/user';\n  // Accedemos a la tienda\n  // userStore = contiene el objeto que retornaba state\n  const userStore = useUserStore();\n  // LLamamos al getter mayuscula\n  const mayuscula = userStore.mayuscula;\n<\/script>\n\n")),(0,r.kt)("h2",{id:"actions---eventos"},"ACTIONS  / Eventos"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Las acciones son el equivalente de los m\xe9todos en los componentes. Se pueden definir con la propiedad actions en defineStore() y son perfectos para definir la l\xf3gica empresarial"),(0,r.kt)("li",{parentName:"ul"},"Son para mutar/modificar el estado.")),(0,r.kt)("p",null,"user.js "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { defineStore } from 'pinia'\n\n//defineStore(\"nombre\" , {configuracion})\nexport const useUserStore = defineStore(\"userStore\" , {\n    //state: funci\xf3n flecha que retorna el estado.\n    state : () => ({\n          userData : 'nombreusuario@tes.com'\n    }) ,\n    // getters : {  los computed}\n    getters: {\n       mayuscula(state) {\n          return state.userData.toUpperCase();\n       }\n    } ,\n    // actions : {metodos}\n    actions : {\n        registerUser(name) {\n            // con el this accedemos al estado\n            this.userData = name\n        }\n    }\n    \n})\n\n")),(0,r.kt)("p",null,"Register.vue"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Trabajamos con eventos")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Evento ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"@evento=\u201dcodigo\u201d"),(0,r.kt)("li",{parentName:"ul"},"Al producirse el evento , ejecuta el codigo")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<template>\n    <div>\n        <h1>Register</h1>\n        <button @click=\"userStore.registerUser('Registrado')\">Ingresar</button>\n    </div>\n</template>\n\n<script setup>\nimport { useUserStore } from '../stores/user';\nconst userStore = useUserStore();\n<\/script>\n\n")),(0,r.kt)("h2",{id:"firebase-9"},"Firebase 9"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/web/setup?authuser=0&hl=es"},"link")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://console.firebase.google.com/u/0/"},"consola")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#firebase-9"},"que es?"))),(0,r.kt)("h3",{id:"instalacion-1"},"Instalacion"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install firebase\n")),(0,r.kt)("h3",{id:"configuracion"},"Configuracion"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Este codigo le deberia aparecer en firebase (mas o menos) (",(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#firebase-9"},"ver el apartado de firebase en React para obtenerlo"),")")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { initializeApp } from "firebase/app";\nimport { getFirestore } from "firebase/firestore";\nimport { getAuth, onAuthStateChanged } from "firebase/auth";\n\nconst firebaseConfig = {\n    apiKey: "xxx",\n    authDomain: "xxx",\n    projectId: "xxx",\n    storageBucket: "xxx",\n    messagingSenderId: "xxx",\n    appId: "xxx",\n};\n\ninitializeApp(firebaseConfig);\nconst db = getFirestore();\nconst auth = getAuth();\nexport { db, auth };\n\n')),(0,r.kt)("h3",{id:"habilitamos-la-autenticacion"},"Habilitamos la autenticacion"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Habilitamos la autenticacion de correo electronico/contrase\xf1a  en la pagina de firebase"),(0,r.kt)("li",{parentName:"ol"},"Generamos el auth que se va a implementar en todas las autenticaciones ya sea para iniciar sesion o registrarse.")),(0,r.kt)("p",null,"firebaseConfig.js"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es un Archivo de configuracion que va en src ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// Import the functions you need from the SDKs you need\nimport { initializeApp } from "firebase/app";\nimport {getAuth} from \'firebase/auth\'\nconst firebaseConfig = {\n  apiKey: "XXX",\n  authDomain: "XXX",\n  projectId: "XXX",\n  storageBucket: "XXX",\n  messagingSenderId: "XXX",\n  appId: "XXX"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nexport {auth};\n\n')),(0,r.kt)("h2",{id:"formulario--preventdefault"},"Formulario / preventDefault()"),(0,r.kt)("p",null,"Register.vue"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"@evento.prevent = evento.preventDefault()."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n    <div>\n        <h1>Register</h1>\n        <form @submit.prevent="handleSubmit">\n            <input type="email" placeholder="Ingrese email">\n            <input type="password" placeholder="Ingrese password">\n            <button type="submit">Crear usuario</button>\n        </form>\n\n    </div>\n</template>\n\n<script setup>\n    const handleSubmit = () => {\n        console.log("procesando");\n    }\n<\/script>\n\n')),(0,r.kt)("h2",{id:"ref"},"ref"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Nos permite acceder a todas las propiedades de un elemento del template."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#useref"},"Casi lo mismo que useRef de react")),(0,r.kt)("li",{parentName:"ul"},"Se le asigna v-model a un elemento/componente del template cuyo valor es la constante que contiene un ref (v-model = \u201cvariable const\u201d)"),(0,r.kt)("li",{parentName:"ul"},"A trav\xe9s de v-model se le asigna la referencia a la variable."),(0,r.kt)("li",{parentName:"ul"},"Esa constante tendr\xeda una referencia a ese elemento \u201cHTML\u201d  , por lo tanto se podr\xeda decir que es igual a  document.getElementById\u2026. de javascript.")),(0,r.kt)("p",null,"Register.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n    <div>\n        <h1>Register</h1>\n        <form @submit.prevent="handleSubmit">\n            <input type="email" placeholder="Ingrese email" v-model="email">\n            <input type="password" placeholder="Ingrese password" v-model="password">\n            <button type="submit">Crear usuario</button>\n        </form>\n\n    </div>\n</template>\n\n<script setup>\nimport { ref } from \'vue\';\n\nconst email = ref(\'\');\nconst password = ref(\'\');\n    const handleSubmit = () => {\n        console.log(email.value);\n        console.log(password.value);\n        \n    }\n<\/script>\n\n')),(0,r.kt)("h3",{id:"valores-por-defecto-del-formulario"},"Valores por defecto del formulario"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const email = ref('usuario@tes.com');\nconst password = ref('123123');\n\n")),(0,r.kt)("h2",{id:"validaciones-trim"},"Validaciones (Trim)"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"el trim (limpia los espacios) se le puede poner al v-model."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n    <div>\n        <h1>Register</h1>\n        <form @submit.prevent="handleSubmit">\n            <input type="email" placeholder="Ingrese email" v-model.trim="email">\n            <input type="password" placeholder="Ingrese password" v-model.trim="password">\n            <button type="submit">Crear usuario</button>\n        </form>\n\n    </div>\n</template>\n\n<script setup>\nimport { ref } from \'vue\';\n\nconst email = ref(\'usuario@tes.com\');\nconst password = ref(\'123123\');\n    const handleSubmit = () => {\n         if (!email.value || !password.value){\n             return alert(\'llena los campos\');\n         }\n        \n    }\n<\/script>\n\n')),(0,r.kt)("h2",{id:"register"},"Register"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Utilizamos el metodo ",(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#createuserwithemailandpassword"},"createUserWithEmailAndPassword"))),(0,r.kt)("p",null,"stores/user.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { defineStore } from 'pinia'\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nexport const useUserStore = defineStore(\"userStore\", {\n    state: () => ({\n        userData: 'nombreusuario@tes.com'\n    }),\n    actions: {\n        async registerUser(email, password) {\n            try {\n                // Creamos el usuario\n                 const usuario = await createUserWithEmailAndPassword(auth, email, password)\n                 // Accedemos a la propiedad user \n                 console.log(usuario.user)\n            } catch (error) {\n                console.log(error)\n            }\n        }\n    }\n})\n\n")),(0,r.kt)("p",null,"Register.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<script setup>\nimport { ref } from 'vue';\nimport { useUserStore } from '../stores/user';\nconst userStore = useUserStore();\nconst email = ref('usuario@tes.com');\nconst password = ref('123123');\n    const handleSubmit = () => {\n         if (!email.value || !password.value){\n             return alert('llena los campos');\n         }\n         userStore.registerUser(email.value, password.value)\n         console.log(\"Te registraste\");\n    }\n<\/script>\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Como se puede observar, la propiedad user contiene toda la informaci\xf3n del usuario."))),(0,r.kt)("p",null,"En base a la observacion , podemos hacer algunos cambios : "),(0,r.kt)("p",null,"stores/user.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"    async registerUser(email, password) {\n            try {\n                // Creamos el usuario\n                const { user } = await createUserWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid }\n            } catch (error) {\n                console.log(error)\n            }\n        }\n\n")),(0,r.kt)("h2",{id:"userouter-redirrecion"},"useRouter (Redirrecion)"),(0,r.kt)("p",null,"Register.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<script setup>\n// vue\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\n// store\nimport { useUserStore } from '../stores/user';\nconst userStore = useUserStore();\n//ref\nconst email = ref('usuario@tes.com');\nconst password = ref('123123');\n// Creamos el router\nconst router = useRouter();\nconst  handleSubmit = async () => {\n    if (!email.value || !password.value) {\n        return alert('llena los campos');\n    }\n    await userStore.registerUser(email.value, password.value)\n    // Redirrecionamos a la pagina raiz ('/') , al home\n    router.push('/')\n}\n<\/script>\n\n")),(0,r.kt)("h2",{id:"login"},"Login"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Usamos el metodo ",(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#signinwithemailandpassword"},"signInWithEmailAndPassword"))),(0,r.kt)("p",null,"stores/user.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," actions: {\n        async registerUser(email, password) {\n            try {\n                // Creamos el usuario\n                const { user } = await createUserWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid }\n            } catch (error) {\n                console.log(error)\n            }\n        },\n        async loginUser(email, password) {\n            try {\n                // Iniciamos sesion y sacamos la informacion del usuario(la contiene la propiedad user)\n                const { user } = await signInWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid };\n            } catch (error) {\n                console.log(error);\n            }\n        }\n    }\n\n")),(0,r.kt)("p",null,"Login.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<template>\n    <div>\n        <h1>Login</h1>\n        <form @submit.prevent=\"handleSubmit\">\n            <input type=\"email\" placeholder=\"Ingrese email\" v-model.trim=\"email\">\n            <input type=\"password\" placeholder=\"Ingrese password\" v-model.trim=\"password\">\n            <button type=\"submit\">Acceso</button>\n        </form>\n\n    </div>\n</template>\n\n<script setup>\n// vue\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\n// store\nimport { useUserStore } from '../stores/user';\nconst userStore = useUserStore();\n//ref\nconst email = ref('usuario@tes.com');\nconst password = ref('123123');\n// router\nconst router = useRouter();\nconst  handleSubmit = async () => {\n    if (!email.value || !password.value) {\n        return alert('llena los campos');\n    }\n    await userStore.loginUser(email.value, password.value)\n    // Redirrecionamos a la pagina raiz ('/') , al home\n    router.push('/')\n}\n<\/script>\n\n")),(0,r.kt)("h2",{id:"logout"},"Logout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Usamos el metodo ",(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#signout"},"signOut"))),(0,r.kt)("p",null,"stores/user.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," actions: {\n        async registerUser(email, password) {\n            try {\n                // Creamos el usuario\n                const { user } = await createUserWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid }\n            } catch (error) {\n                console.log(error)\n            }\n        },\n        async loginUser(email, password) {\n            try {\n                // Iniciamos sesion y sacamos la informacion del usuario(la contiene la propiedad user)\n                const { user } = await signInWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid };\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        async logoutUser() {\n            try {\n                await signOut(auth);\n                this.userData = null;\n            } catch (error) {\n                console.log(error);\n            }\n        }\n    }\n\n")),(0,r.kt)("p",null,"App.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div>\n    <h1>App</h1>\n\n    <nav>\n      \x3c!-- <router-link> es el equivalente a <a></a> --\x3e\n      \x3c!-- el to="valor" es equivalente a href="valor" --\x3e\n      <router-link to="/">Home </router-link>  |\n      <router-link to="/login">Login </router-link> |\n      <router-link to="/register">Register </router-link> |\n      <button @click="userStore.logoutUser">Logout</button>\n    </nav>\n\n    \x3c!-- Es como un componente que lo genera el router que renderiza las vistas  --\x3e\n    <router-view></router-view>\n  </div>\n</template>\n\n<script setup>\n   import { useUserStore } from \'./stores/user\';\n   const userStore = useUserStore();\n<\/script>\n\n')),(0,r.kt)("h2",{id:"redirrecion-con-el-router"},"Redirrecion con el router"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"El archivo router.js que creamos tambi\xe9n tiene los mismos m\xe9todos para redirrecionar.")),(0,r.kt)("p",null,"user.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { defineStore } from 'pinia'\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nimport router from '../router'\nexport const useUserStore = defineStore(\"userStore\", {\n    state: () => ({\n        userData: null\n    }),\n    actions: {\n        async registerUser(email, password) {\n            try {\n                // Creamos el usuario\n                const { user } = await createUserWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid }\n                router.push('/')\n            } catch (error) {\n                console.log(error)\n            }\n        },\n        async loginUser(email, password) {\n            try {\n                // Iniciamos sesion y sacamos la informacion del usuario(la contiene la propiedad user)\n                const { user } = await signInWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid };\n                router.push('/')\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        async logoutUser() {\n            try {\n                await signOut(auth);\n                this.userData = null;\n                router.push('/login')\n            } catch (error) {\n                console.log(error);\n            }\n        }\n    }\n})\n\n")),(0,r.kt)("h2",{id:"loading--atributos-dinamicos"},"Loading \u2013 \u201cAtributos\u201d dinamicos"),(0,r.kt)("p",null,"user.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { defineStore } from 'pinia'\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport { auth } from '../firebaseConfig';\nimport router from '../router'\nexport const useUserStore = defineStore(\"userStore\", {\n    state: () => ({\n        userData: null,\n        loadingUser: false\n    }),\n    actions: {\n        async registerUser(email, password) {\n            this.loadingUser = true;\n            try {\n                // Creamos el usuario\n                const { user } = await createUserWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid }\n                router.push('/')\n            } catch (error) {\n                console.log(error)\n            } finally {\n                this.loadingUser = false;\n            }\n        },\n        async loginUser(email, password) {\n            this.loadingUser = true;\n            try {\n                // Iniciamos sesion y sacamos la informacion del usuario(la contiene la propiedad user)\n                const { user } = await signInWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid };\n                router.push('/')\n            } catch (error) {\n                console.log(error);\n            } finally {\n                this.loadingUser = false;\n            }\n        },\n        async logoutUser() {\n            try {\n                await signOut(auth);\n                this.userData = null;\n                router.push('/login')\n            } catch (error) {\n                console.log(error);\n            }\n        }\n    }\n})\n\n")),(0,r.kt)("p",null,"Login.vue"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Atributos dinamicos")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Para que se bloquee/desactive el bot\xf3n mientras se est\xe1 procesando la informaci\xf3n del usuario usamos :disabled=\u201dvalor\u201d"),(0,r.kt)("li",{parentName:"ul"},"Solo se bloquear\xe1 si el valor es true"),(0,r.kt)("li",{parentName:"ul"},"Usamos los dos puntos(\u201c:\u201d) porque es din\xe1mico. (Esta pendiente del valor, como useState)")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'            <button type="submit" :disabled="userStore.loadingUser">Acceso</button>\n')),(0,r.kt)("p",null,"Register.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'           <button type="submit" :disabled="userStore.loadingUser">Crear usuario</button>\n')),(0,r.kt)("h2",{id:"ruta-protegida"},"Ruta protegida"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"La ruta protegida es el Home.")),(0,r.kt)("p",null,"user.js "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Usamos el metodo ",(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#onauthstatechanged"},"onAuthStateChanged")),(0,r.kt)("li",{parentName:"ul"},"onAuthStateChanged tiene un tercer par\xe1metro que es un callback para gestionar el error (recibe el error y lo manipula)"),(0,r.kt)("li",{parentName:"ul"},"onAuthStateChanged es el \xfanico que NO DEVUELVE UNA PROMESA , por lo tanto la creamos."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/42762443/how-can-i-unsubscribe-to-onauthstatechanged"},"link"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," actions: {\n        async registerUser(email, password) {\n            this.loadingUser = true;\n            try {\n                // Creamos el usuario\n                const { user } = await createUserWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid }\n                router.push('/')\n            } catch (error) {\n                console.log(error)\n            } finally {\n                this.loadingUser = false;\n            }\n        },\n        async loginUser(email, password) {\n            this.loadingUser = true;\n            try {\n                // Iniciamos sesion y sacamos la informacion del usuario(la contiene la propiedad user)\n                const { user } = await signInWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid };\n                router.push('/')\n            } catch (error) {\n                console.log(error);\n            } finally {\n                this.loadingUser = false;\n            }\n        },\n        async logoutUser() {\n            try {\n                await signOut(auth);\n                this.userData = null;\n                router.push('/login')\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        currentUser() {\n            return new Promise((resolve, reject) => {\n                const unsuscribe = onAuthStateChanged(auth, (user) => {\n                    if (user) {\n                        this.userData = { email: user.email, uid: user.uid };\n                    } else {\n                        this.userData = null;\n                    }\n                    resolve(user);\n                }, error => reject(error))\n                unsuscribe();\n            })\n        }\n    }\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Como se puede observar, es una funci\xf3n que se ejecuta una sola vez para que deje de estar como observador.")))),(0,r.kt)("p",null,"routes.js"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"El m\xe9todo useUserStore() se debe llamar dentro de un m\xe9todo. (en caso contrario no se garantiza su funcionamiento)")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"beforeEnter")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Utilizamos beforeEnter para activar un m\xe9todo antes de que entre a la ruta (al componente)"),(0,r.kt)("li",{parentName:"ul"},"El metodo se ejecutara antes de renderizar el componente."),(0,r.kt)("li",{parentName:"ul"},"sintaxis: beforeEnter:m\xe9todo")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"\nimport { createRouter, createWebHistory } from 'vue-router';\n\nimport Home from './views/Home.vue';\nimport Login from './views/Login.vue';\nimport Register from './views/Register.vue';\nimport { useUserStore } from './stores/user';\nconst requireAuth = async (to, from, next) => {\n    const userStore = useUserStore();\n    const user = await userStore.currentUser();\n    // Si existe el usuario\n    if (user) {\n        // Que se renderize el component \n        next();\n    } else {\n        // Vaya al login\n        next(\"/login\");\n    }\n}\n\nconst routes = [\n\n    { path: \"/\", component: Home, beforeEnter: requireAuth },\n    { path: \"/login\", component: Login },\n    { path: \"/register\", component: Register },\n]\n\nconst router = createRouter({\n    routes,\n    history: createWebHistory()\n})\n\nexport default router;\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"La funci\xf3n(m\xe9todo)  RequireAuth es como un middleware."),(0,r.kt)("li",{parentName:"ul"},"Con el m\xe9todo next redirecciono.")))),(0,r.kt)("h2",{id:"componentes-y-v-if"},"Componentes y v-if"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Componentes ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Como se puede ver, los componentes se renderizan como si fueran una etiqueta html"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-html"},"<componente></componente>\n")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Utilizamos el v-if  para especificar cuando se va a renderizar un componente o etiqueta html , en este caso el componente router-link."),(0,r.kt)("li",{parentName:"ul"},"v-if=\u201dcondici\xf3n\u201d"),(0,r.kt)("li",{parentName:"ul"},"Si la condici\xf3n es true , se renderizara el componente.")),(0,r.kt)("p",null,"App.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\n<template>\n  <div>\n    <h1>App</h1>\n\n    <nav>\n      \x3c!-- <router-link> es el equivalente a <a></a> --\x3e\n      \x3c!-- el to="valor" es equivalente a href="valor" --\x3e\n      <router-link to="/" v-if="userStore.userData">Home </router-link>  |\n      <router-link to="/login" v-if="!userStore.userData">Login </router-link> |\n      <router-link to="/register" v-if="!userStore.userData">Register </router-link> |\n      <button @click="userStore.logoutUser" v-if="userStore.userData">Logout</button>\n    </nav>\n\n    \x3c!-- Es como un componente que lo genera el router que renderiza las vistas  --\x3e\n    <router-view></router-view>\n  </div>\n</template>\n\n<script setup>\n   import { useUserStore } from \'./stores/user\';\n   const userStore = useUserStore();\n<\/script>\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Si el user(userData) existe , se renderizaran los enlaces de Home y el bot\xf3n de Logout ."),(0,r.kt)("li",{parentName:"ul"},"Si user(userData) no existe , se renderizaran los enlaces de login y register.")))),(0,r.kt)("h2",{id:"loading--y-v-else"},"Loading  y v-else"),(0,r.kt)("p",null,"user.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," state: () => ({\n        userData: null,\n        loadingUser: false,\n        loadingSession:false\n    }),\n\n")),(0,r.kt)("p",null,"router.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const requireAuth = async (to, from, next) => {\n    const userStore = useUserStore();\n    userStore.loadingSession = true;\n    const user = await userStore.currentUser();\n    // Si existe el usuario\n    if (user) {\n        // Que se renderize el component \n        next();\n    } else {\n        // Vaya al login\n        next("/login");\n    }\n    userStore.loadingSession = false;\n}\n\n')),(0,r.kt)("p",null,"App.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div>\n    <h1>App</h1>\n\n    <nav v-if="!userStore.loadingSession">\n      <router-link to="/" v-if="userStore.userData">Home </router-link>  |\n      <router-link to="/login" v-if="!userStore.userData">Login </router-link> |\n      <router-link to="/register" v-if="!userStore.userData">Register </router-link> |\n      <button @click="userStore.logoutUser" v-if="userStore.userData">Logout</button>\n    </nav>\n    <div v-else>\n      <p>Loading...</p>\n    </div>\n\n    \x3c!-- Es como un componente que lo genera el router que renderiza las vistas  --\x3e\n    <router-view></router-view>\n  </div>\n</template>\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"El nav se mostrara solo si loadingSession es false"),(0,r.kt)("li",{parentName:"ul"},"En caso contrario  (else (v-else) )  , si loadingSession es true ,  se mostrara un p\xe1rrafo diciendo loading\u2026")))),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"El v-else siempre debe estar debajo del if . "),(0,r.kt)("li",{parentName:"ul"},"Si no se puede, se debe crear otro if.")))),(0,r.kt)("h2",{id:"verificar-cuenta-correo"},"Verificar cuenta correo"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/auth/web/manage-users?hl=es&authuser=0#send_a_user_a_verification_email"},"link")),(0,r.kt)("li",{parentName:"ul"},"Utilizamos el m\xe9todo sendEmailVerification para verificar una cuenta por email")),(0,r.kt)("h3",{id:"en-firebase"},"En FireBase"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Entramos a FireBase \u2013 Autenticacion \u2013 Plantilla")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Podes modificar la plantilla del correo.")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Le cambiamos el idioma")),(0,r.kt)("h3",{id:"en-el-proyecto"},"En el proyecto"),(0,r.kt)("p",null,"user.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," async registerUser(email, password) {\n            this.loadingUser = true;\n            try {\n                // Creamos el usuario\n                await createUserWithEmailAndPassword(auth, email, password)\n                // Enviamos un email de validacion\n                //sendEmailVerification(currentUser)\n               await sendEmailVerification(auth.currentUser)\n                router.push('/login')\n            } catch (error) {\n                console.log(error)\n            } finally {\n                this.loadingUser = false;\n            }\n        },\n\n")),(0,r.kt)("h3",{id:"mas-seguridad-a-la-ruta-protegida"},"Mas seguridad a la ruta protegida"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Pedimos que la cuenta sea verificada para entrar.")),(0,r.kt)("p",null,"router.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const requireAuth = async (to, from, next) => {\n    const userStore = useUserStore();\n    \n    userStore.loadingSession = true;\n    const user = await userStore.currentUser();\n    // Si existe el usuario\n    if (user && user.emailVerified) {\n        // Que se renderize el component \n        next();\n    } else {\n        // Vaya al login\n        next("/login");\n    }\n    userStore.loadingSession = false;\n}\n\n')),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Para seguir con el proyecto y la explicaci\xf3n , lo quitamos ya que trabajamos con usuarios ficticios."))),(0,r.kt)("h2",{id:"inicializa-cloud-firestore"},"Inicializa Cloud Firestore"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/quickstart?hl=es#initialize"},"link"))),(0,r.kt)("h3",{id:"pasos-en-firebase"},"Pasos en Firebase"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Creamos una bd de Firestore en firebase",(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#firestore-bd"},"ver apartado de react"),"  en modo test.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Mientras mas uso de la bd se haga , mas dinero vas a perder (mas te van a cobrar)")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Creamos una colecci\xf3n llamado urls")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Iniciar colecci\xf3n = Crear colecci\xf3n  ")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Campos de los documentos que se va a utilizar en los ejemplos")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"name: '",(0,r.kt)("a",{parentName:"li",href:"https://bluuweb.org'"},"https://bluuweb.org'"),","),(0,r.kt)("li",{parentName:"ul"},"short: 'aDgdGd',"),(0,r.kt)("li",{parentName:"ul"},"user: 'pQycjKGmIKQ2wL4P1jvkAPhH4gh2'")))),(0,r.kt)("h3",{id:"pasos-en-el-proyecto"},"Pasos en el proyecto"),(0,r.kt)("p",null,"firebaseConfig.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// Import the functions you need from the SDKs you need\nimport { initializeApp } from "firebase/app";\nimport {getAuth} from \'firebase/auth\'\nimport { getFirestore } from "firebase/firestore";\nconst firebaseConfig = {\n  apiKey: "XXX",\n  authDomain: "XXX",\n  projectId: "XXX",\n  storageBucket: "XXX",\n  messagingSenderId: "XXX",\n  appId: "XXX"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nexport {auth , db};\n\n')),(0,r.kt)("h2",{id:"creamos-otra-store--leer-doc"},"Creamos otra store / Leer doc"),(0,r.kt)("p",null,"stores/database.js"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://firebase.google.com/docs/firestore/query-data/get-data?hl=es#get_multiple_documents_from_a_collection"},"link"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Esta vez, a diferencia de la ",(0,r.kt)("a",{parentName:"p",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#getdocs"},"gu\xeda de react"),", creamos una query(consulta) y se la pasamos al m\xe9todo getDocs (este ejecuta la consulta)"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { collection, getDocs, query } from 'firebase/firestore'\nimport { defineStore } from 'pinia'\nimport { db } from '../firebaseConfig'\n\nexport const useDatabaseStore = defineStore('database', {\n    state: () => ({\n        document: []\n    }),\n    actions: {\n        async getUrls() {\n            try {\n                // Creamos una query \n                // query(metodo collection)\n                const q = query(collection(db, \"urls\"));\n                // Obtenemos todos los documentos\n                //getDocs(query)\n                const querySnapshot = await getDocs(q)\n                querySnapshot.forEach(doc => {\n                    // doc.id = La id del documento\n                    // doc.data() = devuelve un objeto con toda la informacion del documento (excepto la id)\n                    console.log(doc.id, doc.data());\n                })\n            } catch (error) {\n                console.log(error)\n            } finally {\n\n            }\n        }\n    }\n})\n\n")),(0,r.kt)("p",null,"Home.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<template>\n  <div>\n    <h1>Home - {{ userStore.userData.email }}</h1>\n  </div>\n</template>\n\n<script setup>\nimport { useDatabaseStore } from '../stores/database';\nimport { useUserStore } from '../stores/user';\nconst userStore = useUserStore();\nconst databaseStore = useDatabaseStore();\ndatabaseStore.getUrls()\n\n<\/script>\n\n")),(0,r.kt)("h2",{id:"where"},"WHERE"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Usamos el ",(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#where"},"auth.currentUser")," para obtener la informaci\xf3n del usuario autenticado.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' async getUrls() {\n            try {\n                // Creamos una query \n                // query(metodo collection , metodo where)\n                const q = query(collection(db, "urls"), where(\n                    "user", "==", auth.currentUser.uid\n                ));\n                // Obtenemos todos los documentos\n                //getDocs(query)\n                const querySnapshot = await getDocs(q)\n                querySnapshot.forEach(doc => {\n                    // doc.id = La id del documento\n                    // doc.data() = devuelve un objeto con toda la informacion del documento (excepto la id)\n                    console.log(doc.id, doc.data());\n                })\n            } \n\n')),(0,r.kt)("h2",{id:"v-for"},"V-for"),(0,r.kt)("p",null,"database.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'async getUrls() {\n            try {\n                // Creamos una query \n                // query(metodo collection , metodo where)\n                const q = query(collection(db, "urls"), where(\n                    "user", "==", auth.currentUser.uid\n                ));\n                // Obtenemos todos los documentos\n                //getDocs(query)\n                const querySnapshot = await getDocs(q)\n                querySnapshot.forEach(doc => {\n                    // doc.id = La id del documento\n                    // doc.data() = devuelve un objeto con toda la informacion del documento (excepto la id)\n                   this.document.push({ \n                       id:doc.id , \n                       ...doc.data()\n                   })\n                })\n            } catch (error) {\n                console.log(error)\n            } finally {\n\n            }\n        }\n\n')),(0,r.kt)("p",null,"Home.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<template>\n  <div>\n    <h1>Home</h1>\n    <ul>\n    <li v-for=\"item of databaseStore.document\" :key=\"item.id\">\n       {{item.name}}\n    </li>\n    </ul>\n  </div>\n</template>\n\n<script setup>\nimport { useDatabaseStore } from '../stores/database';\nimport { useUserStore } from '../stores/user';\nconst userStore = useUserStore();\nconst databaseStore = useDatabaseStore();\ndatabaseStore.getUrls()\n<\/script>\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Recorrer\xe1 Cada objeto del array document"),(0,r.kt)("li",{parentName:"ul"},"sintaxis: v-for=\u201dnombre of array\u201d"),(0,r.kt)("li",{parentName:"ul"},"Por cada iterracion , nombre corresponde a un valor del array"),(0,r.kt)("li",{parentName:"ul"},"1 iterracion ---  nombre = array","[0]"," , 2 iterracion --- nombre =   array","[1]"),(0,r.kt)("li",{parentName:"ul"},"Por cada iterracion generara una etiqueta li "),(0,r.kt)("li",{parentName:"ul"},"Cada etiqueta tiene el atributo key con un valor \xfanico."),(0,r.kt)("li",{parentName:"ul"},"Como react, cada \xedtem debe tener una key para ser identificada en el DOM.")))),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"En este ejemplo crea etiquetas li , pero  lo que se genera depende de que componente/etiqueta tenga el v-for"))),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"el of sirve para recorrer array"),(0,r.kt)("p",{parentName:"div"},"el in sirve para recorrer objeto"))),(0,r.kt)("h2",{id:"loading"},"Loading"),(0,r.kt)("p",null,"database.js "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'state: () => ({\n        document: [] , \n        loadingDoc:false\n    }),\n    actions: {\n        async getUrls() {\n            this.loadingDoc = true;\n            try {\n                // Creamos una query \n                // query(metodo collection , metodo where)\n                const q = query(collection(db, "urls"), where(\n                    "user", "==", auth.currentUser.uid\n                ));\n                // Obtenemos todos los documentos\n                //getDocs(query)\n                const querySnapshot = await getDocs(q)\n                querySnapshot.forEach(doc => {\n                    // doc.id = La id del documento\n                    // doc.data() = devuelve un objeto con toda la informacion del documento (excepto la id)\n                   this.document.push({ \n                       id:doc.id , \n                       ...doc.data()\n                   })\n                })\n            } catch (error) {\n                console.log(error)\n            } finally {\n                this.loadingDoc = false;\n            }\n        }\n    }\n\n')),(0,r.kt)("p",null,"Home.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div>\n    <h1>Home</h1>\n    <p v-if="databaseStore.loadingDoc">Loading docs...</p>\n    <ul v-else>\n    <li v-for="item of databaseStore.document" :key="item.id">\n       {{item.name}}\n    </li>\n    </ul>\n  </div>\n</template>\n\n')),(0,r.kt)("h2",{id:"reset-store"},"Reset Store"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://pinia.vuejs.org/core-concepts/state.html#resetting-the-state"},"Reiniciar Estado")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://pinia.vuejs.org/core-concepts/actions.html#accessing-other-stores-actions"},"Usar una tienda dentro de otra"))),(0,r.kt)("p",null,"user.js "),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Recordatorio ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"El store se debe usar dentro de una funci\xf3n para evitar problemas."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"  async logoutUser() {\n            // Accedemos a la tienda de database\n         const databaseStore = useDatabaseStore();\n         databaseStore.$reset();\n            try {\n                await signOut(auth);\n                this.userData = null;\n                router.push('/login')\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        currentUser() {\n            return new Promise((resolve, reject) => {\n                const unsuscribe = onAuthStateChanged(auth, (user) => {\n                    if (user) {\n                        this.userData = { email: user.email, uid: user.uid };\n                    } else {\n                        this.userData = null;\n                            // Accedemos a la tienda de database\n         const databaseStore = useDatabaseStore();\n         databaseStore.$reset();\n                    }\n                    resolve(user);\n                }, error => reject(error))\n                unsuscribe();\n            })\n        }\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Accedemos a una tienda dentro de otra tienda."),(0,r.kt)("li",{parentName:"ul"},"Reseteamos el estado de la tienda database.")))),(0,r.kt)("p",null,"Para evitar problemas:"),(0,r.kt)("p",null,"database.js "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," async getUrls() {\n            if (this.document.length !== 0) {\n                return;\n            }\n            this.loadingDoc = true;\n\n")),(0,r.kt)("h2",{id:"agregar-doc"},"Agregar Doc"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/manage-data/add-data?hl=es#add_a_document"},"link")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#add-doc"},"Lo mismo que React"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm i nanoid\n")),(0,r.kt)("p",null,"database.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'  actions: {\n        async getUrls() {\n\n            this.loadingDoc = true;\n            try {\n                // Creamos una query \n                // query(metodo collection , metodo where)\n                const q = query(collection(db, "urls"), where(\n                    "user", "==", auth.currentUser.uid\n                ));\n                // Obtenemos todos los documentos\n                //getDocs(query)\n                const querySnapshot = await getDocs(q)\n                querySnapshot.forEach(doc => {\n                    // doc.id = La id del documento\n                    // doc.data() = devuelve un objeto con toda la informacion del documento (excepto la id)\n                    this.document.push({\n                        id: doc.id,\n                        ...doc.data()\n                    })\n                })\n            } catch (error) {\n                console.log(error)\n            } finally {\n                this.loadingDoc = false;\n            }\n        },\n        async addUrl(name) {\n            try {\n                const objetoDoc = {\n                    name: name,\n                    short: nanoid(6),\n                    user: auth.currentUser.uid,\n                }\n\n                // addDoc(collection , documento)\n                // el documento es el objeto que se va a insertar en la BD\n                const docRef = await addDoc(collection(db, "urls"), objetoDoc)\n                this.document.push({\n                    // cuando se crea el objeto , te devuelve una propiedad con la id\n                    ...objetoDoc, id: docRef.id\n                })\n            } catch (error) {\n                console.log(error)\n            } finally {\n\n            }\n        }\n    }\n\n')),(0,r.kt)("p",null,"Home.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div>\n    <h1>Home</h1>\n    <form @submit.prevent="handleSubmit">\n      <input type="text" placeholder="Ingrese url" v-model="url">\n      <button type="submit">Agregar</button>\n    </form>\n    <p v-if="databaseStore.loadingDoc">Loading docs...</p>\n    <ul v-else>\n    <li v-for="item of databaseStore.document" :key="item.id">\n       {{item.name}}\n    </li>\n    </ul>\n  </div>\n</template>\n\n<script setup>\nimport { useDatabaseStore } from \'../stores/database\';\nimport {ref} from \'vue\';\nconst databaseStore = useDatabaseStore();\ndatabaseStore.getUrls()\nconst url = ref(\'\');\n\nconst handleSubmit = () => {\n  \n \n  databaseStore.addUrl(url.value);\n}\n<\/script>\n\n')),(0,r.kt)("h2",{id:"borrar-doc--getdoc"},"Borrar doc / getDoc"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/manage-data/delete-data?hl=es#delete_documents"},"Eliminar documento")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/query-data/get-data?hl=es#get_a_document"},"Obtener un documento")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#delete-doc"},"Eliminar un documento (Explicacion en react)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#redirect-params-en-la-url-getdoc"},"Obtener un documento (Explicacion en react)"))),(0,r.kt)("p",null,"database.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'actions: {\n        async getUrls() {\n\n            this.loadingDoc = true;\n            try {\n                // Creamos una query \n                // query(metodo collection , metodo where)\n                const q = query(collection(db, "urls"), where(\n                    "user", "==", auth.currentUser.uid\n                ));\n                // Obtenemos todos los documentos\n                //getDocs(query)\n                const querySnapshot = await getDocs(q)\n                querySnapshot.forEach(doc => {\n                    // doc.id = La id del documento\n                    // doc.data() = devuelve un objeto con toda la informacion del documento (excepto la id)\n                    this.document.push({\n                        id: doc.id,\n                        ...doc.data()\n                    })\n                })\n            } catch (error) {\n                console.log(error)\n            } finally {\n                this.loadingDoc = false;\n            }\n        },\n        async addUrl(name) {\n            try {\n                const objetoDoc = {\n                    name: name,\n                    short: nanoid(6),\n                    user: auth.currentUser.uid,\n                }\n\n                // addDoc(collection , documento)\n                // el documento es el objeto que se va a insertar en la BD\n                const docRef = await addDoc(collection(db, "urls"), objetoDoc)\n                this.document.push({\n                    // cuando se crea el objeto , te devuelve una propiedad con la id\n                    ...objetoDoc, id: docRef.id\n                })\n            } catch (error) {\n                console.log(error)\n            } finally {\n\n            }\n        },\n        async deleteUrl(id) {\n            try {\n                // Referencia al documento\n                const docRef = doc(db, "urls", id);\n                const docSpan = await getDoc(docRef);\n                if (!docSpan.exists()) {\n                     throw new Error("No existe el doc");\n                }\n                if (docSpan.data().user !== auth.currentUser.uid){\n                    throw new Error("No le pertenece ese documento");\n                }\n                //Eliminamos \n                await deleteDoc(docRef);\n                this.document = this.document.filter(item =>\n                    item.id !== id)\n            } catch (error) {\n                console.log(error)\n            }\n        }\n    }\n\n')),(0,r.kt)("p",null,"Home.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div>\n    <h1>Home</h1>\n    <form @submit.prevent="handleSubmit">\n      <input type="text" placeholder="Ingrese url" v-model="url">\n      <button type="submit">Agregar</button>\n    </form>\n    <p v-if="databaseStore.loadingDoc">Loading docs...</p>\n    <ul v-else>\n      <li v-for="item of databaseStore.document" :key="item.id">\n        {{ item.name }} <br> \n        <button @click="databaseStore.deleteUrl(item.id)">Eliminar</button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n')),(0,r.kt)("h2",{id:"variables-en-url-getdoc"},"Variables en Url (getDoc)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#redirect-params-en-la-url-getdoc"},"Obtener un documento (Explicacion en react)"))),(0,r.kt)("p",null,"router.js "),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Variable en la Url")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Se realiza con los dos puntitos seguido del nombre de la variable (\u201c:nombrevariable\u201d)")),(0,r.kt)("p",{parentName:"div"},"Ejemplo:\n/editar/:id"),(0,r.kt)("p",{parentName:"div"},"Si vamos a la url /editar/484465"),(0,r.kt)("p",{parentName:"div"},"El valor de la variable id es 484465"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const routes = [\n\n    { path: "/", component: Home, beforeEnter: requireAuth },\n    { path: "/editar/:id", component: Editar, beforeEnter: requireAuth },\n    { path: "/login", component: Login },\n    { path: "/register", component: Register },\n]\n\n')),(0,r.kt)("p",null,"Home.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div>\n    <h1>Home</h1>\n    <form @submit.prevent="handleSubmit">\n      <input type="text" placeholder="Ingrese url" v-model="url">\n      <button type="submit">Agregar</button>\n    </form>\n    <p v-if="databaseStore.loadingDoc">Loading docs...</p>\n    <ul v-else>\n      <li v-for="item of databaseStore.document" :key="item.id">\n        {{ item.name }} <br> \n        <button @click="databaseStore.deleteUrl(item.id)">Eliminar</button>     \n         <button @click="router.push(`/editar/${item.id}`)">Editar</button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script setup>\nimport { useDatabaseStore } from \'../stores/database\';\nimport { ref } from \'vue\';\nimport { useRouter } from \'vue-router\';\nconst router = useRouter();\nconst databaseStore = useDatabaseStore();\ndatabaseStore.getUrls()\nconst url = ref(\'\');\n\nconst handleSubmit = () => {\n\n  databaseStore.addUrl(url.value);\n}\n<\/script>\n\n')),(0,r.kt)("p",null,"database.js"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/query-data/get-data?hl=es#get_a_document"},"link ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#redirect-params-en-la-url-getdoc"},"Obtener un documento (Explicacion en react)"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' async leerUrl(id) {\n            try {\n                // Referencia al documento\n                const docRef = doc(db, "urls", id);\n                // Obtenemos un documento\n                const docSpan = await getDoc(docRef);\n                if (!docSpan.exists()) {\n                    throw new Error("No existe el doc");\n                }\n                if (docSpan.data().user !== auth.currentUser.uid) {\n                    throw new Error("No le pertenece ese documento");\n                }\n                return docSpan.data().name\n            } catch (error) {\n                console.log(error);\n            } finally {\n\n            }\n        },\n        async deleteUrl(id) {\n            try {\n                // Referencia al documento\n                const docRef = doc(db, "urls", id);\n                const docSpan = await getDoc(docRef);\n                if (!docSpan.exists()) {\n                    throw new Error("No existe el doc");\n                }\n                if (docSpan.data().user !== auth.currentUser.uid) {\n                    throw new Error("No le pertenece ese documento");\n                }\n                //Eliminamos \n                await deleteDoc(docRef);\n                this.document = this.document.filter(item =>\n                    item.id !== id)\n            } catch (error) {\n                console.log(error)\n            }\n        }\n\n')),(0,r.kt)("h2",{id:"leer-variable-url--onmounted"},"Leer variable url / onMounted"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Leer variable de la url ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Para leer las variables de la url Utilizamos useRoute() que devuelve un objeto. "),(0,r.kt)("li",{parentName:"ul"},"El objeto tiene la propiedad params que contiene otro objeto donde cada propiedad es una variable de la url con su valor correspondiente.")))),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"onMounted")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Es un m\xe9todo de vue que recibe un callback."),(0,r.kt)("li",{parentName:"ul"},"El callback se ejecutara al montarse/renderizarse el componente.")))),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Se considera montado despu\xe9s de")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Se han montado todos sus componentes secundarios s\xedncronos (no incluye componentes as\xedncronos ni componentes dentro de \xe1rboles)."),(0,r.kt)("li",{parentName:"ul"},"Se ha creado su propio \xe1rbol DOM y se ha insertado en el contenedor principal. Tenga en cuenta que solo garantiza que el \xe1rbol DOM del componente est\xe9 en el documento si el contenedor ra\xedz de la aplicaci\xf3n tambi\xe9n est\xe1 en el documento.")))),(0,r.kt)("p",null,"views/Editar.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n    <div>\n        <h1>Editar</h1>\n        <form @submit.prevent="handleSubmit">\n            <input type="text" placeholder="Ingrese url" v-model="url">\n            <button type="submit">Editar</button>\n        </form>\n    </div>\n</template>\n\n<script setup>\nimport { onMounted , ref} from \'vue\';\nimport { useRoute } from \'vue-router\';\nimport { useDatabaseStore } from \'../stores/database\';\n// Nos devuelve un objeto para tener acceso a las variables de la url.\nconst route = useRoute();\n\nconst databaseStore = useDatabaseStore()\n\nconst handleSubmit = () => {\n\n}\n\nconst url = ref(\'\');\n\n// El callback se ejecuta al montarse el componente.\nonMounted(async () => {\n    // route.params.nombrevariable\n     url.value = await databaseStore.leerUrl(route.params.id)\n})\n<\/script>\n\n')),(0,r.kt)("h2",{id:"update-doc"},"Update doc"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/firestore/manage-data/add-data?hl=es#update-data"},"link")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#update-doc"},"Explicacion en React"))),(0,r.kt)("p",null,"database.js "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'  async updateUrl(id, name) {\n            try {\n                // Referencia al documento\n                const docRef = doc(db, "urls", id);\n                // Obtenemos un documento\n                const docSpan = await getDoc(docRef);\n                if (!docSpan.exists()) {\n                    throw new Error("No existe el doc");\n                }\n                if (docSpan.data().user !== auth.currentUser.uid) {\n                    throw new Error("No le pertenece ese documento");\n                }\n                //updateDoc(referencia documento , {datos a actualizar})\n                await updateDoc(docRef, { name: name })\n\n             this.document = this.document.map((item) => item.id === id ? {...item , name : name} : item)\n            \n             router.push("/")\n\n            } catch (error) {\n                console.log(error)\n            }\n        },\n        async deleteUrl(id) {\n            try {\n                // Referencia al documento\n                const docRef = doc(db, "urls", id);\n                const docSpan = await getDoc(docRef);\n                if (!docSpan.exists()) {\n                    throw new Error("No existe el doc");\n                }\n                if (docSpan.data().user !== auth.currentUser.uid) {\n                    throw new Error("No le pertenece ese documento");\n                }\n                //Eliminamos \n                await deleteDoc(docRef);\n                this.document = this.document.filter(item =>\n                    item.id !== id)\n            } catch (error) {\n                console.log(error)\n            }\n        }\n\n')),(0,r.kt)("p",null,"Editar.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n    <div>\n        <h1>Editar</h1>\n        <form @submit.prevent="handleSubmit">\n            <input type="text" placeholder="Ingrese url" v-model="url">\n            <button type="submit">Editar</button>\n        </form>\n    </div>\n</template>\n\n<script setup>\nimport { onMounted , ref} from \'vue\';\nimport { useRoute } from \'vue-router\';\nimport { useDatabaseStore } from \'../stores/database\';\n// Nos devuelve un objeto para tener acceso a las variables de la url.\nconst route = useRoute();\n\nconst databaseStore = useDatabaseStore()\n\nconst handleSubmit = () => {\n   databaseStore.updateUrl(route.params.id , url.value);\n}\n\nconst url = ref(\'\');\n\n// El callback se ejecuta al montarse el componente.\nonMounted(async () => {\n    // route.params.nombrevariable\n     url.value = await databaseStore.leerUrl(route.params.id)\n})\n<\/script>\n\n')),(0,r.kt)("h2",{id:"rules"},"Rules"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#regla-de-seguridad"},"Explicado en la seccion de React"))),(0,r.kt)("h3",{id:"siempre-comienta-con--service-cloudfirestore"},"Siempre comienta con : service cloud.firestore"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Sirve para que no se confunda con Cloud Storage."),(0,r.kt)("li",{parentName:"ul"},"La declaraci\xf3n service cloud.firestore define el alcance de las reglas a Cloud Firestore, lo que evita conflictos entre las reglas de seguridad de Cloud Firestore y las reglas de otros productos, como Cloud Storage.")),(0,r.kt)("h3",{id:"declaracion-match-databasesdatabasedocuments"},"Declaracion match /databases/{database}/documents"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"La declaraci\xf3n match /databases/{database}/documents especifica que las reglas deber\xedan coincidir con cualquier base de datos de Cloud Firestore en el proyecto. Actualmente, cada proyecto tiene solo una base de datos llamada (default).")),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"No confundir colecci\xf3n con base de datos."),(0,r.kt)("li",{parentName:"ul"},"En la versi\xf3n gratis solo tenemos una BD.")))),(0,r.kt)("h3",{id:"reglas-b\xe1sicas-de-lectura-y-escritura"},"Reglas b\xe1sicas de lectura y escritura"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Las reglas b\xe1sicas consisten en una declaraci\xf3n match que especifica la ruta de un documento y una expresi\xf3n allow que describe cu\xe1ndo se permite la lectura de los datos especificados (documento especificado)"),(0,r.kt)("li",{parentName:"ul"},"Todas las declaraciones de coincidencia deben apuntar a los documentos, no a las colecciones. Una declaraci\xf3n de coincidencia puede apuntar a un documento espec\xedfico, como en match /coleccion/ID , o usar comodines para apuntar a cualquier documento en la ruta especificada, como en match /coleccion/{variable}."),(0,r.kt)("li",{parentName:"ul"},"Cuando se eval\xfaan las expresiones allow en la declaraci\xf3n de coincidencia, la variable  se convierte en el nombre del documento(ID) . ")),(0,r.kt)("h3",{id:"resultado-final"},"Resultado Final"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /urls/{id} {\n      allow read, update, delete: if request.auth != null && request.auth.uid == resource.data.user;\n      allow create: if request.auth != null;\n    }\n  }\n}\n\n")),(0,r.kt)("h2",{id:"deploy"},"Deploy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#deploy"},"Explicacion en la seccion de React"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"npm install -g firebase-tools\nfirebase login\nfirebase init\nfirebase deploy\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"\xbfejecuci\xf3n de scripts est\xe1 deshabilitada en este sistema?")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Ejecutar windows + R \u2013> gpedit.msc. Ir a Plantillas administrativas> Componentes de Windows> Windows PowerShell> Seleccionar Activar la ejecuci\xf3n de scripts, click derecho, editar. Seleccionar Habilitada y Permitir todos los scripts, Aplicar."))),(0,r.kt)("h2",{id:"ant-design-vue"},"Ant Design Vue"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"unplugin-vue-components")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Permite utilizar los componentes sin necesidad de importarlos (import)"),(0,r.kt)("li",{parentName:"ul"},"Sirve para no tener tantas importaciones."),(0,r.kt)("li",{parentName:"ul"},"Podes usar componentes sin necesidad de utilizar el import.")))),(0,r.kt)("h3",{id:"ant-design-of-vue"},"Ant Design Of Vue"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.antdv.com/docs/vue/introduce"},"link"))),(0,r.kt)("h3",{id:"instalacion-de-ambos"},"Instalacion de ambos"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Instalamos los modulos")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install ant-design-vue \u2013save\nnpm i unplugin-vue-components\n\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Configuramos vite para trabajar con ant-design y ant design")),(0,r.kt)("p",null,"vite.config.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\nimport Components from 'unplugin-vue-components/vite';\nimport { AntDesignVueResolver } from 'unplugin-vue-components/resolvers';\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [vue(),\n  Components({\n    resolvers: [AntDesignVueResolver()],\n  }),]\n})\n\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Utilizamos unplugin-vue-components en la configuraci\xf3n de ant-design"))),(0,r.kt)("h3",{id:"listo"},"Listo!!"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A partir de ahora podemos usar los componentes que nos brinda andv"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.antdv.com/components/overview/"},"Lista de componente"))),(0,r.kt)("h3",{id:"componente-a-button"},"Componente a-button"),(0,r.kt)("h4",{id:"props"},"Props"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type  : Especifica la forma del boton ")),(0,r.kt)("h4",{id:"ejemplos"},"Ejemplos"),(0,r.kt)("p",null,"App.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div>\n    <h1>App</h1>\n      <a-button type="primary">Primary Button</a-button>\n\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"En script setup no escribimos nada porque la importaci\xf3n se hace autom\xe1ticamente gracias a unplugin-vue-components."),(0,r.kt)("li",{parentName:"ul"},"Con la configuraci\xf3n que hicimos en vite , logramos que el css solo se importe cuando se use los componentes que lo utilice.")))),(0,r.kt)("h2",{id:"layout"},"Layout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.antdv.com/components/layout"},"layout")),(0,r.kt)("li",{parentName:"ul"},"El Layout es la forma de distribuir el contenido del sitio web.")),(0,r.kt)("h3",{id:"layout-con-menu"},"Layout con Menu"),(0,r.kt)("p",null,"Componentes que utilizamos:"),(0,r.kt)("h4",{id:"a-layout"},"A-layout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Todo se envuelve en este componente."),(0,r.kt)("li",{parentName:"ul"},"Habilita el layout")),(0,r.kt)("h4",{id:"a-layout-header"},"A-layout-header"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Representa la cabecera(header)")),(0,r.kt)("h4",{id:"a-menu"},"A-menu"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Envuelve todo el menu de navegacion")),(0,r.kt)("h5",{id:"props-1"},"Props:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"v-model:selectedKeys : Sirve para para identificar que a-menu-item esta abierto (en base a la key) y indicarle al usuario que link esta viendo.")),(0,r.kt)("h4",{id:"a-menu-item"},"A-menu-item"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Representa cada enlace(link)")),(0,r.kt)("h5",{id:"props-2"},"Props:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Key : Sirve para que el componente a-menu pueda identificarla.")),(0,r.kt)("h4",{id:"a-layout-content"},"a-layout-content"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Representa el contenido del sitio web")),(0,r.kt)("p",null,"App.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n\n  <a-layout>\n    <a-layout-header v-if="!userStore.loadingSession">\n      \x3c!-- Tiene la props dark y mode --\x3e\n      <a-menu theme="dark" mode="horizontal" :style="{ lineHeight: \'64px\' }"  v-model:selectedKeys="selectedKeys">\n        <a-menu-item v-if="userStore.userData" key="home">\n          <router-link to="/">Home </router-link>\n        </a-menu-item>\n        <a-menu-item v-if="!userStore.userData"  key="login">\n          <router-link to="/login" >Login </router-link>\n        </a-menu-item>\n        <a-menu-item v-if="!userStore.userData"  key="register">\n          <router-link to="/register">Register </router-link>\n        </a-menu-item >\n        <a-menu-item @click="userStore.logoutUser" v-if="userStore.userData"  key="logout">\n          Logout\n        </a-menu-item>\n      </a-menu>\n    </a-layout-header>\n    <a-layout-content style="padding: 0 50px">\n      <div :style="{ background: \'#fff\', padding: \'24px\', minHeight: \'280px\' }">\n        <div v-if="userStore.loadingSession">\n          <p>Loading...</p>\n        </div>\n        <router-view></router-view>\n      </div>\n    </a-layout-content>\n\n\n  </a-layout>\n</template>\n\n<script setup>\nimport { ref } from \'vue\';\nimport { useUserStore } from \'./stores/user\';\nconst userStore = useUserStore();\n const selectedKeys =  ref([\'login\'])\n<\/script>\n\n')),(0,r.kt)("h2",{id:"name-del-router"},"Name del router"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"En la configuraci\xf3n de las rutas, le podemos asignar un name a cada ruta."),(0,r.kt)("li",{parentName:"ul"},"Ese name seria como el ID de cada ruta, sirve para identificarla con el router.")),(0,r.kt)("p",null,"router.js "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const routes = [\n    // Le asignamos un nombre(identificador) a cada ruta\n    // {name : nombre}\n    { path: "/", component: Home, beforeEnter: requireAuth , \n    name: \'home\'},\n    { path: "/editar/:id", component: Editar, beforeEnter: requireAuth },\n    { path: "/login", component: Login , name: \'login\'},\n    { path: "/register", component: Register , name: \'register\' },\n]\n\n')),(0,r.kt)("h3",{id:"tener-acceso-al-name-desde-la-vista"},"Tener acceso al name desde la vista"),(0,r.kt)("p",null,"App.vue "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/63800831/how-to-access-current-route-name-reactively-in-vue-composition-api-in-typescript"},"link")),(0,r.kt)("li",{parentName:"ul"},"Para acceder al name , se utiliza el useRoute ")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"watch")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"A trav\xe9s del watch (",(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/todoApp.html#localstorage-con-useeffect"},"similar a useEffect"),") estamos pendiente de algo."),(0,r.kt)("li",{parentName:"ul"},"Watch tiene dos par\xe1metros, una funci\xf3n que devuelve el dato el cual va a estar pendiente y una funci\xf3n."),(0,r.kt)("li",{parentName:"ul"},"La funci\xf3n del segundo par\xe1metro se ejecutar\xe1 cada vez que el dato cambio."),(0,r.kt)("li",{parentName:"ul"},"El watch es para asignar un observador de algo.")))),(0,r.kt)("p",null,"App.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<script setup>\nimport { ref, watch } from 'vue';\nimport { useUserStore } from './stores/user';\nimport { useRoute } from 'vue-router';\nconst userStore = useUserStore();\nconst selectedKeys = ref([]);\n// Inicializamos route\nconst route = useRoute();\n// watch(funcion que devuelve un dato , funcion)\n// vamos a estar pendiente del dato\n//route.name = el nombre de la ruta\nwatch(() => route.name, () => {\n  selectedKeys.value =  [route.name];\n});\n\n<\/script>\n\n")),(0,r.kt)("h2",{id:"grid"},"Grid"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://next.antdv.com/components/grid"},"link")),(0,r.kt)("li",{parentName:"ul"},"Es un sistema de 24 columnas")),(0,r.kt)("h3",{id:"componentes"},"Componentes:"),(0,r.kt)("h4",{id:"a-row"},"a-row"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Representa una fila ")),(0,r.kt)("h4",{id:"a-col"},"a-col"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Representa una columna ")),(0,r.kt)("h4",{id:"props-3"},"props:"),(0,r.kt)("h5",{id:"span"},"span"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Indica la cantidad de columnas que va a ocupar (width)")),(0,r.kt)("h5",{id:"offset"},"offset"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es el margen horizontal")),(0,r.kt)("h5",{id:"xs--sm"},"xs , sm"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es un punto de ruptura para hacerlo responsive , recibe un objeto con el span y offset.")),(0,r.kt)("h2",{id:"formulario"},"Formulario"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.antdv.com/components/form"},"link"))),(0,r.kt)("h3",{id:"componentes-1"},"Componentes"),(0,r.kt)("h4",{id:"a-form"},"a-form"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Representa la etiqueta form ")),(0,r.kt)("h4",{id:"props-4"},"Props:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"name "),(0,r.kt)("li",{parentName:"ul"},"label-col "),(0,r.kt)("li",{parentName:"ul"},"wrapper "),(0,r.kt)("li",{parentName:"ul"},"model "),(0,r.kt)("li",{parentName:"ul"},"model"),(0,r.kt)("li",{parentName:"ul"},"layout "),(0,r.kt)("li",{parentName:"ul"},"evento @finish (cuando cumple las validaciones)"),(0,r.kt)("li",{parentName:"ul"},"evento @finishFailed (cuando falle las validaciones)"),(0,r.kt)("li",{parentName:"ul"},"etc")),(0,r.kt)("h4",{id:"a-form-item"},"a-form-item"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Envuelve un componente a-input")),(0,r.kt)("h4",{id:"props-5"},"Props:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"name "),(0,r.kt)("li",{parentName:"ul"},"label "),(0,r.kt)("li",{parentName:"ul"},"rules (validaciones)")),(0,r.kt)("h4",{id:"a-input"},"a-input"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Representa un input"),(0,r.kt)("li",{parentName:"ul"},"Utiliza un v-model ")),(0,r.kt)("h4",{id:"a-input-password"},"a-input-password"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Es como el anterior , pero para los password.")),(0,r.kt)("h4",{id:"a-button"},"a-button"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Tiene que contener el props html-type=\u201dsubmit\u201d para asignarle type=\u201dsubmit\u201d al button.")),(0,r.kt)("p",null,"Login.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n    <a-row>\n\n        <a-col :xs="{ span: 24 }" :sm="{ span: 12, offset: 6 }">\n            <a-form @submit.prevent="handleSubmit" name="basicLogin" autocomplete="off" layout="vertical">\n                <a-form-item name="email" label="Ingrese tu correo"\n                    :rules="[{ required: true, message: \'Ingresa un email\' }]">\n                    \x3c!-- v-model:value activa un evento del componente --\x3e\n                    <a-input v-model:value="email"></a-input>\n                </a-form-item>\n                <a-form-item name="password" label="Ingrese tu password"\n                    :rules="[{ required: true, message: \'Ingresa un email\' }]">\n                    <a-input-password v-model:value="password"></a-input-password>\n                </a-form-item>\n                <a-form-item>\n                    <a-button type="primary" html-type="submit" :disabled="userStore.loadingUser">Ingresar</a-button>\n                </a-form-item>\n            </a-form>\n        </a-col>\n\n    </a-row>\n</template>\n\n<script setup>\n// vue\nimport { ref } from \'vue\';\n// store\nimport { useUserStore } from \'../stores/user\';\nconst userStore = useUserStore();\n//ref\nconst email = ref(\'usuario@tes.com\');\nconst password = ref(\'123123\');\nconst handleSubmit = async () => {\n    if (!email.value || !password.value) {\n        return alert(\'llena los campos\');\n    }\n    await userStore.loginUser(email.value, password.value)\n\n}\n<\/script>\n\n')),(0,r.kt)("h3",{id:"problema"},"Problema"),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"El formulario funciona, pero en las validaciones se queda pegado cuando escribimos algo incorrecto y luego lo corregimos (se queda en rojo)."))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Para solucionar eso , se pone el props model al componente a-form"),(0,r.kt)("li",{parentName:"ul"},"el props model recibe una propiedad reactive ")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Antdv sugiere que usemos reactive en lugar de ref para los formulario."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n    <a-row>\n\n        <a-col :xs="{ span: 24 }" :sm="{ span: 12, offset: 6 }">\n            <a-form @submit.prevent="handleSubmit" name="basicLogin" autocomplete="off" layout="vertical"\n            :model="formState"\n            >\n                <a-form-item name="email" label="Ingrese tu correo"\n                    :rules="[{ required: true, message: \'Ingresa un email\' }]">\n                    \x3c!-- v-model:value activa un evento del componente --\x3e\n                    <a-input v-model:value="formState.email"></a-input>\n                </a-form-item>\n                <a-form-item name="password" label="Ingrese tu password"\n                    :rules="[{ required: true, message: \'Ingresa una contrase\xf1a\' }]">\n                    <a-input-password v-model:value="formState.password"></a-input-password>\n                </a-form-item>\n                <a-form-item>\n                    <a-button type="primary" html-type="submit" :disabled="userStore.loadingUser">Ingresar</a-button>\n                </a-form-item>\n            </a-form>\n        </a-col>\n\n    </a-row>\n</template>\n\n<script setup>\n// vue\nimport { reactive } from \'vue\';\n// store\nimport { useUserStore } from \'../stores/user\';\nconst userStore = useUserStore();\n// Creamos una propiedad reactiva\n// reactive(objeto)\nconst formState = reactive({\n    email: \'usuario@tes.com\',\n    password: \'123123\'\n})\n\nconst handleSubmit = async () => {\n    // Accedemos al valor del  email y  password del formulario\n    await userStore.loginUser(formState.email, formState.password)\n\n}\n<\/script>\n\n')),(0,r.kt)("h3",{id:"utilizamos-los-eventos-finish-y-finishfailed-del-componente-a-form"},"Utilizamos los eventos Finish y FinishFailed del componente a-form"),(0,r.kt)("h4",{id:"reglas-para-la-props-rules"},"Reglas para la props rules"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Regla min = Minimo X caracteres"),(0,r.kt)("li",{parentName:"ul"},"Regla whitespace = No acepta espacios en blanco(trim)"),(0,r.kt)("li",{parentName:"ul"},"Regla type = para que el input tenga validaciones HTML  , los valores son lo mismo que el atributo type de un input (type=\u201demail\u201d , type=\u201dtext\u201d , etc).")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\n<template>\n    <a-row>\n\n        <a-col :xs="{ span: 24 }" :sm="{ span: 12, offset: 6 }">\n            <a-form name="basicLogin" autocomplete="off" layout="vertical" :model="formState" @finish="onFinish"\n                @finishFailed="onFinishFailed">\n                <a-form-item name="email" label="Ingrese tu correo"\n                    :rules="[{ required: true, type:\'email\' , whitespace: true, message: \'Ingresa un email\' }]">\n                    \x3c!-- v-model:value activa un evento del componente --\x3e\n                    <a-input v-model:value="formState.email"></a-input>\n                </a-form-item>\n                <a-form-item name="password" label="Ingrese tu password"\n                    :rules="[{ required: true, whitespace: true, min: 6, message: \'Ingresa una contrase\xf1a con minimo 6 caracteres\' }]">\n                    <a-input-password v-model:value="formState.password"></a-input-password>\n                </a-form-item>\n                <a-form-item>\n                    <a-button type="primary" html-type="submit" :disabled="userStore.loadingUser">Ingresar</a-button>\n                </a-form-item>\n            </a-form>\n        </a-col>\n\n    </a-row>\n</template>\n\n<script setup>\n// vue\nimport { reactive } from \'vue\';\n// store\nimport { useUserStore } from \'../stores/user\';\nconst userStore = useUserStore();\n// Creamos una propiedad reactiva\n// reactive(objeto)\nconst formState = reactive({\n    email: \'usuario@tes.com\',\n    password: \'123123\'\n})\n\n\n\nconst onFinish = async (values) => {\n    await userStore.loginUser(formState.email, formState.password)\n}\nconst onFinishFailed = errorInfo => {\n    console.log(errorInfo);\n}\n<\/script>\n\n')),(0,r.kt)("h2",{id:"registro-con-repassword"},"Registro con repassword"),(0,r.kt)("p",null,"Register.vue"),(0,r.kt)("h4",{id:"reglas-para-la-props-rules-1"},"Reglas para la props rules"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"validator : Nos permite realizar una validacion Personalizada."),(0,r.kt)("li",{parentName:"ul"},"validator : function(reglas , valor) {}"),(0,r.kt)("li",{parentName:"ul"},"la funci\xf3n recibe las reglas y el valor del input.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n\n    <h1>Register</h1>\n    <a-row>\n\n        <a-col :xs="{ span: 24 }" :sm="{ span: 12, offset: 6 }">\n            <a-form name="basicRegister" autocomplete="off" layout="vertical" :model="formState" @finish="onFinish"\n                @finishFailed="onFinishFailed">\n                <a-form-item name="email" label="Ingrese tu correo"\n                    :rules="[{ required: true, type: \'email\', whitespace: true, message: \'Ingresa un email\' }]">\n                    \x3c!-- v-model:value activa un evento del componente --\x3e\n                    <a-input v-model:value="formState.email"></a-input>\n                </a-form-item>\n                <a-form-item name="password" label="Ingrese tu password"\n                    :rules="[{ required: true, whitespace: true, min: 6, message: \'Ingresa una contrase\xf1a con minimo 6 caracteres\' }]">\n                    <a-input-password v-model:value="formState.password"></a-input-password>\n                </a-form-item>  \n                  <a-form-item name="repassword" label="Repita  password"\n                    :rules="[{validator : validatePass }]">\n                    <a-input-password v-model:value="formState.repassword"></a-input-password>\n                </a-form-item>\n                <a-form-item>\n                    <a-button type="primary" html-type="submit" :disabled="userStore.loadingUser">Registrar </a-button>\n                </a-form-item>\n            </a-form>\n        </a-col>\n\n    </a-row>\n\n</template>\n\n<script setup>\nimport { reactive } from \'vue\';\nimport { useUserStore } from \'../stores/user\';\nconst userStore = useUserStore();\nconst formState = reactive({\n    email: \'usuario@tes.com\',\n    password: \'123123\' ,\n    repassword:\'\'\n})\nconst validatePass = async(reglas , valor) => {\n    // Los mensajes de errores lo ponemos en el Promise.reject()\n   if (valor === \'\') {\n       // Devolvemos un promise rechazada\n       return Promise.reject(\'Repita contrase\xf1a\')\n   }\n   if (valor !== formState.password){\n       // Devolvemos un promise rechazada\n      return Promise.reject(\'No coinciden las contrase\xf1as\')\n   }\n  // Si esta todo \n  // Devolvemos un promise con la operacion sastifactoria\n   return Promise.resolve();\n}\n\nconst onFinish = async (values) => {\n    await userStore.registerUser(formState.email, formState.password)\n    alert(\'Verifica tu cuenta de correo\');\n}\nconst onFinishFailed = errorInfo => {\n    console.log(errorInfo);\n}\n<\/script>\n\n')),(0,r.kt)("h2",{id:"errores-fire-auth"},"Errores Fire Auth"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://fedeleva.github.io/aprendizaje/React/proyecto.html#refactorizar"},"Explicacion en la seccion de React")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/reference/js/auth#autherrorcodes"},"link"))),(0,r.kt)("h3",{id:"login-1"},"Login"),(0,r.kt)("p",null,"user.js "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"en el catch, error.code , retorna el mensaje(c\xf3digo) de error ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"   async loginUser(email, password) {\n            this.loadingUser = true;\n            try {\n                // Iniciamos sesion y sacamos la informacion del usuario(la contiene la propiedad user)\n                const { user } = await signInWithEmailAndPassword(auth, email, password)\n                this.userData = { email: user.email, uid: user.uid };\n                router.push('/')\n            } catch (error) {\n                console.log(error);\n                return error.code;\n            } finally {\n                this.loadingUser = false;\n            }\n        }\n\n")),(0,r.kt)("p",null,"Login.vue"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Seg\xfan el c\xf3digo de error, mostramos cierto mensaje.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const onFinish = async (values) => {\n    const error = await userStore.loginUser(formState.email, formState.password)\n  // SI no existe el error\n    if (!error) {\n        return;\n    }\n    switch (error) {\n        case \'auth/user-not-found\':\n            alert("No existe esa cuenta");\n            break;\n      case \'auth/wrong-password\':\n             alert("Contrase\xf1a incorrecta");\n\n            break;\n        default:\n            alert("Intentelo nuevamente");\n            break;\n    }\n}\n\n')),(0,r.kt)("h2",{id:"message"},"Message"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.antdv.com/components/message"},"link")),(0,r.kt)("li",{parentName:"ul"},"En lugar de alert , vamos a usar los Message que ofrecen ant design "),(0,r.kt)("li",{parentName:"ul"},"Como el Message no es un componente , hay que cargarlo manualmente (hacerle import)")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Sugerencia ")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Si usa Vite, puede usar unplugin-vue-components para cargar los componentes. Sin embargo, este complemento solo puede tratar con componentes. Otros, como el mensaje, deben cargarse manualmente:")),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { message } from 'ant-design-vue';\nimport 'ant-design-vue/es/message/style/css'; \n\n")))),(0,r.kt)("p",null,"Importamos los css en main.js "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"De esta manera, todo el sitio web/programa tiene acceso a los css.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router';\nimport { createPinia } from 'pinia'\nimport 'ant-design-vue/es/message/style/css'; \n// use(router) = Que utilize el router\n//use(createPinia()) = Que inicialice pinia\ncreateApp(App).use(router).use(createPinia()).mount('#app')\n\n")),(0,r.kt)("p",null,"Login.vue "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Para mostrar un mensaje es: message.tipodemensaje(\u201cmensaje\u201d);")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"<script setup>\nimport { message } from 'ant-design-vue';\n// vue\nimport { reactive } from 'vue';\n// store\nimport { useUserStore } from '../stores/user';\nconst userStore = useUserStore();\n// Creamos una propiedad reactiva\n// reactive(objeto)\nconst formState = reactive({\n    email: 'usuario@tes.com',\n    password: '123123'\n})\n\n\n\nconst onFinish = async (values) => {\n    const error = await userStore.loginUser(formState.email, formState.password)\n    // SI no existe el error\n    if (!error) {\n        return;\n    }\n    switch (error) {\n        case 'auth/user-not-found':\n            // Mostrar mensaje \n            // message.tipomensaje(\"mensaje\");\n            message.error(\"No existe el correo\");\n            break;\n        case 'auth/wrong-password':\n            message.error(\"Contrase\xf1a incorrecta\");\n            break;\n        default:\n            message.error(\"Intentelo mas tarde\");\n            break;\n    }\n}\nconst onFinishFailed = errorInfo => {\n    console.log(errorInfo);\n}\n<\/script>\n\n")),(0,r.kt)("h2",{id:"register-1"},"Register"),(0,r.kt)("p",null,"user.js "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"  async registerUser(email, password) {\n            this.loadingUser = true;\n            try {\n                // Creamos el usuario\n                await createUserWithEmailAndPassword(auth, email, password)\n                // Enviamos un email de validacion\n                //sendEmailVerification(currentUser)\n               await sendEmailVerification(auth.currentUser)\n                router.push('/login')\n            } catch (error) {\n                return error.code;\n                \n            } finally {\n                this.loadingUser = false;\n            }\n        }\n\n")),(0,r.kt)("p",null,"Register.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n\n    <h1>Register</h1>\n    <a-row>\n\n        <a-col :xs="{ span: 24 }" :sm="{ span: 12, offset: 6 }">\n            <a-form name="basicRegister" autocomplete="off" layout="vertical" :model="formState" @finish="onFinish"\n                @finishFailed="onFinishFailed">\n                <a-form-item name="email" label="Ingrese tu correo"\n                    :rules="[{ required: true, type: \'email\', whitespace: true, message: \'Ingresa un email\' }]">\n                    \x3c!-- v-model:value activa un evento del componente --\x3e\n                    <a-input v-model:value="formState.email"></a-input>\n                </a-form-item>\n                <a-form-item name="password" label="Ingrese tu password"\n                    :rules="[{ required: true, whitespace: true, min: 6, message: \'Ingresa una contrase\xf1a con minimo 6 caracteres\' }]">\n                    <a-input-password v-model:value="formState.password"></a-input-password>\n                </a-form-item>\n                <a-form-item name="repassword" label="Repita  password" :rules="[{ validator: validatePass }]">\n                    <a-input-password v-model:value="formState.repassword"></a-input-password>\n                </a-form-item>\n                <a-form-item>\n                    <a-button type="primary" html-type="submit" :disabled="userStore.loadingUser">Registrar</a-button>\n                </a-form-item>\n            </a-form>\n        </a-col>\n\n    </a-row>\n\n</template>\n\n<script setup>\nimport { reactive } from \'vue\';\nimport { useUserStore } from \'../stores/user\';\nimport { message } from \'ant-design-vue\';\nconst userStore = useUserStore();\nconst formState = reactive({\n    email: \'usuario@tes.com\',\n    password: \'123123\',\n    repassword: \'123123\'\n})\nconst validatePass = async (reglas, valor) => {\n    // Los mensajes de errores lo ponemos en el Promise.reject()\n    if (valor === \'\') {\n        // Devolvemos un promise rechazada\n        return Promise.reject(\'Repita contrase\xf1a\')\n    }\n    if (valor !== formState.password) {\n        // Devolvemos un promise rechazada\n        return Promise.reject(\'No coinciden las contrase\xf1as\')\n    }\n    // Si esta todo \n    // Devolvemos un promise con la operacion sastifactoria\n    return Promise.resolve();\n}\n\nconst onFinish = async (values) => {\n    const error = await userStore.registerUser(formState.email, formState.password)\n    // SI no existe el error\n    if (!error) {\n        // Mostrar mensaje \n        // message.tipomensaje("mensaje");\n        return message.success("Revisa tu correo");\n    }\n    switch (error) {\n        case \'auth/email-already-in-use\':\n            // Mostrar mensaje \n            // message.tipomensaje("mensaje");\n            message.error("Correo ya en uso");\n            break;\n        default:\n            message.error("Intentelo mas tarde");\n            break;\n    }\n   \n}\nconst onFinishFailed = errorInfo => {\n    console.log(errorInfo);\n}\n<\/script>\n\n')),(0,r.kt)("h3",{id:"animaciones-de-loading-en-los-botones"},"Animaciones de loading en los botones:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' <a-button type="primary" html-type="submit" :loading="userStore.loadingUser" :disabled="userStore.loadingUser">Ingresar</a-button>\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},' <a-button type="primary" html-type="submit" :disabled="userStore.loadingUser" :loading="userStore.loadingUser">Registrar</a-button>\n')),(0,r.kt)("h2",{id:"componente-addform--renderizar-componente"},"Componente AddForm / Renderizar componente"),(0,r.kt)("p",null,"components/AddForm.vue"),(0,r.kt)("h4",{id:"reglas-para-la-props-rules-2"},"Reglas para la props rules"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"pattern : Sirve para  agregar una expresi\xf3n regular en la validacion."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"http://w3.unpocodetodo.info/utiles/regex-ejemplos.php?type=mix"},"regla regular para urls"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<script setup>\nimport { useDatabaseStore } from \'../stores/database\'; \nimport { reactive } from \'vue\';\nimport { message } from \'ant-design-vue\';\n\nconst databaseStore = useDatabaseStore();\nconst formState = reactive({\n    url: \'\'\n})\n\nconst onFinish = async (value) => {\n      databaseStore.addUrl(formState.url);\n      message.success("URL agregada");\n}\n<\/script>\n\n<template>\n\n    <a-form name="addForm" autocomplete="off" layout="vertical" :model="formState" @finish="onFinish">\n        <a-form-item name="url" label="Ingrese una URL" :rules="[{\n            required: true,\n            whitespace: true,\n            message: \'Ingrese una URL v\xe1lida\',\n            pattern: /^https?:\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+[/#?]?.*$/\n        \n        }]">\n              <a-input v-model:value="formState.url"></a-input>\n        </a-form-item>\n        <a-form-item>\n            <a-button type="primary" html-type="submit">Agregar URL</a-button>\n        </a-form-item>\n    </a-form>\n</template>\n\n')),(0,r.kt)("p",null,"Home.vue "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Renderizamos el componente que creamos"),(0,r.kt)("li",{parentName:"ul"},"Al renderizar un componente, se escribe todo en min\xfascula y se separa con un \u201c-\u201c cada palabra (te das cuenta cuando se separan las palabras porque esta en camelCase)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n  <div>\n    <h1>Home</h1>\n     \x3c!-- Renderizamos el componente AddForm --\x3e\n     <add-form></add-form>\n    <p v-if="databaseStore.loadingDoc">Loading docs...</p>\n    <ul v-else>\n      <li v-for="item of databaseStore.document" :key="item.id">\n        {{ item.name }} <br> \n        <button @click="databaseStore.deleteUrl(item.id)">Eliminar</button>     \n         <button @click="router.push(`/editar/${item.id}`)">Editar</button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script setup>\nimport { useDatabaseStore } from \'../stores/database\';\nimport { useRouter } from \'vue-router\';\nconst router = useRouter();\nconst databaseStore = useDatabaseStore();\ndatabaseStore.getUrls()\n<\/script>\n\n')),(0,r.kt)("h3",{id:"le-a\xf1adimos-un-loading-y-un-manejo-de-errores-de-firebase"},"Le a\xf1adimos un loading y un manejo de errores de Firebase"),(0,r.kt)("p",null,"database.js "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," state: () => ({\n        document: [],\n        loadingDoc: false,\n        loading:false\n    })\n\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'      async addUrl(name) {\n            this.loading = true;\n            try {\n                const objetoDoc = {\n                    name: name,\n                    short: nanoid(6),\n                    user: auth.currentUser.uid,\n                }\n\n                // addDoc(collection , documento)\n                // el documento es el objeto que se va a insertar en la BD\n                const docRef = await addDoc(collection(db, "urls"), objetoDoc)\n                this.document.push({\n                    // cuando se crea el objeto , te devuelve una propiedad con la id\n                    ...objetoDoc, id: docRef.id\n                })\n            } catch (error) {\n                console.log(error)\n                return error.code\n            } finally {\n                this.loading = false;\n            }\n        }\n\n')),(0,r.kt)("p",null,"AddForm.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const onFinish = async (value) => {\n      const error =await  databaseStore.addUrl(formState.url);\n      // SI no existe errores\n      if (!error) {\n          formState.url = \'\';\n        return message.success("URL agregada");\n      }\n       switch (error) {\n         // Manejar errores de Firestore\n        default:\n            message.error("Intentelo mas tarde");\n            break;\n    }\n}\n<\/script>\n\n<template>\n\n    <a-form name="addForm" autocomplete="off" layout="vertical" :model="formState" @finish="onFinish">\n        <a-form-item name="url" label="Ingrese una URL" :rules="[{\n            required: true,\n            whitespace: true,\n            message: \'Ingrese una URL v\xe1lida\',\n            pattern: /^https?:\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+[/#?]?.*$/\n        \n        }]">\n              <a-input v-model:value="formState.url"></a-input>\n        </a-form-item>\n        <a-form-item>\n            <a-button type="primary" html-type="submit" :loading="databaseStore.loading" :disabled="databaseStore.loading">Agregar URL</a-button>\n        </a-form-item>\n    </a-form>\n</template>\n\n')),(0,r.kt)("h2",{id:"card"},"Card"),(0,r.kt)("h3",{id:"componente-a-card"},"Componente ",(0,r.kt)("a",{parentName:"h3",href:"https://www.antdv.com/components/card"},"a-card")),(0,r.kt)("h4",{id:"props-6"},"props:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"title")),(0,r.kt)("h3",{id:"componente-template"},"componente template"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Contiene el props #extra"),(0,r.kt)("li",{parentName:"ul"},"Adentro insertamos los botones que van a aparecer al costado de la Card")),(0,r.kt)("h3",{id:"componente-a-space"},"componente ",(0,r.kt)("a",{parentName:"h3",href:"https://www.antdv.com/components/space"},"a-space")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Sirve para generar un espaciado entre los componentes y que no queden pegados."),(0,r.kt)("li",{parentName:"ul"},"Se genera un  espaciado en ambos lados(horizontalmente o verticalmente)  en todos los elementos que contiene el componente.")),(0,r.kt)("h4",{id:"props-7"},"props:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"direction : Para especificar en que direcci\xf3n (horizontal o vertical) queres generar el espaciado. Sin especificar esta props , por defecto es horizontal.")),(0,r.kt)("p",null,"Home.vue "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n\n    <h1>Home</h1>\n    \x3c!-- Renderizamos el componente AddForm --\x3e\n    <add-form></add-form>\n    <p v-if="databaseStore.loadingDoc">Loading docs...</p>\n    <a-space direction="vertical" v-else style="width:100%">\n      <a-card :title="item.short"  v-for="item of databaseStore.document" :key="item.id">\n        <template #extra>\n          <a-space>\n            <a-button type="danger" @click="databaseStore.deleteUrl(item.id)">Eliminar</a-button>\n            <a-button type="primary" @click="router.push(`/editar/${item.id}`)">Editar</a-button>\n          </a-space>\n\n        </template>\n        <p>{{ item.name }}</p>\n      </a-card>\n\n    </a-space>\n</template>\n\n<script setup>\nimport { useDatabaseStore } from \'../stores/database\';\nimport { useRouter } from \'vue-router\';\nconst router = useRouter();\nconst databaseStore = useDatabaseStore();\ndatabaseStore.getUrls()\n<\/script>\n\n')),(0,r.kt)("h2",{id:"confirmar-eliminacion--parametro-en-la-funci\xf3n-del-evento"},"Confirmar Eliminacion / Parametro en la funci\xf3n del evento"),(0,r.kt)("h3",{id:"componente-a-popfirm"},"Componente ",(0,r.kt)("a",{parentName:"h3",href:"https://www.antdv.com/components/popconfirm"},"a-popfirm")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Envuelve al bot\xf3n/componente que realiza la acci\xf3n."),(0,r.kt)("li",{parentName:"ul"},"Sirve para confirmar o cancelar una acci\xf3n.")),(0,r.kt)("h4",{id:"props-8"},"props:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"title  : Titulo de la \u201cventana\u201d , la pregunta que le hacemos al usuario."),(0,r.kt)("li",{parentName:"ul"},"ok-text  : el Texto del bot\xf3n yes"),(0,r.kt)("li",{parentName:"ul"},"cancel-text : el Texto del bot\xf3n no"),(0,r.kt)("li",{parentName:"ul"},"@confirm = evento al confirmar"),(0,r.kt)("li",{parentName:"ul"},"@cancel = evento al cancelar")),(0,r.kt)("p",null,"database.js "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'      async deleteUrl(id) {\n            this.loading = true;\n            try {\n                // Referencia al documento\n                const docRef = doc(db, "urls", id);\n                const docSpan = await getDoc(docRef);\n                if (!docSpan.exists()) {\n                    throw new Error("No existe el doc");\n                }\n                if (docSpan.data().user !== auth.currentUser.uid) {\n                    throw new Error("No le pertenece ese documento");\n                }\n                //Eliminamos \n                await deleteDoc(docRef);\n                this.document = this.document.filter(item =>\n                    item.id !== id)\n            } catch (error) {\n                console.log(error)\n                return error.message;\n            } finally {\n                this.loading = false;\n            }\n        }\n\n')),(0,r.kt)("p",null,"Home.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<template>\n\n  <h1>Home</h1>\n  \x3c!-- Renderizamos el componente AddForm --\x3e\n  <add-form></add-form>\n  <p v-if="databaseStore.loadingDoc">Loading docs...</p>\n  <a-space direction="vertical" v-else style="width:100%">\n    <a-card :title="item.short" v-for="item of databaseStore.document" :key="item.id">\n      <template #extra>\n\n        <a-space>\n          <a-popconfirm title="\xbfEstas seguro que deseas eliminar?" ok-text="Si" cancel-text="No"\n            @confirm="confirm(item.id)" @cancel="cancel">\n            <a-button type="danger" :loading="databaseStore.loading" :disabled="databaseStore.loading">Eliminar</a-button>\n          </a-popconfirm>\n\n          <a-button type="primary" @click="router.push(`/editar/${item.id}`)">Editar</a-button>\n        </a-space>\n\n      </template>\n      <p>{{ item.name }}</p>\n    </a-card>\n\n  </a-space>\n</template>\n\n<script setup>\nimport { useDatabaseStore } from \'../stores/database\';\nimport { useRouter } from \'vue-router\';\nimport { message } from \'ant-design-vue\';\nconst router = useRouter();\nconst databaseStore = useDatabaseStore();\ndatabaseStore.getUrls()\n\nconst confirm = async (id) => {\n  const error = await databaseStore.deleteUrl(id);\n  // Si no existe el error\n  if (!error) {\n    return message.success(\'Se elimino con exito\');\n  }\n  return message.error(error);\n}\nconst cancel = () => {\n  message.error(\'No se elimino\');\n}\n<\/script>\n\n')),(0,r.kt)("h2",{id:"editar"},"Editar"),(0,r.kt)("p",null,"database.js "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'   async updateUrl(id, name) {\n            this.loading = true;\n            try {\n                // Referencia al documento\n                const docRef = doc(db, "urls", id);\n                // Obtenemos un documento\n                const docSpan = await getDoc(docRef);\n                if (!docSpan.exists()) {\n                    throw new Error("No existe el doc");\n                }\n                if (docSpan.data().user !== auth.currentUser.uid) {\n                    throw new Error("No le pertenece ese documento");\n                }\n                //updateDoc(referencia documento , {datos a actualizar})\n                await updateDoc(docRef, { name: name })\n\n             this.document = this.document.map((item) => item.id === id ? {...item , name : name} : item)\n            \n             router.push("/")\n\n            } catch (error) {\n                console.log(error)\n                return error.message\n            } finally {\n                this.loading = false;\n            }\n        }\n\n')),(0,r.kt)("p",null,"Editar.vue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\n<template>\n    <h1>Editar ID:  {{route.params.id}}</h1>\n    <a-form name="editForm" autocomplete="off" layout="vertical" :model="formState" @finish="onFinish">\n        <a-form-item name="url" label="Ingrese una URL" :rules="[{\n            required: true,\n            whitespace: true,\n            message: \'Ingrese una URL v\xe1lida\',\n            pattern: /^https?:\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+[/#?]?.*$/\n        \n        }]">\n            <a-input v-model:value="formState.url"></a-input>\n        </a-form-item>\n        <a-form-item>\n            <a-button type="primary" html-type="submit" :loading="databaseStore.loading"\n                :disabled="databaseStore.loading">Editar</a-button>\n        </a-form-item>\n    </a-form>\n    \n\n      \n</template>\n\n<script setup>\nimport { message } from \'ant-design-vue\';\nimport { onMounted, reactive } from \'vue\';\nimport { useRoute } from \'vue-router\';\nimport { useDatabaseStore } from \'../stores/database\';\n// Nos devuelve un objeto para tener acceso a las variables de la url.\nconst route = useRoute();\n\nconst databaseStore = useDatabaseStore()\n\nconst formState = reactive({\n    url: \'\'\n})\n\nconst onFinish = async (value) => {\nconst error = await databaseStore.updateUrl(route.params.id, formState.url);\nif (!error) {\n   return message.success("URL editada");\n}\nswitch (error) {\n         // Manejar errores de Firestore\n        default:\n            message.error("Intentelo mas tarde");\n            break;\n    }\n\n}\n\n// El callback se ejecuta al montarse el componente.\nonMounted(async () => {\n    // route.params.nombrevariable\n   const error =  formState.url = await databaseStore.leerUrl(route.params.id)\n      \n})\n<\/script>\n\n')))}c.isMDXComponent=!0}}]);