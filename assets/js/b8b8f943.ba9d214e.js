"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[1127],{3905:(e,a,n)=>{n.d(a,{Zo:()=>d,kt:()=>u});var t=n(7294);function o(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){o(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=t.createContext({}),p=function(e){var a=t.useContext(i),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},d=function(e){var a=p(e.components);return t.createElement(i.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=p(n),u=o,k=m["".concat(i,".").concat(u)]||m[u]||c[u]||r;return n?t.createElement(k,l(l({ref:a},d),{},{components:n})):t.createElement(k,l({ref:a},d))}));function u(e,a){var n=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=m;var s={};for(var i in a)hasOwnProperty.call(a,i)&&(s[i]=a[i]);s.originalType=e,s.mdxType="string"==typeof e?e:o,l[1]=s;for(var p=2;p<r;p++)l[p]=n[p];return t.createElement.apply(null,l)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6859:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>i,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var t=n(7462),o=(n(7294),n(3905));const r={sidebar_position:1},l="Lo Basico de Node",s={unversionedId:"Node/README",id:"Node/README",title:"Lo Basico de Node",description:"\xbfQu\xe9 es node?",source:"@site/docs/Node/README.md",sourceDirName:"Node",slug:"/Node/",permalink:"/documentacion/docs/Node/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Node/README.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"Node",next:{title:"Motores de plantillas/vistas",permalink:"/documentacion/docs/Node/motor"}},i={},p=[{value:"\xbfQu\xe9 es node?",id:"qu\xe9-es-node",level:2},{value:"Instalaci\xf3n",id:"instalaci\xf3n",level:2},{value:"Modulos",id:"modulos",level:2},{value:"package.json",id:"packagejson",level:2},{value:"Archivo package.json",id:"archivo-packagejson",level:3},{value:"Locales vs Globales",id:"locales-vs-globales",level:2},{value:"NPX",id:"npx",level:2},{value:"package-lock.json",id:"package-lockjson",level:2},{value:"Actualizaciones de modulo",id:"actualizaciones-de-modulo",level:2},{value:"devDependencies",id:"devdependencies",level:2},{value:"Servidor HTTP",id:"servidor-http",level:2},{value:"Verbos o m\xe9todos HTTP",id:"verbos-o-m\xe9todos-http",level:2},{value:"Express",id:"express",level:2},{value:"Instalacion:",id:"instalacion",level:3},{value:"Rutas",id:"rutas",level:2},{value:"Archivos est\xe1ticos",id:"archivos-est\xe1ticos",level:2},{value:"req.query",id:"reqquery",level:2},{value:"req.body",id:"reqbody",level:2},{value:"fs",id:"fs",level:2},{value:"res.download",id:"resdownload",level:2},{value:"res.sendFile",id:"ressendfile",level:2},{value:"Propiedades y Metodos",id:"propiedades-y-metodos",level:2},{value:"propiedad __dirname",id:"propiedad-__dirname",level:3},{value:"metodo path.join",id:"metodo-pathjoin",level:3},{value:"Generador de aplicaciones con express",id:"generador-de-aplicaciones-con-express",level:2},{value:"Puerto",id:"puerto",level:2},{value:"Middleware",id:"middleware",level:2},{value:"Los middleware  es una  funcion con tres parametros",id:"los-middleware--es-una--funcion-con-tres-parametros",level:3},{value:"Explicacion",id:"explicacion",level:3},{value:"Ejemplo de middleware",id:"ejemplo-de-middleware",level:3},{value:"Status",id:"status",level:2}],d={toc:p};function c(e){let{components:a,...n}=e;return(0,o.kt)("wrapper",(0,t.Z)({},d,n,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"lo-basico-de-node"},"Lo Basico de Node"),(0,o.kt)("h2",{id:"qu\xe9-es-node"},"\xbfQu\xe9 es node?"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",{parentName:"p",href:"https://nodejs.org/es/about/"},"Info en espa\xf1ol"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",{parentName:"p",href:"https://nodejs.dev/learn/introduction-to-nodejs"},"Info en Ingles"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Es para ejecutar javascript en el servidor.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Node.js\xae es un entorno de ejecuci\xf3n para JavaScript construido con V8, motor de JavaScript de Chrome.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Node.js es un entorno de ejecuci\xf3n multiplataforma, de c\xf3digo abierto, para la capa del servidor (pero no limit\xe1ndose a ello) basado en el lenguaje de programaci\xf3n JavaScript.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Al contrario que la mayor\xeda del c\xf3digo JavaScript, no se ejecuta en un navegador")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Ideado como un entorno de ejecuci\xf3n de JavaScript orientado a eventos as\xedncronos, Node.js est\xe1 dise\xf1ado para crear aplicaciones network escalables.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"HTTP es un elemento destacado en Node.js. Esto hace que Node.js sea muy adecuado para la base de una librer\xeda o un framework web.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"En t\xe9rminos simples node no bloquea las operaciones, no queda a la espera de por ejemplo una solicitud a la base de datos, dejando la cpu trabajando en ello, node reanudar\xe1 las operaciones cuando vuelva la respuesta. Esto permite que Node.js maneje miles de conexiones simult\xe1neas con un solo servidor sin introducir la carga de administrar la concurrencia de subprocesos, lo que podr\xeda ser una fuente importante de errores.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"En Node.js, los nuevos est\xe1ndares de ECMAScript se pueden usar sin problemas, ya que no tiene que esperar a que todos sus usuarios actualicen sus navegadores.  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"NPM: Cuenta con m\xe1s de 1 mill\xf3n de paquetes, m\xf3dulos o bibliotecas disponibles para su utilizaci\xf3n.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Se puede hacer aplicaciones de escritorio , lineas de comandos , etc."))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"V8 es el entorno de ejecuci\xf3n para JavaScript creado para Google Chrome. Es software libre desde 2008, est\xe1 escrito en C++ y compila el c\xf3digo fuente JavaScript en c\xf3digo de m\xe1quina en lugar de interpretarlo en tiempo real."))),(0,o.kt)("h2",{id:"instalaci\xf3n"},"Instalaci\xf3n"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.org/es/"},"Link")),(0,o.kt)("li",{parentName:"ul"},"Reiniciar computadora (recomendado)"),(0,o.kt)("li",{parentName:"ul"},"Ejecutar el comando : ",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"node -v\n")),(0,o.kt)("h2",{parentName:"li",id:"probar"},"Probar")),(0,o.kt)("li",{parentName:"ul"},"Usar la terminal integrada de Visual studio code o una consola en la ubicaci\xf3n del proyecto."),(0,o.kt)("li",{parentName:"ul"},"En Node no funcionara addEventListener ya que se ejecuta en el navegador."),(0,o.kt)("li",{parentName:"ul"},"En el ejemplo utilizamos ",(0,o.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/es/docs/Web/API/Console/count"},"console.count()"))),(0,o.kt)("p",null,"app.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const frutas = ["banana", "banana", "pera", "banana"];\n\nfrutas.forEach((fruta) => {\n  console.count(fruta);\n});\n\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"node app.js\n")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"Se ejecuta en la consola."),(0,o.kt)("li",{parentName:"ul"},"Se ejecuta en nuestra maquina/servidor.")))),(0,o.kt)("h2",{id:"modulos"},"Modulos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Node tiene un sistema de m\xf3dulos incorporado."),(0,o.kt)("li",{parentName:"ul"},"Un archivo Node.js puede importar la funcionalidad expuesta por otros archivos Node.js."),(0,o.kt)("li",{parentName:"ul"},"Podes especificar la extensi\xf3n .js o no , es opcional al poner la ruta del archivo.\nfrutas.js")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const frutas = ["banana", "banana", "pera", "banana"];\n\n// Exportar el array frutas\nmodule.exports = frutas;\n\n')),(0,o.kt)("p",null,"app.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Importar el array frutas\n// Podes poner cualquier nombre\n// Podes especificar la extensi\xf3n .js o no , es opcional.\nconst frutero = require('./frutas');\nfrutero.forEach((frutero) => {\n  console.count(frutero);\n});\n\n")),(0,o.kt)("p",null,"Otro ejemplo:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Solo se puede usar un module.exports por archivo."),(0,o.kt)("li",{parentName:"ul"},"Pero se puede exportar varios/as objetos/funciones/constantes/etc: Para esto se recurre a un objeto ({}).\nfrutas.js")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const frutas = ["banana", "banana", "pera", "banana"];\nconst dinero = 1000;\n// Exportar el array frutas y el const dinero\nmodule.exports = {\n    // Si el nombre de la propiedad y el valor son lo mismo , se puede omitir el valor.\n    frutas : frutas ,\n    dinero \n}\n\n')),(0,o.kt)("p",null,"app.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Importar el array frutas y la const dinero\n// Podes especificar la extensi\xf3n .js o no , es opcional.\n// Utilizando destructuring: \nconst {frutas,dinero} = require('./frutas');\nfrutas.forEach((frutas) => {\n  console.count(frutas);\n});\nconsole.log(dinero);\n\n")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"M\xf3dulos ")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"Desde ahora hablaremos mucho sobre los m\xf3dulos (puede que los nombre como paquete, paquetito, biblioteca, dependencia, etc)."),(0,o.kt)("li",{parentName:"ul"},"Adem\xe1s de utilizar m\xf3dulos externos con NPM, tambi\xe9n ",(0,o.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v16.x/docs/api/"},"node cuenta con una gama de ellos incorporado"))))),(0,o.kt)("h2",{id:"packagejson"},"package.json"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Sirve para mantener un orden de los paquetes."),(0,o.kt)("li",{parentName:"ul"},"Contiene informaci\xf3n de nuestro proyecto "),(0,o.kt)("li",{parentName:"ul"},"Tiene un listado de los paquetes (y sus versiones) que utiliza el proyecto "),(0,o.kt)("li",{parentName:"ul"},"Tiene informaci\xf3n sobre nuestro proyecto, lo m\xe1s relevante en estos momentos ser\xe1n sus dependencias y scripts"),(0,o.kt)("li",{parentName:"ul"},"npm y yarn almacena los nombres y versiones de todos los paquetes instalados."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.dev/learn/the-package-json-guide"},"guia"))),(0,o.kt)("p",null,"Para crear el archivo: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm init -y\n")),(0,o.kt)("h3",{id:"archivo-packagejson"},"Archivo package.json"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"name = Nombre del proyecto")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"versi\xf3n = versi\xf3n del proyecto")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"description = descripci\xf3n del proyecto")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"el objeto scripts sirve para a\xf1adir lineas de comando "),(0,o.kt)("p",{parentName:"li"}," Ejemplo de scripts: "),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// \u201cnombre del comando\u201d: \u201clo que se va a ejecutar al invocarlo\u201d\n"scripts": {\n "dev": "webpack-dev-server --inline --progress --config build/webpack.dev.conf.js",\n "start": "npm run dev",\n "unit": "jest --config test/unit/jest.conf.js --coverage",\n "test": "npm run unit",\n "lint": "eslint --ext .js,.vue src test/unit",\n "build": "node build/build.js"\n}\n\n')))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"script ")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Estos scripts son aplicaciones de l\xednea de comandos. Puede ejecutarlos llamando npm run XXXX, donde "XXXX" est\xe1 el nombre del comando. Ejemplo: npm run dev')),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Puede usar el nombre que desee para un comando y los scripts pueden hacer literalmente cualquier cosa que desee.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Configuremos nodemon para que ejecute nuestro index.js"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// c\xf3mo se puede ver , escribir node index.js es lo mismo que escribir npm run start\n"scripts": {\n"dev": "nodemon index.js",\n"start": "node index.js"\n}\n')),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// Al escribir npm run start por consola estar\xeda ejecutando el app.js\n// npm run start === node app.js\n\n"scripts": {\n  "test": "echo \\"Error: no test specified\\" && exit 1" ,\n  "start" : "node app.js"\n},\n\n')))))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"El objeto dependencies tiene las dependencias que necesitan su proyecto.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"El objeto devDependencies tiene las dependencias que son de desarrollo (herramientas para el desarrollador) ."),(0,o.kt)("h2",{parentName:"li",id:"npm"},"NPM")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Cuando instalamos Node, instalamos ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/"},"NPM"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Es el administrador de paquetes o dependecias est\xe1ndar de Node.js.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Repositorio de c\xf3digo de un solo idioma m\xe1s grande de la Tierra.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"axios, express, jsonwebtoken, sequelize, son algunos paquetes, dependencias (c\xf3digos) que solucionan problemas, es tu elecci\xf3n utilizarlos (A menos que quieras reinventar la rueda).")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",{parentName:"p",href:"https://yarnpkg.com/"},"yarn ")," es una alternativa al cli(Interfaz de l\xednea de comandos) de npm."))),(0,o.kt)("p",null,"Ejemplo: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Para instalar un paquete hay que ubicarse en el proyecto en una consola.")),(0,o.kt)("p",null,"Instalar un paquete de forma local:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"     npm install  nombre-paquete\n")),(0,o.kt)("p",null,"Instalar un paquete de forma global:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"     npm install -g  nombre-paquete\n")),(0,o.kt)("p",null,"Actualiza todos los paquete:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm update \n")),(0,o.kt)("p",null,"Actualiza un paquete especifico:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm update nombre-paquete\n")),(0,o.kt)("p",null,"Desintala un paquete global "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm uninstall -g nombre-paquete\n")),(0,o.kt)("p",null,"Desintala un paquete local "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm uninstall nombre-paquete\n")),(0,o.kt)("p",null,"Ver un listado con las dependencias  locales"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm list\n")),(0,o.kt)("p",null,"Ver un listado con las dependencias globales"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm list -g\n")),(0,o.kt)("p",null,"Instalar una version especifica de una dependencia"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"X.XX.X  = Version")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm i nombre-paquete@X.XX.X\n")),(0,o.kt)("p",null,"Instalar una dependencia como devDependencies"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm i -D nobre-paquete\nO\nnpm install --save-dev nombre-paquete\n\n\n")),(0,o.kt)("h2",{id:"locales-vs-globales"},"Locales vs Globales"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Existen paquetes o dependencias que se instalan en nuestro proyecto (como lo hemos trabajado hasta ahora) . "),(0,o.kt)("li",{parentName:"ul"},"Para los locales se utiliza: npm install nombre-paquete y crea la carpeta node_modules"),(0,o.kt)("li",{parentName:"ul"},"Pero tambi\xe9n existe la posibilidad de hacer instalaciones de manera global (imagina que es como instalar un programa en tu pc que puede ser accedido de cualquier parte)"),(0,o.kt)("li",{parentName:"ul"},"Para los globales se utiliza: npm install -g nombre-paquete y se instala en la PC")),(0,o.kt)("p",null,"Ejemplo de dependencia local:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Instalamos ",(0,o.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/cowsay"},"cowsay")," de forma local",(0,o.kt)("div",{parentName:"li",className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Todos los paquete de npm tienen una pagina donde nos dice su documentacion (como instalar , etc)."))),(0,o.kt)("div",{parentName:"li",className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Es igual ")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"  npm install = npm i"))),"Comando en el proyecto por consola: ")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm i cowsay\n")),(0,o.kt)("p",null," Al instalar paquetes de forma local, se crea la carpeta node_modules que contiene todos los modulos de node que gestionamos con package.json."),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Utilizamos el paquete que instalamos")),(0,o.kt)("p",null,"app.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// Importamos el modulo que instalamos\nvar cowsay = require("cowsay");\n\nconsole.log(cowsay.say({\n    text : "Soy una vaca",\n    e : "oO",\n    T : "U "\n}));\n\n')),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"}," Si se elimina la carpeta node_modules , tenemos el package.json como respaldo con las dependencias (y sus versiones) que utiliza nuestro proyecto."),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n "name": "practica",\n "version": "1.0.0",\n "description": "",\n "main": "app.js",\n "scripts": {\n   "test": "echo \\"Error: no test specified\\" && exit 1"\n },\n "keywords": [],\n "author": "",\n "license": "ISC",\n "dependencies": {\n   "cowsay": "^1.5.0"\n }\n}\n\n')))),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Nunca se comparte la carpeta node_modules , solo se comparte los archivos est\xe1ticos(JS , ETC) + package.json"))),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Situacion")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Si nos pasan un proyecto con archivos est\xe1ticos(JS) y el archivo package.json"),(0,o.kt)("p",{parentName:"div"},"Tenemos que usar el comando de consola:"),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm i \no\nnpm install\n")),(0,o.kt)("p",{parentName:"div"}," El comando lee el package.json y instala las dependencias necesarias(crea la carpeta node_modules)."))),(0,o.kt)("p",null,"Ejemplo de dependencia global:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Instalamos  la misma dependencia de forma global")),(0,o.kt)("p",null," Usamos el comando en cualquier ubicaci\xf3n (Ya que es global) para instalarlo"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm install -g cowsay  \n o\nnpm i -g cowsay\n")),(0,o.kt)("p",null," Se instala en nuestro equipo."),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Para usarlo:"),(0,o.kt)("p",{parentName:"li"},"Usamos la palabra reservada cowsay"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"cowsay Soy una vaca \no     \ncowsay javascript\n")),(0,o.kt)("p",null," Y nos aparece lo mismo."),(0,o.kt)("p",null," Para ver los modulos instalado de forma global:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm list -g\n")),(0,o.kt)("p",null,"Independiente de la carpeta que nos encontremos, podemos ejecutar estos comando que utilizan dependencias globales."),(0,o.kt)("h2",{id:"npx"},"NPX"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Ejecuta un c\xf3digo sin necesidad de instalarlo de forma global."),(0,o.kt)("li",{parentName:"ul"},"Ejecuta algo que no esta instalado en nuestra computadora, pero simula lo que hubi\xe9ramos hecho de forma global."),(0,o.kt)("li",{parentName:"ul"},"Posiblemente se topar\xe1n con este comando a futuro (sobretodo si trabajan con React.js), bueno esto ejecuta un paquete de npm sin necesidad de instalarlo de forma global o local.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npx cowsay Soy una vaca\n")),(0,o.kt)("p",null,"Ejemplo: "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Desinstalamos cowsay (que estaba instalado de forma global) y luego intentamos ejecutarlo, esto nos dar\xe1 un error:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm uninstall -g cowsay\ncowsay javascript\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Ahora ejecute:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npx cowsay javascript\n")),(0,o.kt)("h2",{id:"package-lockjson"},"package-lock.json"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"En la versi\xf3n 5, npm introdujo el archivo package-lock.json."),(0,o.kt)("li",{parentName:"ul"},"El objetivo del package-lock.json es realizar un seguimiento de la versi\xf3n exacta de cada paquete que se instala."),(0,o.kt)("li",{parentName:"ul"},"package-lock.json sencillamente evita este comportamiento general de actualizar versiones  por notaci\xf3n (",(0,o.kt)("a",{parentName:"li",href:"https://nodejs.dev/learn/semantic-versioning-using-npm"},"iconos"),") de modo que cuando alguien clona nuestro repositorio y ejecuta npm install en su equipo, npm examinar\xe1 package-lock.json e instalar\xe1 la versi\xf3n exacta de los paquete que nosotros hab\xedamos instalado, ignorando as\xed los ^ y ~ de package.json."),(0,o.kt)("li",{parentName:"ul"},"Realmente npm install no ignora las versiones de package.json as\xed como no ignora package-lock.json.  Lo que hace es verificar que package.json y package-lock.json esten en sincron\xeda.  Esto es, si las notaciones (",(0,o.kt)("a",{parentName:"li",href:"https://nodejs.dev/learn/semantic-versioning-using-npm"},"iconos"),") descritas en package.json concuerdan con las versiones fijadas en package-lock.json, npm install usar\xe1 estas \xfaltima completamente"),(0,o.kt)("li",{parentName:"ul"},"Si se modifica el package.json manualmente , npm considera al package.json la verdad absoluta , de modo que instala dicha versi\xf3n y actualiza el package-lock.json."),(0,o.kt)("li",{parentName:"ul"},"cuando ejecute npm install, ser\xe1 capaz de reproducir el mismo \xe1rbol que el de su compa\xf1ero sin problemas asociados (la misma versi\xf3n)")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"npm update ")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/npm/cli/issues/708"},"npm 7 actualizaci\xf3n  ")),(0,o.kt)("li",{parentName:"ul"},"Desde npm versi\xf3n 7 en adelante, al ejecutar npm update no cambiar\xe1 el archivo package.json sino que package-lock.json llevar\xe1 el control de la versi\xf3n m\xe1s reciente a utilizar."),(0,o.kt)("li",{parentName:"ul"},"Ejecute npm list para saber la versi\xf3n actual o bien abra el archivo package-lock.json.")))),(0,o.kt)("h2",{id:"actualizaciones-de-modulo"},"Actualizaciones de modulo"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/cli/v7/commands/npm-update#description"},"npm-update 1 ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.dev/learn/semantic-versioning-using-npm"},"semantica")),(0,o.kt)("li",{parentName:"ul"},"~1.2.3 Actualiza las versiones parches, por ende actualizar\xe1 menor > 1.3.0"),(0,o.kt)("li",{parentName:"ul"},"^1.2.3 Actualiza versiones menores incluyendo parches, por ende actualizar\xe1 menor > 2.0.0"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://marketplace.visualstudio.com/items?itemName=pflannery.vscode-versionlens"},"versionlens ")," te ayuda a visualizar los paquetes actualmente utilizados.")),(0,o.kt)("p",null,"Ejemplo:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Instalamos una version especifica de ",(0,o.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/moment"},"moment"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm i moment@2.19.1\n")),(0,o.kt)("p",null,"package.json:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},' "dependencies": {\n    "cowsay": "^1.5.0",\n    "moment": "^2.19.1"\n  }\n\n')),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Cambiamos el package.json:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},' "dependencies": {\n    "cowsay": "^1.5.0",\n    "moment": "~2.19.1"\n  }\n\n')),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Actualizamos y vemos el listado de dependencias con sus versiones correspondiente.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm update\nnpm list\n\n")),(0,o.kt)("p",null,"C\xf3mo puedes ver solo se actualiz\xf3 hasta la versi\xf3n 2.19.4"),(0,o.kt)("p",null,"Otro Ejemplo: "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Desinstalar e instalar nuevamente:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm uninstall moment\nnpm i moment@2.19.1\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Cambiamos el package.json")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'"dependencies": {\n    "cowsay": "^1.5.0",\n    "moment": "^2.19.1"\n  }\n\n')),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Actualizamos y vemos el listado de dependencias ")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm update\nnpm list\n\n")),(0,o.kt)("p",null,"Ahora se actualiz\xf3 a la versi\xf3n 2.29.1 (al 3 enero 2021, puede que tu veas otra versi\xf3n m\xe1s reciente)"),(0,o.kt)("p",null,"Otro Ejemplo:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Volvamos a desinstalar e instalaremos sin una versi\xf3n espec\xedfica:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm uninstall moment\nnpm i moment\n")),(0,o.kt)("p",null,"Se instala la \xfaltima versi\xf3n disponible 2.29.1 (al 3 enero 2021, puede que tu veas otra versi\xf3n m\xe1s reciente)"),(0,o.kt)("h2",{id:"devdependencies"},"devDependencies"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"devDependencies hace referencia a los paquetes que no se necesitan para producci\xf3n."),(0,o.kt)("li",{parentName:"ul"},"est\xe1n destinados a instalarse solo en una m\xe1quina de desarrollo."),(0,o.kt)("li",{parentName:"ul"},"no son necesarios para ejecutar el c\xf3digo en producci\xf3n.")),(0,o.kt)("p",null,"Ejemplo:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Instalar el m\xf3dulo nodemon como devDependencies.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm i -D nodemon\nnpm install --save-dev nodemon\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},' "devDependencies": {\n    "nodemon": "^2.0.15"\n  }\n\n')),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"}," ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/nodemon"},"nodemon")," es una herramienta que ayuda a desarrollar aplicaciones basadas en node.js al reiniciar autom\xe1ticamente la aplicaci\xf3n de nodo cuando se detectan cambios de archivo en el directorio."))),(0,o.kt)("h2",{id:"servidor-http"},"Servidor HTTP"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.dev/learn/build-an-http-server"},"Link")),(0,o.kt)("li",{parentName:"ul"},"Hypertext Transfer Protocol: El Protocolo de transferencia de hipertexto es el protocolo de comunicaci\xf3n que permite las transferencias de informaci\xf3n en la World Wide Web."),(0,o.kt)("li",{parentName:"ul"},"Intercambia  informaci\xf3n entre cliente y servidor."),(0,o.kt)("li",{parentName:"ul"},"El servidor queda a la espera de alguna solicitud HTTP ejecutada por el cliente y proporciona una respuesta."),(0,o.kt)("li",{parentName:"ul"},"Cuando visitamos un sitio web, hacemos una solicitud GET de HTTP, y el servidor nos devuelve por ejemplo un index.html con el sitio web."),(0,o.kt)("li",{parentName:"ul"},'Nosotros configuraremos estas respuestas en nuestro "servidor web o servidor http" con node.js')),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Iniciar proyecto")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"Al iniciar el proyecto, hay que crear nuestro package.json y configurarlo.")),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"\nnpm init -y  \n")),(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"la -y es para que sea todo automatico."),(0,o.kt)("li",{parentName:"ul"},"No hace falta poner la extensi\xf3n.js")),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "name": "practica",\n  "version": "1.0.0",\n  "description": "",\n  "main": "index.js",\n  "scripts": {\n    "dev": "nodemon index",\n    "start": "node index.js"\n  },\n  "keywords": [],\n  "author": "",\n  "license": "ISC"\n}\n\n')),(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"instalamos nodemon:")),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm i nodemon\n")))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Vamos a usar el m\xf3dulo http que viene integrado con Node.",(0,o.kt)("div",{parentName:"li",className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Modulo")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Modulo =  Un trozo de c\xf3digo que alguien creo y nosotros lo usamos"))),"index.js:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// Importamos el modulo http que viene con Node\nconst http = require("http");\n\n// puerto\n// 3000 = ocupa react  8080 = ocupa vue\nconst port = 5000;\n\n// Creamos un servidor\n// createServer tiene como parametro un callback(requerimiento(req) , respuesta(res))\nconst server = http.createServer((req, res) => {\n\n    // Por cualquier peticion(requirimiento)\n    res.end("esta es la respuesta");\n});\n\n//El servidor escucha en el puerto especificado\n//listen(puerto , funcion)\nserver.listen(port, () => {\n    console.log("servidor andando \ud83d\ude80");\n});\n\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm run dev\n")),(0,o.kt)("p",null,"Al ejecutarlo:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"En el navegador: localhost:puerto"),(0,o.kt)("li",{parentName:"ul"},"http://localhost:5000/ en el ejemplo")),(0,o.kt)("p",null,"Otro Ejemplo:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Modulo que viene con Node\nconst http = require('http');\n// Creamos un servidor \n// Parametros createServer(callback(requirimiento(req),respuesta(res))\nconst server = http.createServer((req , res) => {\n\n      // Respuesta del servidor\n      res.end('estoy respondiendo a tu solicitud');\n})\n\nconst puerto = 3000;\n// El servidor escucha en un puerto\n// Parametros listen(puerto , callback)\nserver.listen(puerto , () => {\n      console.log('escuchando solicitudes');\n})\n\n")),(0,o.kt)("h2",{id:"verbos-o-m\xe9todos-http"},"Verbos o m\xe9todos HTTP"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/es/docs/Web/HTTP/Methods"},"Info")),(0,o.kt)("li",{parentName:"ul"},"HTTP define un conjunto de m\xe9todos de petici\xf3n para indicar la acci\xf3n que se desea realizar para un recurso determinado."),(0,o.kt)("li",{parentName:"ul"},"Los m\xe1s populares son: GET, POST, PUT, DELETE."),(0,o.kt)("li",{parentName:"ul"},"En el siguiente apartado crearemos nuestro servidor web (con express) y pondremos en pr\xe1ctica cada uno de estos m\xe9todos."),(0,o.kt)("li",{parentName:"ul"},"Si entramos a una URL y nos devuelve una p\xe1gina web es con el m\xe9todo GET."),(0,o.kt)("li",{parentName:"ul"},"Get = Servicios que exponemos"),(0,o.kt)("li",{parentName:"ul"},"Post = Crear algo")),(0,o.kt)("h2",{id:"express"},"Express"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",{parentName:"p",href:"https://expressjs.com/es/"},"Info"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Nos permite hacer nuestro servidor HTTP de una manera sencilla.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Nos permite gestionar las solicitudes que nos hacen los - clientes.\nPodemos conectarnos a BD y pintar informaci\xf3n en un HTML.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Infraestructura web r\xe1pida, minimalista y flexible para Node.js")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Con miles de m\xe9todos programado para HTTP y un middleware a su disposici\xf3n, la creaci\xf3n de una API s\xf3lida es r\xe1pida y sencilla.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Express proporciona una delgada capa de caracter\xedsticas de aplicaci\xf3n web b\xe1sicas, que no ocultan las caracter\xedsticas de Node.js que tanto ama y conoce."))),(0,o.kt)("h3",{id:"instalacion"},"Instalacion:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm i express\n")),(0,o.kt)("p",null,"Ejecutamos nodemon:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npm run dev\n")),(0,o.kt)("p",null,"index.js:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Importamos el modulo express que viene con Node\nconst express = require(\"express\");\n// Lo inicializamos\nconst app = express()\n// puerto\nconst port = 5000;\n \n\n//Una peticion get a la raiz del sitio web\n// req = requirimiento(peticion)   res = respuesta\napp.get('/', (req, res) => {\n      res.send('visitaste la pagina de inicio(raiz)')\n})\n\n// //El servidor escucha en el puerto especificado\napp.listen(port , () => console.log('Funciona'))\n\n")),(0,o.kt)("h2",{id:"rutas"},"Rutas"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://expressjs.com/es/starter/basic-routing.html"},"Info")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"El direccionamiento hace referencia a c\xf3mo responde una aplicaci\xf3n a una solicitud de cliente en un determinado punto final, que es un URI (o una v\xeda de acceso) y un m\xe9todo de solicitud HTTP espec\xedfico (GET, POST, etc.).\n")))),(0,o.kt)("p",null,"index.js:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Importamos el modulo express que viene con Node\nconst express = require(\"express\");\n// Lo inicializamos\nconst app = express()\n// puerto\nconst port = 5000;\n \n\n//Una peticion get a la raiz del sitio web\n// req = requirimiento(peticion)   res = respuesta\napp.get('/', (req, res) => {\n      res.send('visitaste la pagina de inicio(raiz) http://localhost:5000/')\n})\n // Otra ruta /contacto\n  // Para que responda , se debe enviar una peticion get a la url\napp.get('/contacto', (req, res) => {\n      res.send('visitaste la pagina de contacto http://localhost:5000/contacto')\n})\n // Otra ruta /contacto\n// Para que responda , se debe enviar una peticion post a la url\napp.post('/contacto', (req, res) => {\n      res.send('visitaste la pagina de contacto http://localhost:5000/contacto a traves del post')\n})\n\n// //El servidor escucha en el puerto especificado\napp.listen(port , () => console.log('Funciona'))\n\n")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Postman")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.postman.com/"},"postman")),(0,o.kt)("li",{parentName:"ul"},"Permite hacer solicitudes HTTP"),(0,o.kt)("li",{parentName:"ul"},"Podemos simular todas las peticiones (POST , PUT , DELETE , ETC)")))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"GET")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"El navegador solo acepta peticiones GET."),(0,o.kt)("li",{parentName:"ul"},"GET = Obtener informaci\xf3n de una URL")))),(0,o.kt)("h2",{id:"archivos-est\xe1ticos"},"Archivos est\xe1ticos"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://expressjs.com/es/starter/static-files.html"},"Info")),(0,o.kt)("li",{parentName:"ul"},"Para el servicio de archivos est\xe1ticos como, por ejemplo, im\xe1genes, archivos CSS y archivos JavaScript, utilice la funci\xf3n express.static  que la brinda el middleware de Express."),(0,o.kt)("li",{parentName:"ul"},"express.static nos permite habilitar una carpeta que va a contener archivos estaticos"),(0,o.kt)("li",{parentName:"ul"},"Pase el nombre del directorio que contiene los activos est\xe1ticos a la funci\xf3n express.static para empezar directamente el servicio de los archivos."),(0,o.kt)("li",{parentName:"ul"},"La carpeta que contiene los archivos estaticos se suele llamar public "),(0,o.kt)("li",{parentName:"ul"},'Esta "carpeta" representa el frontend.')),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"\xbfQue son los archivos estaticos?")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"Son todos los archivos que lo  interpreta  y ejecuta el navegador"),(0,o.kt)("li",{parentName:"ul"},"Ej. HTML , CSS , JS , imag\xe9nes.")))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Todas las demas carpetas es el backend (se ejecuta en el servidor/maquina)")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Middleware ")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"En palabras simples es una acci\xf3n que se ejecuta antes de nuestra funci\xf3n de ruta(el servidor responda a la peticion)"),(0,o.kt)("li",{parentName:"ul"},"El middleware  intercepta/atrapa la peticion antes que llegue al servidor."),(0,o.kt)("li",{parentName:"ul"},"Cuando el cliente env\xeda una petici\xf3n, el middleware detiene la petici\xf3n, lo analiza y luego le env\xeda algo."),(0,o.kt)("li",{parentName:"ul"},"Express viene con su middleware"),(0,o.kt)("li",{parentName:"ul"},"La palabra use representa el middleware")))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"express.static es para ver donde van los archivos \u201cp\xfablicos\u201d.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Los middleware se ejecutan antes de hacer la petici\xf3n (que responda el servidor)."),(0,o.kt)("p",{parentName:"li"},"index.js:"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Importamos el modulo express que viene con Node\nconst express = require(\"express\");\n// Lo inicializamos\nconst app = express()\n// puerto\nconst port = 5000;\n \n// middleware \napp.use(express.static(\"public\"))\n\n//Una peticion get a la raiz del sitio web\n// req = requirimiento(peticion)   res = respuesta\napp.get('/', (req, res) => {\n      res.send('visitaste la pagina de inicio(raiz) http://localhost:5000/')\n})\n // Otra ruta\napp.get('/contacto', (req, res) => {\n      res.send('visitaste la pagina de contacto http://localhost:5000/contacto')\n})\n // Otra ruta\n// Para que responda , se debe enviar una peticion post a la url\napp.post('/contacto', (req, res) => {\n      res.send('visitaste la pagina de contacto http://localhost:5000/contacto a traves del post')\n})\n\n// //El servidor escucha en el puerto especificado\napp.listen(port , () => console.log('Funciona'))\n\n")),(0,o.kt)("p",null,"Creamos la carpeta public en la raiz del proyecto:"),(0,o.kt)("p",null,"En dicha carpeta, creamos un index.html "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Express</title>\n</head>\n<body>\n     <h1>Mi p\xe1gina con express</h1>\n</body>\n</html>\n\n')),(0,o.kt)("h2",{id:"reqquery"},"req.query"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GET: Agrega datos de formulario a la URL en pares de nombre=valor, La longitud de una URL es limitada (alrededor de 3000 caracteres), GET es mejor para datos no seguros, como cadenas de consulta en Google."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://stackabuse.com/get-query-strings-and-parameters-in-express-js/"},"Query")),(0,o.kt)("li",{parentName:"ul"},"En t\xe9rminos simples, una cadena de consulta (Query) es la parte de una URL despu\xe9s del signo de interrogaci\xf3n (?)."),(0,o.kt)("li",{parentName:"ul"},"Est\xe1 destinado a enviar peque\xf1as cantidades de informaci\xf3n al servidor a trav\xe9s de la URL."),(0,o.kt)("li",{parentName:"ul"},"Esta informaci\xf3n generalmente se usa como par\xe1metros para consultar una base de datos, o tal vez para filtrar resultados. Realmente depende de ti para qu\xe9 se usan."),(0,o.kt)("li",{parentName:"ul"},"No manipular datos delicados con un GET.")),(0,o.kt)("p",null,"index.html de la carpeta public"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'  <form action="/formulario" method="get">\n          <input type="text" name="nombre" id="">\n          <input type="text" name="apellido" id="">\n          <button type="submit">Enviar</button>\n      </form>\n\n')),(0,o.kt)("p",null,"index.js: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"app.get('/formulario' , (req,res)=> {\n      //Devuelve un objeto que contiene las etiqueta nombre - value de los input\n      console.log(req.query);\n\n      res.send('formulario enviado  ' + req.query.nombre);\n})\n\n")),(0,o.kt)("h2",{id:"reqbody"},"req.body"),(0,o.kt)("p",null,"index.html:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<form action="/formulario" method="POST">\n          <input type="text" name="nombre" id="">\n          <input type="text" name="apellido" id="">\n          <button type="submit">Enviar</button>\n      </form>\n\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Con el m\xe9todo POST , los datos no viajan por la URL , viaja por el cuerpo de la petici\xf3n HTTP"),(0,o.kt)("li",{parentName:"ul"},"POST: Agrega datos de formulario dentro del cuerpo de la solicitud HTTP (los datos no se muestran en la URL)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/66555172/why-is-req-body-undefined-in-express"},"Error req.body vacio"))),(0,o.kt)("p",null,"index.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"app.post('/formulario' , (req,res)=> {\n     \n      console.log(req.body);\n\n      res.send('formulario enviado  ' );\n})\n\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Desde el formulario HTML se est\xe1 enviando datos a trav\xe9s del cuerpo o body, pero por defecto express no lee este tipo de datos."),(0,o.kt)("li",{parentName:"ul"},"Por lo tanto para indicarle a express que lea y analice los req.body (datos a trav\xe9s del cuerpo POST o PUT), se necesita configurar un middleware apropiado para dicho trabajo."),(0,o.kt)("li",{parentName:"ul"},"El middleware leer\xe1 el cuerpo de la solicitud, lo analizar\xe1 y colocar\xe1 los resultados analizados en el  req.body para que est\xe9 all\xed cuando se llame a su controlador de solicitudes."),(0,o.kt)("li",{parentName:"ul"},"Express tiene un middleware como este incorporado para varios tipos de contenido."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://expressjs.com/en/4x/api.html#express.json"},"info"))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Algunos de los middlewares ")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Algunos de los middlewares para analizar los diferentes tipos de contenido:"),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},'express.json(...)    // "application/json"\nexpress.raw(...)     // reads the body into a Buffer for you to parse yourself\nexpress.text(...)    // "text/plain" - reads the body into a string\nexpress.urlencoded(...) // "application/x-www-form-urlencoded"\n')))),(0,o.kt)("p",null,"index.js:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Este se utiliza para analizar un formulario simple como el anterior\napp.use(express.urlencoded({extended : true}));\n\napp.post('/formulario' , (req,res)=> {\n        //Devuelve un objeto que contiene las etiqueta nombre - value de los input\n      console.log(req.body);\n\n      res.send('formulario enviado  ' );\n})\n\n")),(0,o.kt)("h2",{id:"fs"},"fs"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://ourcodeworld.co/articulos/leer/297/como-crear-un-archivo-usando-el-modulo-del-sistema-de-archivos-fs-en-nodejs"},"Tutorial")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.org/api/fs.html#filehandlewritefiledata-options"},"Opciones")),(0,o.kt)("li",{parentName:"ul"},"Es un m\xf3dulo incorporado")),(0,o.kt)("p",null,"index.html de la carpeta public:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<form action="/formulario" method="POST">\n          <input type="text" name="nombre" id="">\n          <input type="text" name="apellido" id="">\n          <button type="submit">Enviar</button>\n      </form>\n\n')),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"El return en las validaciones es para evitar dos res.send() que puede generar errores"),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\nconst express = require(\"express\");\nconst app = express()\nconst port = 5000;\n \n// middleware \napp.use(express.static(\"public\"))\n// Este se utiliza para manipular un formulario simple\napp.use(express.urlencoded({extended : true}));\n\napp.post('/formulario' , (req,res)=> {\n        \n      \n     const {nombre,apellido} = req.body;\n     // Validaciones\n     // Si no existe los datos\n     if (!nombre || !apellido) return res.send('no existen los datos');\n      res.send('formulario enviado  ' );\n})\n\n")))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Tambi\xe9n se puede direccionar (como se hace en el ejemplo)"))),(0,o.kt)("p",null,"error.html dentro de public:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Document</title>\n</head>\n<body>\n    <h1>Error faltan los datos</h1>\n    <a href="/">Volver</a>\n</body>\n</html>\n\n')),(0,o.kt)("p",null,"index.js: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"\napp.post('/formulario' , (req,res)=> {\n        \n      \n     const {nombre,apellido} = req.body;\n     // Validaciones\n     // Si no existe los datos direcciono\n     if (!nombre || !apellido) return res.redirect(\"error.html\")\n      res.send('formulario enviado  ' );\n})\n\n\nconst fs = require('fs');\nconst express = require(\"express\");\nconst app = express()\nconst port = 5000;\n \n// middleware \napp.use(express.static(\"public\"))\n// Este se utiliza para manipular un formulario simple\napp.use(express.urlencoded({extended : true}));\n\napp.post('/formulario' , (req,res)=> {\n        \n      \n     const {nombre,apellido} = req.body;\n     // Validaciones\n     // Si no existe los datos\n     if (!nombre || !apellido) return res.redirect(\"error.html\")\n     //Crear un Archivo\n      // writeFile(nombre-archivo y ubicacion , contenido , callback )\n      // writeFile no crea carpetas\n      //el archivo se crea en la carpeta archivos\n     fs.writeFile(`archivos/${nombre}.txt` , apellido , (err) => {\n           if (err) return   res.send('Fallo al crear el archivo  ' );\n           res.send(\"se creo el archivo\");\n     })\n     \n})\n\n")),(0,o.kt)("h2",{id:"resdownload"},"res.download"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"http://expressjs.com/en/api.html#res.download"},"info")),(0,o.kt)("li",{parentName:"ul"},"Es para descargar algo.")),(0,o.kt)("p",null,"index.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const fs = require('fs');\nconst express = require(\"express\");\nconst app = express()\nconst port = 5000;\n \n// middleware \napp.use(express.static(\"public\"))\n// Este se utiliza para manipular un formulario simple\napp.use(express.urlencoded({extended : true}));\n\napp.post('/formulario' , (req,res)=> {\n        \n      \n     const {nombre,apellido} = req.body;\n     // Validaciones\n     // Si no existe los datos\n     if (!nombre || !apellido) return res.redirect(\"error.html\")\n     //Crear un Archivo\n      // writeFile(nombre-archivo y ubicacion , contenido , callback )\n      // writeFile no crea carpetas\n      //el archivo se crea en la carpeta archivos\n     fs.writeFile(`archivos/${nombre}.txt` , apellido , (err) => {\n           if (err) return   res.send('Fallo al crear el archivo  ' );\n           // __dirname es la ubicacion de este archivo\n           //download(ubicacion del archivo a descargar)\n           res.download(__dirname + `/archivos/${nombre}.txt`);\n     })\n     \n})\n\n\n\n\n\n \napp.listen(port , () => console.log('Funciona'))\n\n")),(0,o.kt)("h2",{id:"ressendfile"},"res.sendFile"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Abre un archivo en especifico.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// Si no encuentra una ruta configurada (No existe la ruta)\napp.use((req, res, next) => {\n  // res.status(404).send("Sorry cant find that!");\n  res.status(404).sendFile(__dirname + "/public/404.html");\n});\n\n')),(0,o.kt)("h2",{id:"propiedades-y-metodos"},"Propiedades y Metodos"),(0,o.kt)("h3",{id:"propiedad-__dirname"},"propiedad __dirname"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"__dirname es la ruta( din\xe1mica) en donde se ejecuta el c\xf3digo . "),(0,o.kt)("li",{parentName:"ul"},"Es la ubicaci\xf3n del archivo en la m\xe1quina.")),(0,o.kt)("h3",{id:"metodo-pathjoin"},"metodo path.join"),(0,o.kt)("p",null,"He visto varios ejemplos con path.join, este nos sirve hacer uniones de rutas "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'app.use(express.static(path.join(__dirname, "public")));\n')),(0,o.kt)("h2",{id:"generador-de-aplicaciones-con-express"},(0,o.kt)("a",{parentName:"h2",href:"https://expressjs.com/es/starter/generator.html"},"Generador de aplicaciones con express")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"express \u2013view=nombremotorplantilla nombreapp"),(0,o.kt)("li",{parentName:"ul"},"Hay muchos motores de plantilla (pug ,ejs,etc).")),(0,o.kt)("h2",{id:"puerto"},"Puerto"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Busque la variable PORT en nuestro servidor (variable de entorno) y si no existe, que utilice el puerto 3000\nconst PORT = process.env.PORT || 3000;\n\n")),(0,o.kt)("h2",{id:"middleware"},"Middleware"),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Esto es una explicacion(teoria) , para ver ejemplos  , te recomiendo ver las practicas"))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"El middleware seria el firewall "),(0,o.kt)("li",{parentName:"ul"},"Los middlewares interceptan la peticion antes que llegue al \u201cservidor\u201d ,  se ejecuta antes de la funcion que gestiona la petici\xf3n."),(0,o.kt)("li",{parentName:"ul"},"Interceptan la solicitud antes que llegue al servidor para analizarla."),(0,o.kt)("li",{parentName:"ul"},"Analizan la solicitud y si esta todo correcto , ejecuta la funcion que gestiona dicha solicitud HTTP o tambien puede ejecutar otro middleware en caso que una ruta contenga mas de un middleware."),(0,o.kt)("li",{parentName:"ul"},"Si una ruta tiene mas de un middleware , vas a ver un array que los contiene.")),(0,o.kt)("h3",{id:"los-middleware--es-una--funcion-con-tres-parametros"},"Los middleware  es una  funcion con tres parametros"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"req : Requirimiento "),(0,o.kt)("li",{parentName:"ol"},"res : Respuesta"),(0,o.kt)("li",{parentName:"ol"},"next : Seria un metodo ")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"El metodo next()  ejecuta el siguiente middleware(Puede haber varios en un array) o ejecuta la funcion que gestione la peticion (Se suele encontrar en una carpeta llamada controllers)")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"Para express todo es un middleware."),(0,o.kt)("li",{parentName:"ul"},"Las funciones que gestionan las solicitudes HTTP utilizan los dos primeros parametros.")))),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Middlewares de expresss")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"El metodo use() de express es para ejecutar/utilizar un middleware."),(0,o.kt)("li",{parentName:"ul"},"Lo que recibe es el middleware a ejecutarse")),(0,o.kt)("p",{parentName:"div"},"Ejemplo:"),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const app = express()\napp.use(express.static("public"))\n')))),(0,o.kt)("h3",{id:"explicacion"},"Explicacion"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Vamos a usar de  ejemplo un codigo de  la seccion de Router: ")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const express = require(\'express\');\n// Accedemos a todas las propiedades del Router\nconst router = express.Router();\n\n\nrouter.get(\'/\' , (req , res) => {\n  \n    res.render("index" , {titulo : "mi titulo gato" , descripcion : "Hola Esta es la descripcion"});\n})\n\nrouter.get(\'/servicios\' , (req,res) => {\n     res.render("servicios" , {tituloServicio : "Este es un mensaje de Servicio"})\n})\n\nmodule.exports = router;\n\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"El segundo parametro del metodo get/post/delete/etc es la funcion que gestiona la solicitud HTTP. Es la que ejecuta  next() si no encuentra ningun otro middleware adelante de el."),(0,o.kt)("li",{parentName:"ul"},"La funcion que contiene el segundo parametro , puede irse al tercer parametro si hay middlewares configurados en la ruta."),(0,o.kt)("li",{parentName:"ul"},"el metodo get/post/delete/etc puede tener un segundo parametro (la funcion que gestiona la solicitud HTTP se desplaza al tercer parametro) para especificar los middlewares")),(0,o.kt)("p",null,"Ejemplos :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Una ruta con un middleware (urlValida)")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'router.post("/" , urlValida , agregarUrl)\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Una ruta con varios middlewares (Todos en un array y con un orden)")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// Tiene un array de middleware\nrouter.post("/register" ,  [\n    // body ("valor-atributoname" , "mensaje de error").metodo.metodo.metodo....\n    // trim() = Limpia los espacios en blanco del lado izquierda y derecho\n    // notEmpty()  = Para que no venga vacio d\n    // escape() = Para que solo mande caracteres y ignore html\n    body("userName" , "Ingrese un nombre v\xe1lido").trim().notEmpty().escape(), \n    //Validamos el email  para que tenga un formato valido\n    body("email" , "Ingrese un email valido").trim().isEmail().normalizeEmail() ,\n    //validamos la contrase\xf1a \n    body("password" , "Contrase\xf1a de minimo 6 caracteres").trim().isLength({min:6}).escape()\n    // Hacemos una validacion personalizada para que las dos contrase\xf1as coincida\n    // custom(funcion(value , {req})) \n    // el value es lo que se evalua (lo que se envia en el formulario)\n    // {req} es para tener acceso al req(requirimiento)\n    .custom((value , {req}) =>{\n        // SI no son iguales\n        \n       if (value !== req.body.repassword) {\n           // No cumple la validacion\n           //Este seria el mensaje de error que se mandaria\n           throw new Error("No coinciden las contrase\xf1as")\n       }\n       // Si cumple la validacion\n       return value\n    })\n] ,  registerUser);\n')),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"Cada elemento del array es un middleware "),(0,o.kt)("li",{parentName:"ul"},"con el metodo next() ejecuto el siguiente middleware")),(0,o.kt)("p",{parentName:"div"},"Ej: "),(0,o.kt)("p",{parentName:"div"},"si el middleware de la posicion 0 ejecuta el next() se ejecuta el middleware de la posicion 1"),(0,o.kt)("p",{parentName:"div"},"si el middleware de la ultima posicion del array ejecuta el next() , ejecuta la funcion que gestiona la solicitud HTTP."))),(0,o.kt)("h3",{id:"ejemplo-de-middleware"},"Ejemplo de middleware"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = (req , res , next) => {\n   // Si esta autenticado\n    if (req.isAuthenticated()) {\n        return next();\n    }\n    // Si no tiene una sesion activa\n    res.redirect('/auth/login');\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const jwt = require('jsonwebtoken')\n\n// middleware para validar token (rutas protegidas)\nconst verifyToken = (req, res, next) => {\n  \n    const token = req.header('auth-token')\n    // Si no existe el token\n    if (!token) return res.status(401).json({ error: 'Acceso denegado' })\n    try {\n\n        const verified = jwt.verify(token, process.env.TOKEN_SECRET)\n        \n        req.user = verified\n        // Si la sesion es valida , hacemos el next()\n        next() // continuamos\n    } catch (error) {\n        res.status(400).json({error: 'token no es v\xe1lido'})\n    }\n}\n\nmodule.exports = verifyToken;\n")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observacion ")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"Como se puede ver , los middleware son archivos.js que contienen una funcion que se exporta"),(0,o.kt)("li",{parentName:"ul"},"Esa funcion se inserta como segundo parametro en los metodos (get/post/put/etc) para que se ejecute.")))),(0,o.kt)("h2",{id:"status"},"Status"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Cada respuesta tiene un status"),(0,o.kt)("li",{parentName:"ul"},"El Status es el codigo de respuesta"),(0,o.kt)("li",{parentName:"ul"},"Indica si la petici\xf3n ha sido exitosa, o no, y debido a que."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/es/docs/Web/HTTP/Status"},"link1")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://http.cat/"},"link2"))),(0,o.kt)("p",null,"La respuesta tiene el status 400"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"res.status(400).json({error: 'token no es v\xe1lido'})\n")),(0,o.kt)("p",null,"Por defecto , la respuesta tiene el status 200"))}c.isMDXComponent=!0}}]);