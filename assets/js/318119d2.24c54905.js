"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[9778],{5680:(e,a,n)=>{n.d(a,{xA:()=>d,yg:()=>g});var i=n(6540);function o(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function l(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?l(Object(n),!0).forEach((function(a){o(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,i,o=function(e,a){if(null==e)return{};var n,i,o={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var t=i.createContext({}),c=function(e){var a=i.useContext(t),n=a;return e&&(n="function"==typeof e?e(a):r(r({},a),e)),n},d=function(e){var a=c(e.components);return i.createElement(t.Provider,{value:a},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var a=e.children;return i.createElement(i.Fragment,{},a)}},u=i.forwardRef((function(e,a){var n=e.components,o=e.mdxType,l=e.originalType,t=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=c(n),u=o,g=m["".concat(t,".").concat(u)]||m[u]||p[u]||l;return n?i.createElement(g,r(r({ref:a},d),{},{components:n})):i.createElement(g,r({ref:a},d))}));function g(e,a){var n=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var l=n.length,r=new Array(l);r[0]=u;var s={};for(var t in a)hasOwnProperty.call(a,t)&&(s[t]=a[t]);s.originalType=e,s[m]="string"==typeof e?e:o,r[1]=s;for(var c=2;c<l;c++)r[c]=n[c];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},1713:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>t,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var i=n(8168),o=(n(6540),n(5680));const l={sidebar_position:2},r="DockerFile",s={unversionedId:"Docker/archivoDockerFile",id:"Docker/archivoDockerFile",title:"DockerFile",description:"- DockerFile es un archivo que contiene las instrucciones  de como generar una imagen.",source:"@site/docs/Docker/archivoDockerFile.md",sourceDirName:"Docker",slug:"/Docker/archivoDockerFile",permalink:"/documentacion/docs/Docker/archivoDockerFile",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Docker/archivoDockerFile.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"Docker",previous:{title:"Docker",permalink:"/documentacion/docs/Docker/"},next:{title:"Docker compose",permalink:"/documentacion/docs/Docker/archivoDockerCompose"}},t={},c=[{value:"Shell and Exec form",id:"shell-and-exec-form",level:2},{value:"Exec Form",id:"exec-form",level:4},{value:"Shell form",id:"shell-form",level:4},{value:"Comando ADD",id:"comando-add",level:2},{value:"Consejos / Advertencias",id:"consejos--advertencias",level:4},{value:"Ejemplos",id:"ejemplos",level:4},{value:"Comando ARG",id:"comando-arg",level:2},{value:"Ejemplos",id:"ejemplos-1",level:4},{value:"Usar variables",id:"usar-variables",level:4},{value:"Construcci\xf3n de la imagen",id:"construcci\xf3n-de-la-imagen",level:4},{value:"Combinaci\xf3n de ARG y ENV",id:"combinaci\xf3n-de-arg-y-env",level:4},{value:"Ventajas",id:"ventajas",level:4},{value:"Consejos",id:"consejos",level:4},{value:"Comando FROM",id:"comando-from",level:2},{value:"Resumen",id:"resumen",level:4},{value:"Ejemplos",id:"ejemplos-2",level:4},{value:"M\xfaltiples FROM para Multistage Builds",id:"m\xfaltiples-from-para-multistage-builds",level:4},{value:"Comando WORKDIR",id:"comando-workdir",level:2},{value:"Resumen",id:"resumen-1",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:"Uso de M\xfaltiples WORKDIR",id:"uso-de-m\xfaltiples-workdir",level:4},{value:"Ventajas de Usar WORKDIR",id:"ventajas-de-usar-workdir",level:4},{value:"Comando COPY",id:"comando-copy",level:2},{value:"Resumen",id:"resumen-2",level:4},{value:"Ejemplo",id:"ejemplo-1",level:4},{value:"Copiar M\xfaltiples Archivos",id:"copiar-m\xfaltiples-archivos",level:4},{value:"Uso de Wildcards",id:"uso-de-wildcards",level:4},{value:"Consideraciones",id:"consideraciones",level:4},{value:"ADD VS COPY",id:"add-vs-copy",level:4},{value:"Diferencias Clave y Buenas Pr\xe1cticas",id:"diferencias-clave-y-buenas-pr\xe1cticas",level:4},{value:"Comando RUN",id:"comando-run",level:2},{value:"\xbfPor qu\xe9 pasa esto?",id:"por-qu\xe9-pasa-esto",level:4},{value:"Resumen",id:"resumen-3",level:4},{value:"Capas de Imagen",id:"capas-de-imagen",level:4},{value:"Shell por Defecto",id:"shell-por-defecto",level:4},{value:"Evitar Capas Innecesarias",id:"evitar-capas-innecesarias",level:4},{value:"Orden de las Instrucciones",id:"orden-de-las-instrucciones",level:4},{value:"Depuraci\xf3n",id:"depuraci\xf3n",level:4},{value:"Ejemplo de Uso",id:"ejemplo-de-uso",level:4},{value:"Comando MAINTAINER",id:"comando-maintainer",level:2},{value:"Ejemplo de Uso de MAINTAINER",id:"ejemplo-de-uso-de-maintainer",level:4},{value:"Ventajas de Usar LABEL sobre MAINTAINER",id:"ventajas-de-usar-label-sobre-maintainer",level:4},{value:"Comando CMD",id:"comando-cmd",level:2},{value:"Sobrescribiendo CMD al Ejecutar el Contenedor",id:"sobrescribiendo-cmd-al-ejecutar-el-contenedor",level:4},{value:"Uso de ENTRYPOINT y CMD Juntos",id:"uso-de-entrypoint-y-cmd-juntos",level:4},{value:"Comando ENTRYPOINT",id:"comando-entrypoint",level:2},{value:"Diferencias entre ENTRYPOINT y CMD",id:"diferencias-entre-entrypoint-y-cmd",level:4},{value:"Funci\xf3n Principal:",id:"funci\xf3n-principal",level:5},{value:"Sobrescritura al Ejecutar el Contenedor:",id:"sobrescritura-al-ejecutar-el-contenedor",level:5},{value:"Formas de Definici\xf3n:",id:"formas-de-definici\xf3n",level:5},{value:"Para entender mejor c\xf3mo se complementan ENTRYPOINT y CMD, aqu\xed hay un ejemplo que ilustra su uso conjunto:",id:"para-entender-mejor-c\xf3mo-se-complementan-entrypoint-y-cmd-aqu\xed-hay-un-ejemplo-que-ilustra-su-uso-conjunto",level:4},{value:"Sobreescritura al Ejecutar el Contenedor",id:"sobreescritura-al-ejecutar-el-contenedor",level:4},{value:"Entendiendo ENTRYPOINT y CMD",id:"entendiendo-entrypoint-y-cmd",level:4},{value:"Sobrescribir",id:"sobrescribir",level:4},{value:"Otro ejemplo",id:"otro-ejemplo",level:4},{value:"Sobrescritura al Ejecutar el Contenedor",id:"sobrescritura-al-ejecutar-el-contenedor-1",level:4},{value:"Modificando Ambos ENTRYPOINT y CMD",id:"modificando-ambos-entrypoint-y-cmd",level:4},{value:"Comando ENV",id:"comando-env",level:2},{value:"Ejemplos de Uso",id:"ejemplos-de-uso",level:4},{value:"Definir una Variable de Entorno",id:"definir-una-variable-de-entorno",level:4},{value:"Usar Variables de Entorno en el Dockerfile",id:"usar-variables-de-entorno-en-el-dockerfile",level:4},{value:"Usar M\xfaltiples Variables de Entorno en una Sola L\xednea",id:"usar-m\xfaltiples-variables-de-entorno-en-una-sola-l\xednea",level:4},{value:"Variables de Entorno durante la Ejecuci\xf3n del Contenedor",id:"variables-de-entorno-durante-la-ejecuci\xf3n-del-contenedor",level:4},{value:"Variables de Entorno y Cach\xe9 de Docker",id:"variables-de-entorno-y-cach\xe9-de-docker",level:4},{value:"Buenas Pr\xe1cticas",id:"buenas-pr\xe1cticas",level:4},{value:"Comando EXPOSE",id:"comando-expose",level:2},{value:"Ejemplos",id:"ejemplos-3",level:4},{value:"Publicar Puertos con docker run",id:"publicar-puertos-con-docker-run",level:4},{value:"Docker Compose",id:"docker-compose",level:4},{value:"Buenas Pr\xe1cticas",id:"buenas-pr\xe1cticas-1",level:4},{value:"Comando HEALTHCHECK",id:"comando-healthcheck",level:2},{value:"Chequear el Estado de Salud",id:"chequear-el-estado-de-salud",level:4},{value:"Comando LABEL",id:"comando-label",level:2},{value:"Ejemplos",id:"ejemplos-4",level:4},{value:"Ver Etiquetas",id:"ver-etiquetas",level:4},{value:"Uso de Etiquetas en Pr\xe1cticas de CI/CD",id:"uso-de-etiquetas-en-pr\xe1cticas-de-cicd",level:4},{value:"Comando ONBUILD",id:"comando-onbuild",level:2},{value:"Ejemplo B\xe1sico",id:"ejemplo-b\xe1sico",level:4},{value:"Ventajas",id:"ventajas-1",level:4},{value:"Desventajas",id:"desventajas",level:4},{value:"Comando SHELL",id:"comando-shell",level:2},{value:"Usar bash",id:"usar-bash",level:4},{value:"Usar powershell o cmd",id:"usar-powershell-o-cmd",level:4},{value:"Comando STOPSIGNAL",id:"comando-stopsignal",level:2},{value:"Se\xf1ales Comunes",id:"se\xf1ales-comunes",level:4},{value:"Ventajas de Usar STOPSIGNAL",id:"ventajas-de-usar-stopsignal",level:4},{value:"Comando USER",id:"comando-user",level:2},{value:"Uso de USER",id:"uso-de-user",level:4},{value:"Consideraciones",id:"consideraciones-1",level:4},{value:"Comando VOLUME",id:"comando-volume",level:2},{value:"Prop\xf3sito del volumen en Dockerfile",id:"prop\xf3sito-del-volumen-en-dockerfile",level:4},{value:"Uso de VOLUME",id:"uso-de-volume",level:4},{value:"Caracter\xedsticas y Funcionamiento",id:"caracter\xedsticas-y-funcionamiento",level:4},{value:"Consideraciones",id:"consideraciones-2",level:4},{value:"Comunicaci\xf3n con el Volumen desde Otros Contenedores",id:"comunicaci\xf3n-con-el-volumen-desde-otros-contenedores",level:4},{value:"Ubicaci\xf3n de los datos",id:"ubicaci\xf3n-de-los-datos",level:4},{value:"Gesti\xf3n de Vol\xfamenes por Docker",id:"gesti\xf3n-de-vol\xfamenes-por-docker",level:4},{value:"Comunicaci\xf3n y Acceso a los Datos",id:"comunicaci\xf3n-y-acceso-a-los-datos",level:4},{value:"Ejecutar DockerFile",id:"ejecutar-dockerfile",level:2}],d={toc:c},m="wrapper";function p(e){let{components:a,...n}=e;return(0,o.yg)(m,(0,i.A)({},d,n,{components:a,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"dockerfile"},"DockerFile"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"DockerFile es un archivo que contiene las instrucciones  de como generar una imagen."),(0,o.yg)("li",{parentName:"ul"},"B\xe1sicamente sirve para crear una imagen de tu aplicaci\xf3n."),(0,o.yg)("li",{parentName:"ul"},'Es un archivo con "comandos" que especifican como crear una imagen.')),(0,o.yg)("h2",{id:"shell-and-exec-form"},"Shell and Exec form"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Las instrucciones RUN, CMD y ENTRYPOINT tienen dos formas posibles para especificar un comando: Shell and Exec form.")),(0,o.yg)("h4",{id:"exec-form"},"Exec Form"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Utiliza una lista de cadenas JSON y no invoca un shell, evitando problemas de manejo de variables y manejo de se\xf1ales."),(0,o.yg)("li",{parentName:"ul"},'Cuando decimos que un comando se ejecuta "sin manejar un shell" en el contexto de Docker, nos referimos a que el comando se ejecuta directamente como un proceso hijo del proceso Docker, sin pasar por un int\xe9rprete de comandos como /bin/sh (en sistemas Unix) o cmd.exe (en Windows).'),(0,o.yg)("li",{parentName:"ul"},"Los procesos iniciados directamente sin un shell pueden recibir y manejar se\xf1ales del sistema operativo (como SIGTERM, SIGINT, etc.) de manera m\xe1s directa y precisa. Esto es crucial para una correcta terminaci\xf3n de aplicaciones."),(0,o.yg)("li",{parentName:"ul"},"Sin un shell, se evitan problemas relacionados con variables del shell, la ejecuci\xf3n de comandos adicionales no deseados y posibles inyecciones de comandos."),(0,o.yg)("li",{parentName:"ul"},"De esta manera evitamos usar las variables de entorno que est\xe1n definidas en el SO del localhost."),(0,o.yg)("li",{parentName:"ul"},"Sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},'INSTRUCCION [ "comando", "argumento1", "argumento2", ..., "argumentoN"]\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"INSTRUCCION puede ser RUN, CMD, ENTRYPOINT, etc."),(0,o.yg)("li",{parentName:"ul"},"Comando:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"El primer elemento de la lista es el comando que deseas ejecutar."),(0,o.yg)("li",{parentName:"ul"},'Ejemplo: "echo"'))),(0,o.yg)("li",{parentName:"ul"},"Argumentos:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Los elementos siguientes son los argumentos que se pasan al comando."),(0,o.yg)("li",{parentName:"ul"},'Ejemplo: "Hola, mundo"'))),(0,o.yg)("li",{parentName:"ul"},"Entonces cada elemento del array en el exec form representa una palabra o un componente del comando que se va a ejecutar. ")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Ejemplos con CMD (se pueden usar con otros comandos claramente):")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},'FROM ubuntu:20.04\nCMD ["echo", "Hola, mundo"]\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'Comando ejecutado: echo "Hola, mundo"')))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},'FROM ubuntu:20.04\n\n# Usar CMD en exec form con varios argumentos\nCMD ["ls", "-l", "/var/log"]\nComando ejecutado:  ls -l /var/log\nFROM ubuntu:20.04\n\n# Instalar curl\nRUN apt-get update && apt-get install -y curl\n\n# Usar CMD en exec form\nCMD ["curl", "-L", "-o", "output.html", "https://www.example.com"]\nComando ejecutado: curl -L -o output.html https://www.example.com\nFROM ubuntu:20.04\n\n# Instalar curl\nRUN apt-get update && apt-get install -y curl\n\n# Definir una variable de entorno\nENV MY_URL="https://www.example.com"\n\n# Usar ENTRYPOINT en exec form con referencia a una variable de entorno\nENTRYPOINT ["sh", "-c", "curl -L -o output.html $MY_URL"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'Comando ejecutado: sh -c "curl -L -o output.html $MY_URL"')))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Un uso m\xe1s avanzado del exec form combina ENTRYPOINT y CMD para proporcionar flexibilidad:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},'FROM ubuntu:20.04\n\n# Definir ENTRYPOINT en exec form\nENTRYPOINT ["/bin/sh", "-c"]\n\n# Definir CMD en exec form para proporcionar argumentos predeterminados\nCMD ["echo Hola, mundo"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'Comando ejecutado: /bin/sh -c "echo Hola, mundo"'),(0,o.yg)("li",{parentName:"ul"},"ENTRYPOINT especifica que se debe utilizar /bin/sh -c para ejecutar el comando. Esto significa que cualquier comando especificado en CMD o pasado en docker run se ejecutar\xe1 a trav\xe9s de un shell."),(0,o.yg)("li",{parentName:"ul"},"CMD proporciona el comando y argumentos predeterminados (echo Hola, mundo).")))),(0,o.yg)("h4",{id:"shell-form"},"Shell form"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},'El "shell form" pasa el comando a un shell (/bin/sh -c en sistemas Unix), lo que puede llevar a diferencias en el comportamiento del comando, especialmente en c\xf3mo se manejan las variables de entorno y las se\xf1ales.'),(0,o.yg)("li",{parentName:"ul"},"Para comandos simples que no requieren muchos argumentos, el shell form puede ser m\xe1s conciso y f\xe1cil de escribir."),(0,o.yg)("li",{parentName:"ul"},"Puedes aprovechar las caracter\xedsticas y funcionalidades del shell, como variables, la redirecci\xf3n de entrada/salida, el encadenamiento de comandos con && y ||, y los caracteres comod\xedn."),(0,o.yg)("li",{parentName:"ul"},"Sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"INSTRUCTION command param1 param2\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"INSTRUCCION puede ser RUN, CMD, ENTRYPOINT, etc."),(0,o.yg)("li",{parentName:"ul"},"comando es el comando que deseas ejecutar."),(0,o.yg)("li",{parentName:"ul"},"argumento1, argumento2, ... son los argumentos que pasas al comando.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"En la shell form, los comandos y sus argumentos se escriben como una cadena de texto, sin usar el formato de array JSON utilizado en el exec form."),(0,o.yg)("li",{parentName:"ul"},"Ejemplos:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},"FROM ubuntu:20.04\n\n# Shell form usando RUN para instalar paquetes\nRUN apt-get update && apt-get install -y nginx\n\n\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"apt-get update && apt-get install -y nginx son los comandos que se ejecutan en la Shell (terminal de comando) para actualizar los repositorios y luego instalar el servidor web nginx.")))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},"FROM python:3.9\n\n# Copiar el script al contenedor\nCOPY mi_script.py /usr/local/bin/mi_script.py\n\n# Usar CMD en shell form para ejecutar el script\nCMD python /usr/local/bin/mi_script.py\n\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Comando ejecutado: python /usr/local/bin/mi_script.py")))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-javascript"},'FROM ubuntu:20.04\n\n# Copiar el script de entrada al contenedor\nCOPY entrypoint.sh /entrypoint.sh\n\n# Dar permisos de ejecuci\xf3n al script de entrada\nRUN chmod +x /entrypoint.sh\n\n# Usar ENTRYPOINT y CMD en shell form para ejecutar el script de entrada\nENTRYPOINT /entrypoint.sh\nCMD ["World"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Comando ejecutado: /entrypoint.sh World")))),(0,o.yg)("h2",{id:"comando-add"},"Comando ADD"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando ADD en un Dockerfile se utiliza para copiar archivos o directorios desde la ruta actual del proyecto (donde se encuentra el Dockerfile) hacia la imagen de Docker que se est\xe1 creando."),(0,o.yg)("li",{parentName:"ul"},"A diferencia del comando COPY, ADD tiene algunas caracter\xedsticas adicionales, como la capacidad de extraer autom\xe1ticamente archivos tar y de obtener archivos remotos a trav\xe9s de URL."),(0,o.yg)("li",{parentName:"ul"},"Sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ADD <src> <dest>\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"<","src> es la ruta del archivo o directorio que se quiere copiar."),(0,o.yg)("li",{parentName:"ul"},"<","dest> es la ruta dentro de la imagen de Docker donde se quiere copiar el archivo o directorio.")))),(0,o.yg)("h4",{id:"consejos--advertencias"},"Consejos / Advertencias"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando ADD puede sobreescribir archivos existentes en la imagen de Docker."),(0,o.yg)("li",{parentName:"ul"},"Si se utiliza el comando ADD con un directorio como src, todos los archivos y subdirectorios dentro de ese directorio se copiar\xe1n recursivamente."),(0,o.yg)("li",{parentName:"ul"},"El comando ADD tambi\xe9n puede ser utilizado para copiar archivos desde una URL remota, utilizando la sintaxis ADD ","<","url> ","<","dest>."),(0,o.yg)("li",{parentName:"ul"},"Es recomendable utilizar el comando COPY en lugar de ADD cuando se trata de copiar archivos locales, ya que COPY es m\xe1s eficiente y seguro."),(0,o.yg)("li",{parentName:"ul"},"Preferir COPY sobre ADD: Es una buena pr\xe1ctica utilizar COPY en lugar de ADD cuando no se necesita la funcionalidad adicional de ADD. COPY es m\xe1s simple y expl\xedcito en cuanto a lo que est\xe1 haciendo."),(0,o.yg)("li",{parentName:"ul"},"Rutas relativas y absolutas: Las rutas src pueden ser relativas al contexto de construcci\xf3n (normalmente el directorio donde se encuentra el Dockerfile) o absolutas en el sistema de archivos del host. La ruta dest siempre debe ser una ruta absoluta en el sistema de archivos del contenedor."),(0,o.yg)("li",{parentName:"ul"},"Permisos: Aseg\xfarese de que los permisos de los archivos y directorios copiados sean correctos. Puede que necesite ajustar los permisos usando RUN chmod despu\xe9s de usar ADD.")),(0,o.yg)("h4",{id:"ejemplos"},"Ejemplos"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Copiar archivos y directorios locales:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ADD localfile.txt /path/in/container/\nADD localdir /path/in/container/\n\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Esto copiar\xe1 el archivo localfile.txt y el directorio localdir al contenedor en las rutas especificadas.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Extraer archivos tar:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ADD archive.tar.gz /path/in/container/\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Si archive.tar.gz es un archivo tar comprimido, ADD lo descomprimir\xe1 autom\xe1ticamente en /path/in/container/.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Descargar archivos desde URL:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ADD http://example.com/file.tar.gz /path/in/container/\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Esto descargar\xe1 file.tar.gz desde la URL especificada y lo colocar\xe1 en /path/in/container/.")))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#add"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-arg"},"Comando ARG"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando ARG se utiliza para definir una variable de entorno en un Dockerfile. Las variables definidas con ARG se pueden utilizar en el Dockerfile para personalizar la construcci\xf3n de la imagen."),(0,o.yg)("li",{parentName:"ul"},"Estas variables pueden ser utilizadas durante el proceso de construcci\xf3n de la imagen Docker, pero no estar\xe1n disponibles en tiempo de ejecuci\xf3n del contenedor."),(0,o.yg)("li",{parentName:"ul"},"La sintaxis b\xe1sica del comando ARG es la siguiente:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ARG <nombre_variable>[=<valor_predeterminado>]\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"<","nombre_variable> es el nombre de la variable que se desea definir."),(0,o.yg)("li",{parentName:"ul"},"<","valor_predeterminado> es el valor predeterminado que se asignar\xe1 a la variable si no se proporciona un valor externo.")))),(0,o.yg)("h4",{id:"ejemplos-1"},"Ejemplos"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Definir una variable sin valor predeterminado:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ARG MY_VAR\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este caso, la variable MY_VAR se define, pero no se asigna un valor predeterminado. Debe proporcionarse un valor externo cuando se construye la imagen.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Definir una variable con un valor predeterminado:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ARG MY_VAR=hello\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este caso, la variable MY_VAR se define con un valor predeterminado de hello. Si no se proporciona un valor externo, se utilizar\xe1 el valor predeterminado.")))),(0,o.yg)("h4",{id:"usar-variables"},"Usar variables"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Las variables definidas con ARG pueden ser referenciadas en las siguientes instrucciones del Dockerfile usando la sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"${MI_VARIABLE} o $MI_VARIABLE\n")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Ejemplo:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ARG MY_VAR\nRUN echo $MY_VAR > myfile.txt\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este caso, se utiliza la variable MY_VAR en el comando RUN para crear un archivo con el contenido de la variable.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Otro ejemplo:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'# Usar una imagen base\nFROM ubuntu:20.04\n\n# Definir una variable de construcci\xf3n\nARG MI_VARIABLE\n\n# Mostrar el valor de la variable (\xfatil para debugging)\nRUN echo "El valor de MI_VARIABLE es: ${MI_VARIABLE}"\n\n# Utilizar la variable para instalar un paquete o realizar alguna configuraci\xf3n\nRUN apt-get update && \\\n    apt-get install -y ${MI_VARIABLE}\n\n# Comando para ejecutar el contenedor\nCMD ["bash"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Las variables definidas con ARG solo est\xe1n disponibles durante la construcci\xf3n de la imagen y no se conservan en la imagen final. Si se desea conservar una variable en la imagen final, se debe utilizar el comando ENV en su lugar.")))),(0,o.yg)("h4",{id:"construcci\xf3n-de-la-imagen"},"Construcci\xf3n de la imagen"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Para construir esta imagen Docker pasando un valor para MI_VARIABLE, se usa el flag --build-arg:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"docker build --build-arg MI_VARIABLE=curl -t mi_imagen .\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo, el valor de MI_VARIABLE se establece en curl, por lo que el comando RUN apt-get install -y ${MI_VARIABLE} se traduce a RUN apt-get install -y curl.")))),(0,o.yg)("h4",{id:"combinaci\xf3n-de-arg-y-env"},"Combinaci\xf3n de ARG y ENV"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Es com\xfan combinar ARG y ENV para que las variables definidas en tiempo de construcci\xf3n tambi\xe9n est\xe9n disponibles en tiempo de ejecuci\xf3n:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'Combinaci\xf3n de ARG y ENV\n# Usar una imagen base\nFROM ubuntu:20.04\n\n# Definir una variable de construcci\xf3n con un valor por defecto\nARG MI_VARIABLE=default_value\n\n# Asignar la variable de construcci\xf3n a una variable de entorno\nENV MI_VARIABLE=${MI_VARIABLE}\n\n# Utilizar la variable en el Dockerfile\nRUN echo "El valor de MI_VARIABLE es: ${MI_VARIABLE}"\n\n# Comando para ejecutar el contenedor\nCMD ["bash"]\n\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"De esta forma, la variable MI_VARIABLE estar\xe1 disponible tanto en tiempo de construcci\xf3n como en tiempo de ejecuci\xf3n del contenedor.")))),(0,o.yg)("h4",{id:"ventajas"},"Ventajas"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Permite personalizar la construcci\xf3n de la imagen seg\xfan las necesidades espec\xedficas."),(0,o.yg)("li",{parentName:"ul"},"Facilita la reutilizaci\xf3n de Dockerfiles para diferentes entornos o configuraciones.")),(0,o.yg)("h4",{id:"consejos"},"Consejos"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Utiliza nombres de variables descriptivos y coherentes para evitar confusiones."),(0,o.yg)("li",{parentName:"ul"},"Documenta las variables definidas con ARG en el Dockerfile para que otros desarrolladores puedan entender c\xf3mo se utiliza la variable."),(0,o.yg)("li",{parentName:"ul"},"Utiliza valores predeterminados razonables para evitar errores de construcci\xf3n.")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#arg"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-from"},"Comando FROM"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Especifica la imagen base. "),(0,o.yg)("li",{parentName:"ul"},"Esta imagen base es el punto de partida."),(0,o.yg)("li",{parentName:"ul"},"Cumple con la funci\xf3n de establecer la imagen sobre la que los pasos e im\xe1genes siguientes se ejecutan. Proporciona el sistema operativo y otras herramientas como el entorno de ejecuci\xf3n que va a necesitar la aplicaci\xf3n para ejecutarse."),(0,o.yg)("li",{parentName:"ul"},"La elecci\xf3n de la imagen base es crucial porque define el entorno de ejecuci\xf3n y las herramientas disponibles para tu aplicaci\xf3n.")),(0,o.yg)("h4",{id:"resumen"},"Resumen"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando FROM en un Dockerfile es el primer comando que se utiliza y define la imagen base a partir de la cual se construir\xe1 la nueva imagen Docker. Cada Dockerfile debe comenzar con un comando FROM, y puedes tener m\xfaltiples comandos FROM en un Dockerfile si deseas utilizar Multistage Builds")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Multistage Builds")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Multistage Builds en Docker es una t\xe9cnica avanzada que permite definir m\xfaltiples etapas de construcci\xf3n en un solo Dockerfile. Esta t\xe9cnica es \xfatil para crear im\xe1genes peque\xf1as y copiar solo los artefactos necesarios de una etapa a otra. Multistage Builds se usa para lenguajes compilados donde el proceso de compilaci\xf3n requiere muchas dependencias, pero el binario final es peque\xf1o y aut\xf3nomo."),(0,o.yg)("li",{parentName:"ul"},"Ventajas de Multistage Builds:",(0,o.yg)("ol",{parentName:"li"},(0,o.yg)("li",{parentName:"ol"},"Im\xe1genes M\xe1s Peque\xf1as: Al copiar solo los archivos necesarios para la etapa final, se eliminan las dependencias y herramientas de construcci\xf3n innecesarias."),(0,o.yg)("li",{parentName:"ol"},"Mayor Seguridad: Al excluir herramientas y dependencias de construcci\xf3n, se reduce la superficie de ataque de la imagen final."),(0,o.yg)("li",{parentName:"ol"},"Simplicidad en el Dockerfile: Todo el proceso de construcci\xf3n se define en un solo archivo, lo que facilita el mantenimiento y la comprensi\xf3n del flujo de construcci\xf3n.")))))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM <imagen>[:<etiqueta>|@<digest>]\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Donde:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"<","imagen> es el nombre de la imagen base."),(0,o.yg)("li",{parentName:"ul"},"<","etiqueta> es opcional y especifica una versi\xf3n o variante espec\xedfica de la imagen. Si no se proporciona, se usar\xe1 latest."),(0,o.yg)("li",{parentName:"ul"},"<","digest> es opcional y especifica una imagen exacta basada en su hash de contenido.")))))),(0,o.yg)("h4",{id:"ejemplos-2"},"Ejemplos"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Usar una Imagen Base:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM ubuntu:20.04\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Este ejemplo utiliza la imagen base ubuntu con la etiqueta 20.04.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Usar la Imagen Base m\xe1s Reciente:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM nginx\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo, se usa la \xfaltima versi\xf3n de la imagen nginx.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Usar una Imagen por Digest:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM ubuntu@sha256:5d7b4db94e05...\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Este ejemplo usa una imagen base espec\xedfica de Ubuntu identificada por su digest SHA-256.")))),(0,o.yg)("h4",{id:"m\xfaltiples-from-para-multistage-builds"},"M\xfaltiples FROM para Multistage Builds"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Los multistage builds permiten construir im\xe1genes en etapas, lo que es \xfatil para reducir el tama\xf1o de las im\xe1genes finales al copiar solo los artefactos necesarios de una etapa a otra."),(0,o.yg)("li",{parentName:"ul"},"Ejemplo:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'# Primera etapa: construcci\xf3n\nFROM golang:1.16 AS builder\nWORKDIR /app\nCOPY . .\nRUN go build -o myapp .\n\n# Segunda etapa: imagen final\nFROM alpine:latest\nWORKDIR /app\nCOPY --from=builder /app/myapp .\nCMD ["./myapp"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ol",{parentName:"li"},(0,o.yg)("li",{parentName:"ol"},"La primera etapa (builder) usa la imagen golang:1.16 para compilar una aplicaci\xf3n Go."),(0,o.yg)("li",{parentName:"ol"},"La segunda etapa usa la imagen alpine:latest y copia el binario construido desde la primera etapa (builder) a la imagen final."))),(0,o.yg)("li",{parentName:"ul"},"En un Dockerfile que utiliza Multistage Builds, solo la \xfaltima etapa define la imagen resultante que se utilizar\xe1 para ejecutar los contenedores. Las etapas anteriores se utilizan \xfanicamente para realizar operaciones de construcci\xf3n, como compilar aplicaciones, preparar recursos, etc. Esto es una de las caracter\xedsticas clave y ventajas de Multistage Builds en Docker: optimizar el tama\xf1o y la eficiencia de las im\xe1genes finales al separar las fases de construcci\xf3n de las capas de la imagen final. "),(0,o.yg)("li",{parentName:"ul"},"Es un concepto avanzado, pero si te intereso te invito a investigarlo en profundidad.")))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#from"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-workdir"},"Comando WORKDIR"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Se utiliza para establecer el directorio de trabajo dentro del contenedor en el que se ejecutar\xe1n los comandos posteriores. "),(0,o.yg)("li",{parentName:"ul"},"Es similar a ejecutar el comando cd en la terminal para cambiar de directorio."),(0,o.yg)("li",{parentName:"ul"},"Este comando acepta una ruta como argumento y define el directorio de trabajo para cualquier instrucci\xf3n que se ejecute despu\xe9s en el Dockerfile. "),(0,o.yg)("li",{parentName:"ul"},"Si el directorio especificado en el comando WORKDIR no existe en la imagen base o en cualquier punto anterior del Dockerfile, Docker lo crear\xe1 autom\xe1ticamente al ejecutar un comando que necesite acceder a ese directorio. "),(0,o.yg)("li",{parentName:"ul"},'Si no especificas un comando WORKDIR en tu Dockerfile, Docker utilizar\xe1 un directorio por defecto como directorio de trabajo. Por lo general, este directorio por defecto suele ser el directorio ra\xedz del contenedor, es decir, "/".')),(0,o.yg)("h4",{id:"resumen-1"},"Resumen"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando WORKDIR en un Dockerfile establece el directorio de trabajo para cualquier instrucci\xf3n RUN, CMD, ENTRYPOINT, COPY, y ADD que siga en el Dockerfile. Si el directorio especificado no existe, ser\xe1 creado."),(0,o.yg)("li",{parentName:"ul"},"El comando WORKDIR en un Dockerfile establece el directorio de trabajo para cualquier instrucci\xf3n RUN, CMD, ENTRYPOINT, COPY, y ADD que siga en el Dockerfile. Esto significa que cualquier comando ejecutado despu\xe9s del comando WORKDIR se ejecutar\xe1 en el directorio especificado."),(0,o.yg)("li",{parentName:"ul"},"El comando WORKDIR es como usar cd en la terminal: cambia el directorio de trabajo para las siguientes instrucciones."),(0,o.yg)("li",{parentName:"ul"},"Sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"WORKDIR /ruta/al/directorio\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"/ruta/al/directorio es la ruta donde deseas establecer el directorio de trabajo dentro del contenedor.")))),(0,o.yg)("h4",{id:"ejemplo"},"Ejemplo"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'# Utilizar una imagen base de Node.js\nFROM node:14\n\n# Establecer el directorio de trabajo\nWORKDIR /app\n\n# Copiar el archivo package.json al directorio de trabajo\nCOPY package.json .\n\n# Instalar las dependencias\nRUN npm install\n\n# Copiar todo el c\xf3digo fuente al directorio de trabajo\nCOPY . .\n\n# Exponer el puerto de la aplicaci\xf3n\nEXPOSE 3000\n\n# Definir el comando por defecto para ejecutar la aplicaci\xf3n\nCMD ["node", "app.js"]\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Explicaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ol",{parentName:"div"},(0,o.yg)("li",{parentName:"ol"},"FROM node:14: Utiliza la imagen base de Node.js versi\xf3n 14."),(0,o.yg)("li",{parentName:"ol"},"WORKDIR /app: Establece /app como el directorio de trabajo. Todas las siguientes instrucciones se ejecutar\xe1n en este directorio."),(0,o.yg)("li",{parentName:"ol"},"COPY package.json .: Copia el archivo package.json desde el contexto de construcci\xf3n al directorio /app en el contenedor."),(0,o.yg)("li",{parentName:"ol"},"RUN npm install: Ejecuta npm install en el directorio /app, instalando todas las dependencias listadas en package.json."),(0,o.yg)("li",{parentName:"ol"},"COPY . .: Copia todo el contenido del contexto de construcci\xf3n (directorio donde se ejecuta el comando docker build) al directorio /app en el contenedor."),(0,o.yg)("li",{parentName:"ol"},"EXPOSE 3000: Expone el puerto 3000 para que pueda ser accesible externamente cuando se ejecute el contenedor."),(0,o.yg)("li",{parentName:"ol"},"CMD ",'["node", "app.js"]',": Define el comando por defecto que se ejecutar\xe1 cuando se inicie el contenedor. En este caso, se ejecuta node app.js en el directorio /app.")))),(0,o.yg)("h4",{id:"uso-de-m\xfaltiples-workdir"},"Uso de M\xfaltiples WORKDIR"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Puedes utilizar m\xfaltiples WORKDIR en un Dockerfile. Cada uso de WORKDIR cambiar\xe1 el directorio de trabajo actual a la ruta especificada."),(0,o.yg)("li",{parentName:"ul"},"Ejemplo:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'# Utilizar una imagen base de Node.js\nFROM node:14\n\n# Establecer el primer directorio de trabajo\nWORKDIR /app\n\n# Copiar el archivo package.json al primer directorio de trabajo\nCOPY package.json .\n\n# Establecer el segundo directorio de trabajo\nWORKDIR /app/src\n\n# Copiar el c\xf3digo fuente al segundo directorio de trabajo\nCOPY . .\n\n# Volver al primer directorio de trabajo para ejecutar el comando de instalaci\xf3n\nWORKDIR /app\n\n# Instalar las dependencias\nRUN npm install\n\n# Exponer el puerto de la aplicaci\xf3n\nEXPOSE 3000\n\n# Definir el comando por defecto para ejecutar la aplicaci\xf3n\nCMD ["node", "src/app.js"]\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo, cambiamos el directorio de trabajo varias veces para mostrar c\xf3mo puedes organizar diferentes partes del proceso de construcci\xf3n.")))),(0,o.yg)("h4",{id:"ventajas-de-usar-workdir"},"Ventajas de Usar WORKDIR"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Organizaci\xf3n: Mantiene el Dockerfile limpio y organizado al no tener que especificar rutas absolutas en cada instrucci\xf3n."),(0,o.yg)("li",{parentName:"ul"},"Mantenimiento: Facilita el mantenimiento y las actualizaciones del Dockerfile."),(0,o.yg)("li",{parentName:"ul"},"Reducci\xf3n de Errores: Ayuda a evitar errores al asegurarse de que todas las instrucciones posteriores se ejecuten en el directorio correcto.")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#workdir"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-copy"},"Comando COPY"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Sirve para copiar archivos a la carpeta que especificamos con WORKDIR, este directorio lo maneja docker. "),(0,o.yg)("li",{parentName:"ul"},"La sintaxis para mover un archivo: ")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"COPY nombreDelArchivoACopiar UbicacionAPegar\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Si UbicacionAPegar es un punto \u201c.\u201d significa que es en la carpeta que se especifico en WORKDIR o en el directorio raiz del contenedor.")))),(0,o.yg)("h4",{id:"resumen-2"},"Resumen"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando COPY en un Dockerfile se utiliza para copiar archivos y directorios desde el sistema de archivos del host (la m\xe1quina donde se est\xe1 construyendo la imagen) al sistema de archivos de la imagen Docker que se est\xe1 construyendo. Este comando es fundamental para incluir contenido necesario en la imagen, como el c\xf3digo fuente de la aplicaci\xf3n, archivos de configuraci\xf3n, bibliotecas, etc."),(0,o.yg)("li",{parentName:"ul"},"La sintaxis b\xe1sica del comando COPY es:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"COPY <origen>... <destino>\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Donde:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"<","origen> puede ser uno o m\xe1s archivos o directorios en el sistema de archivos del host."),(0,o.yg)("li",{parentName:"ul"},"<","destino> es la ubicaci\xf3n en el sistema de archivos de la imagen donde se copiar\xe1n los archivos o directorios.")))))),(0,o.yg)("h4",{id:"ejemplo-1"},"Ejemplo"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Para copiar un archivo espec\xedfico desde el host a la imagen:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"COPY archivo.txt /app/archivo.txt\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Este comando copiar\xe1 todo el contenido de  archivo.txt del host al directorio /app/directorio en la imagen.")))),(0,o.yg)("h4",{id:"copiar-m\xfaltiples-archivos"},"Copiar M\xfaltiples Archivos"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Puedes copiar m\xfaltiples archivos de una sola vez:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"COPY archivo1.txt archivo2.txt /app/\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Este comando copiar\xe1 archivo1.txt y archivo2.txt del host al directorio /app en la imagen.")))),(0,o.yg)("h4",{id:"uso-de-wildcards"},"Uso de Wildcards"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando COPY tambi\xe9n admite el uso de wildcards (comodines) para especificar m\xfaltiples archivos o patrones de archivos:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"COPY *.txt /app/\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Este comando copiar\xe1 todos los archivos con la extensi\xf3n .txt del directorio actual del host al directorio /app en la imagen.")))),(0,o.yg)("h4",{id:"consideraciones"},"Consideraciones"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Permisos: Los permisos de los archivos y directorios copiados son preservados. Aseg\xfarate de que los archivos tengan los permisos adecuados."),(0,o.yg)("li",{parentName:"ul"},"Contexto de Construcci\xf3n: El origen debe estar dentro del contexto de construcci\xf3n de Docker, que es el directorio donde se ejecuta el comando docker build. No puedes copiar archivos desde fuera del contexto de construcci\xf3n."),(0,o.yg)("li",{parentName:"ul"},"Eficiencia: Minimiza el uso de COPY para reducir el tama\xf1o de la imagen y mejorar la eficiencia de la cach\xe9. Solo copia los archivos necesarios para la construcci\xf3n y ejecuci\xf3n de tu aplicaci\xf3n."),(0,o.yg)("li",{parentName:"ul"},"El comando COPY es esencial para incluir todos los archivos necesarios en tu imagen Docker de manera controlada y reproducible.")),(0,o.yg)("h4",{id:"add-vs-copy"},"ADD VS COPY"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Tanto el comando COPY como el comando ADD en un Dockerfile se utilizan para copiar archivos y directorios desde el sistema de archivos del host al sistema de archivos de la imagen Docker. Sin embargo, hay diferencias importantes entre ellos en t\xe9rminos de funcionalidad y uso recomendado."),(0,o.yg)("li",{parentName:"ul"},"El comando COPY simplemente copia archivos y directorios desde el host al contenedor sin ninguna funcionalidad adicional. Es directo y predecible, y solo realiza una copia de archivos."),(0,o.yg)("li",{parentName:"ul"},"El comando ADD tiene funcionalidades adicionales adem\xe1s de copiar archivos. Puede:",(0,o.yg)("ol",{parentName:"li"},(0,o.yg)("li",{parentName:"ol"},"Copiar Archivos y Directorios: Similar a COPY."),(0,o.yg)("li",{parentName:"ol"},"Extraer Archivos Comprimidos: Si el origen es un archivo tar (por ejemplo, .tar, .tar.gz, .tgz, .bzip2, etc.), Docker lo extraer\xe1 autom\xe1ticamente en el destino."),(0,o.yg)("li",{parentName:"ol"},"Descargar Archivos desde URL: ADD puede descargar archivos desde URLs y copiarlos al contenedor."))),(0,o.yg)("li",{parentName:"ul"},"Por lo tanto:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Usa COPY para copias simples de archivos y directorios."),(0,o.yg)("li",{parentName:"ul"},"Usa ADD solo cuando necesites sus funcionalidades adicionales, como la extracci\xf3n de archivos comprimidos o la descarga de archivos desde URLs.")))),(0,o.yg)("h4",{id:"diferencias-clave-y-buenas-pr\xe1cticas"},"Diferencias Clave y Buenas Pr\xe1cticas"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Funcionalidad: COPY solo copia archivos y directorios, mientras que ADD puede extraer archivos comprimidos y descargar archivos desde URLs."),(0,o.yg)("li",{parentName:"ul"},"Previsibilidad: COPY es m\xe1s predecible y expl\xedcito. Solo copia archivos y no realiza ninguna acci\xf3n adicional."),(0,o.yg)("li",{parentName:"ul"},"Recomendaci\xf3n: Es preferible usar COPY cuando solo necesitas copiar archivos y directorios, ya que es m\xe1s expl\xedcito sobre su prop\xf3sito. Usa ADD solo cuando necesites sus funcionalidades adicionales (como la extracci\xf3n autom\xe1tica de archivos tar o la descarga de archivos desde URLs).")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#copy"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-run"},"Comando RUN"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Especifica los comandos que se van ejecutar durante el proceso de construcci\xf3n de la imagen. "),(0,o.yg)("li",{parentName:"ul"},"Cada instrucci\xf3n RUN en el Dockerfile ejecuta comandos dentro de un contenedor temporal, y los cambios resultantes se registran en una nueva capa que se agrega a la imagen. Estas capas son inmutables, lo que significa que no pueden modificarse despu\xe9s de ser creadas. "),(0,o.yg)("li",{parentName:"ul"},"Cuando se crea una nueva capa en una instrucci\xf3n RUN, Docker solo incluye en la imagen final los cambios realizados en esa capa espec\xedfica. Esto significa que si, por ejemplo, instalas un paquete en una capa con RUN apt-get install, solo los archivos relacionados con la instalaci\xf3n de ese paquete se incluir\xe1n en esa capa de la imagen. Los archivos y directorios que no se ven afectados por esa instrucci\xf3n RUN no se incluir\xe1n en esa capa y permanecer\xe1n inalterados."),(0,o.yg)("li",{parentName:"ul"},"Supongamos que tienes el siguiente Dockerfile:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\nRUN mkdir /app\nRUN echo "Hello, World!" > /app/hello.txt\n')),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},'En este ejemplo, estamos creando un directorio llamado /app y luego escribiendo "Hello, World!" en un archivo llamado hello.txt dentro de ese directorio.'),(0,o.yg)("li",{parentName:"ul"},"Cuando construyes la imagen Docker utilizando este Dockerfile, se crear\xe1n dos capas: una para la creaci\xf3n del directorio /app y otra para la creaci\xf3n del archivo hello.txt. ")),(0,o.yg)("h4",{id:"por-qu\xe9-pasa-esto"},"\xbfPor qu\xe9 pasa esto?"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Cuando construyes una imagen Docker, cada instrucci\xf3n en el Dockerfile crea una capa de esa imagen. Cada capa representa un estado del sistema de archivos del contenedor en un momento particular durante el proceso de construcci\xf3n de la imagen. Cada capa es como una instant\xe1nea del sistema de archivos en un punto dado."),(0,o.yg)("li",{parentName:"ul"},"Estas capas son como capas de una torta, apiladas unas sobre otras."),(0,o.yg)("li",{parentName:"ul"},'Sin embargo, cuando ejecutas un contenedor a partir de esa imagen, Docker agrega una capa adicional que permite que el contenedor realice cambios en el sistema de archivos. Esta capa adicional, llamada "capa de escritura" o "capa de contenedor", es donde se realizan los cambios mientras el contenedor est\xe1 en ejecuci\xf3n.')),(0,o.yg)("h4",{id:"resumen-3"},"Resumen"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando RUN es una instrucci\xf3n fundamental en Docker que te permite ejecutar comandos durante el proceso de construcci\xf3n de tu imagen Docker. Cuando creas una nueva imagen Docker a partir de un Dockerfile, cada instrucci\xf3n RUN agrega una nueva capa a la imagen. "),(0,o.yg)("li",{parentName:"ul"},"El prop\xf3sito principal de RUN es ejecutar comandos durante la construcci\xf3n de la imagen Docker. Esto te permite instalar paquetes, configurar el entorno, y realizar otras acciones que necesites para preparar tu imagen antes de que se convierta en un contenedor en ejecuci\xf3n."),(0,o.yg)("li",{parentName:"ul"},"La sintaxis b\xe1sica del comando RUN en un Dockerfile es:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"RUN comando\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Donde comando puede ser cualquier comando que se ejecutar\xeda en el shell de tu sistema operativo. Por ejemplo:")),(0,o.yg)("pre",{parentName:"div"},(0,o.yg)("code",{parentName:"pre",className:"language-js"},"RUN apt-get update && apt-get install -y nginx\n")))),(0,o.yg)("h4",{id:"capas-de-imagen"},"Capas de Imagen"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Cada instrucci\xf3n RUN crea una nueva capa en la imagen Docker. Esto permite que Docker sea eficiente en t\xe9rminos de almacenamiento y cach\xe9. Las capas que no cambian (por ejemplo, las instalaciones de paquetes) se almacenan en cach\xe9 y Docker puede reutilizar esa capa almacenada en cach\xe9 en lugar de volver a ejecutar esa instrucci\xf3n, lo cual acelera significativamente el tiempo de construcci\xf3n de la imagen. "),(0,o.yg)("li",{parentName:"ul"},"Si modificas una instrucci\xf3n RUN o cualquier otra instrucci\xf3n en el Dockerfile, Docker reconstruir\xe1 todas las capas afectadas por esos cambios y todas las capas que dependan de ellas. Sin embargo, las capas que no se vean afectadas directamente por los cambios no necesitar\xe1n ser reconstruidas y se recuperar\xe1n de la cach\xe9.")),(0,o.yg)("h4",{id:"shell-por-defecto"},"Shell por Defecto"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Por defecto, el comando RUN utiliza /bin/sh -c como shell para ejecutar los comandos. Puedes usar este shell para ejecutar m\xfaltiples comandos en una sola instrucci\xf3n RUN, separ\xe1ndolos con && (para ejecuci\xf3n secuencial) o ; (para ejecuci\xf3n independiente).")),(0,o.yg)("h4",{id:"evitar-capas-innecesarias"},"Evitar Capas Innecesarias"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Para mantener las im\xe1genes lo m\xe1s delgadas posible, es buena pr\xe1ctica combinar m\xfaltiples comandos en una sola instrucci\xf3n RUN cuando sea posible, limpiando tambi\xe9n los archivos temporales y eliminando cach\xe9s de paquetes despu\xe9s de cada instalaci\xf3n.")),(0,o.yg)("h4",{id:"orden-de-las-instrucciones"},"Orden de las Instrucciones"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El orden de las instrucciones RUN en tu Dockerfile es importante. Docker construye la imagen en el orden en que se especifican las instrucciones. Las capas que cambian con m\xe1s frecuencia deber\xedan ir al final del Dockerfile para aprovechar la cach\xe9 de capas de Docker.")),(0,o.yg)("h4",{id:"depuraci\xf3n"},"Depuraci\xf3n"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Si encuentras problemas durante la construcci\xf3n de la imagen, puedes depurar a\xf1adiendo m\xe1s instrucciones RUN con echo o printf para imprimir variables de entorno o resultados de comandos para entender mejor lo que est\xe1 sucediendo en cada etapa de la construcci\xf3n.")),(0,o.yg)("h4",{id:"ejemplo-de-uso"},"Ejemplo de Uso"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Supongamos que quieres crear una imagen Docker que instale Node.js y luego clone un repositorio de GitHub. Tu Dockerfile podr\xeda verse as\xed:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'# Usa una imagen base que ya tenga Node.js instalado\nFROM node:14\n\n# Actualiza el sistema e instala git\nRUN apt-get update \\\n    && apt-get install -y git\n\n# Clona un repositorio de GitHub\nRUN git clone https://github.com/usuario/repo.git /app\n\n# Establece el directorio de trabajo\nWORKDIR /app\n\n# Instala las dependencias del proyecto\nRUN npm install\n\n# Expone el puerto 3000 para acceder a la aplicaci\xf3n\nEXPOSE 3000\n\n# Comando por defecto para iniciar la aplicaci\xf3n\nCMD ["npm", "start"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#run"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-maintainer"},"Comando MAINTAINER"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando MAINTAINER en un Dockerfile se utiliza para especificar la informaci\xf3n del mantenedor de la imagen. Sin embargo, es importante se\xf1alar que este comando ha quedado obsoleto y se recomienda usar la etiqueta LABEL para proporcionar esta informaci\xf3n. El comando LABEL es m\xe1s flexible y extensible, permitiendo agregar m\xfaltiples metadatos a la imagen."),(0,o.yg)("li",{parentName:"ul"},"Sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"MAINTAINER Nombre email@example.com\n")),(0,o.yg)("h4",{id:"ejemplo-de-uso-de-maintainer"},"Ejemplo de Uso de MAINTAINER"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# Informaci\xf3n del mantenedor (obsoleto)\nMAINTAINER Juan Perez <juan.perez@example.com>\n\nRUN apt-get update && apt-get install -y curl\nCMD ["bash"]\n')),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"En lugar de MAINTAINER, se recomienda usar LABEL para definir el mantenedor y otros metadatos relacionados con la imagen:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'LABEL maintainer="Nombre <email@example.com>"\n\n')),(0,o.yg)("h4",{id:"ventajas-de-usar-label-sobre-maintainer"},"Ventajas de Usar LABEL sobre MAINTAINER"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Flexibilidad: LABEL permite agregar m\xfaltiples metadatos de forma m\xe1s estructurada."),(0,o.yg)("li",{parentName:"ul"},"Compatibilidad: LABEL es el m\xe9todo recomendado y compatible con las pr\xe1cticas actuales de Docker."),(0,o.yg)("li",{parentName:"ul"},"Estandarizaci\xf3n: Permite seguir convenciones y est\xe1ndares como los definidos por Open Containers Initiative (OCI).")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#maintainer-deprecated"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-cmd"},"Comando CMD"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Se utiliza para especificar el comando predeterminado que se ejecutar\xe1 cuando se inicie un contenedor basado en esa imagen. A diferencia de RUN, que se ejecuta durante la construcci\xf3n de la imagen, CMD se ejecuta cuando se lanza el contenedor."),(0,o.yg)("li",{parentName:"ul"},"El comando CMD en un Dockerfile se utiliza para especificar cu\xe1l ser\xe1 el comando predeterminado que se ejecutar\xe1 cuando se inicie un contenedor a partir de la imagen que est\xe1s construyendo. Es importante entender c\xf3mo funciona y c\xf3mo se puede usar de diferentes maneras dependiendo de tus necesidades espec\xedficas."),(0,o.yg)("li",{parentName:"ul"},"El CMD se define al final del Dockerfile y especifica el comando que se ejecutar\xe1 por defecto cuando se inicie un contenedor. Aqu\xed tienes un ejemplo b\xe1sico:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# Comando CMD en shell form\nCMD echo "Hola, mundo"\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'CMD echo "Hola, mundo" establece que cuando se inicie un contenedor basado en esta imagen, se ejecutar\xe1 el comando echo "Hola, mundo".')))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Ejemplo con Exec form:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# Comando CMD en exec form\nCMD ["echo", "Hola, mundo"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"CMD ",'["echo", "Hola, mundo"]',' tambi\xe9n establece que se ejecutar\xe1 echo "Hola, mundo", pero utilizando el exec form, que es preferido en la mayor\xeda de los casos por ser m\xe1s expl\xedcito y evitar problemas con la interpretaci\xf3n de caracteres especiales.')))),(0,o.yg)("h4",{id:"sobrescribiendo-cmd-al-ejecutar-el-contenedor"},"Sobrescribiendo CMD al Ejecutar el Contenedor"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Puedes sobrescribir el comando CMD especificado en el Dockerfile al ejecutar el contenedor, lo cual es \xfatil para personalizar la ejecuci\xf3n del contenedor sin necesidad de modificar el Dockerfile."),(0,o.yg)("li",{parentName:"ul"},"Ejemplo de Sobrescritura:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},'docker run mi_imagen echo "Hola desde fuera del CMD"\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'En este ejemplo, el comando especificado despu\xe9s de docker run (echo "Hola desde fuera del CMD") sobrescribe el CMD especificado en el Dockerfile. Esto significa que se ejecutar\xe1 echo "Hola desde fuera del CMD" en lugar del comando por defecto especificado en el Dockerfile.')))),(0,o.yg)("h4",{id:"uso-de-entrypoint-y-cmd-juntos"},"Uso de ENTRYPOINT y CMD Juntos"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Cuando se combinan ENTRYPOINT y CMD, CMD proporciona argumentos predeterminados al ENTRYPOINT. Esto es \xfatil para definir un ejecutable principal y proporcionar opciones o argumentos que pueden cambiar f\xe1cilmente."),(0,o.yg)("li",{parentName:"ul"},"Ejemplo:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# Definir el punto de entrada principal\nENTRYPOINT ["echo"]\n\n# CMD proporciona argumentos predeterminados para ENTRYPOINT\nCMD ["Hola, mundo"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"ENTRYPOINT ",'["echo"]'," establece echo como el punto de entrada principal."),(0,o.yg)("li",{parentName:"ul"},"CMD ",'["Hola, mundo"]',' proporciona el argumento "Hola, mundo" por defecto cuando se inicie el contenedor.')))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#cmd"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-entrypoint"},"Comando ENTRYPOINT"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando ENTRYPOINT en un Dockerfile se utiliza para especificar el comando o el ejecutable que ser\xe1 ejecutado como punto de entrada cuando se inicie un contenedor a partir de la imagen que est\xe1s construyendo. Este comando es fundamental para definir el comportamiento predeterminado del contenedor y puede utilizarse de varias formas seg\xfan tus necesidades espec\xedficas."),(0,o.yg)("li",{parentName:"ul"},"El ENTRYPOINT se define al principio o en cualquier parte del Dockerfile, dependiendo de c\xf3mo deseas estructurar tu imagen. "),(0,o.yg)("li",{parentName:"ul"},"A simple vista es igual a CMD pero tienen funciones distintas y se utilizan de manera complementaria para definir el comportamiento predeterminado de un contenedor Docker.")),(0,o.yg)("h4",{id:"diferencias-entre-entrypoint-y-cmd"},"Diferencias entre ENTRYPOINT y CMD"),(0,o.yg)("h5",{id:"funci\xf3n-principal"},"Funci\xf3n Principal:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"CMD: Proporciona los argumentos predeterminados para el ENTRYPOINT o especifica el comando que se ejecutar\xe1 si no hay ENTRYPOINT definido. "),(0,o.yg)("li",{parentName:"ul"},"ENTRYPOINT: Especifica el comando o el ejecutable que se ejecutar\xe1 como punto de entrada al iniciar el contenedor. Siempre se ejecutar\xe1.")),(0,o.yg)("h5",{id:"sobrescritura-al-ejecutar-el-contenedor"},"Sobrescritura al Ejecutar el Contenedor:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"CMD: Puede ser sobrescrito al ejecutar el contenedor"),(0,o.yg)("li",{parentName:"ul"},"ENTRYPOINT: No puede ser sobrescrito al ejecutar el contenedor.")),(0,o.yg)("h5",{id:"formas-de-definici\xf3n"},"Formas de Definici\xf3n:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"CMD: Se puede definir solo una vez en un Dockerfile y se puede especificar tanto en forma de shell como en exec form."),(0,o.yg)("li",{parentName:"ul"},"ENTRYPOINT: Se puede definir solo una vez en un Dockerfile y tambi\xe9n se puede especificar en forma de shell o exec form.")),(0,o.yg)("h4",{id:"para-entender-mejor-c\xf3mo-se-complementan-entrypoint-y-cmd-aqu\xed-hay-un-ejemplo-que-ilustra-su-uso-conjunto"},"Para entender mejor c\xf3mo se complementan ENTRYPOINT y CMD, aqu\xed hay un ejemplo que ilustra su uso conjunto:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# ENTRYPOINT en exec form\nENTRYPOINT ["echo"]\n\n# CMD en shell form\nCMD "Hola, mundo"\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"ENTRYPOINT ",'["echo"]'," establece que echo ser\xe1 el comando principal que se ejecutar\xe1 al iniciar el contenedor."),(0,o.yg)("li",{parentName:"ul"},'CMD "Hola, mundo" proporciona el argumento "Hola, mundo" que se pasa al ENTRYPOINT, resultando en que el contenedor imprimir\xe1 "Hola, mundo" al iniciarse.')))),(0,o.yg)("h4",{id:"sobreescritura-al-ejecutar-el-contenedor"},"Sobreescritura al Ejecutar el Contenedor"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Cuando ejecutas el contenedor, puedes sobrescribir el CMD, pero no el ENTRYPOINT:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},'docker run --rm mi_imagen echo "\xa1Hola desde fuera del contenedor!"\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'En este caso, echo "\xa1Hola desde fuera del contenedor!" sobrescribe al CMD, mostrando en la consola \u201c"\xa1Hola desde fuera del contenedor!"')))),(0,o.yg)("h4",{id:"entendiendo-entrypoint-y-cmd"},"Entendiendo ENTRYPOINT y CMD"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"ENTRYPOINT: Define el comando o el ejecutable que se ejecutar\xe1 al iniciar el contenedor. Especifica el comando principal que no se sobrescribe."),(0,o.yg)("li",{parentName:"ul"},"CMD: Proporciona los argumentos predeterminados para el ENTRYPOINT o especifica el comando que se ejecutar\xe1 si no hay ENTRYPOINT definido. Se puede sobrescribir al ejecutar el contenedor.")),(0,o.yg)("h4",{id:"sobrescribir"},"Sobrescribir"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Si solo quieres sobrescribir CMD al ejecutar el contenedor, aseg\xfarate de que en tu Dockerfile no hayas definido un ENTRYPOINT. Aqu\xed tienes un ejemplo."),(0,o.yg)("li",{parentName:"ul"},"Ejemplo en Dockerfile:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# CMD en shell form\nCMD echo "Hola, mundo"\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'En este caso, echo "Hola, mundo" es el comando que se ejecutar\xe1 por defecto al iniciar el contenedor.')))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Cuando ejecutas el contenedor, puedes sobrescribir CMD espec\xedficamente:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},'docker run --rm mi_imagen echo "\xa1Hola desde fuera del contenedor!"\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'echo "\xa1Hola desde fuera del contenedor!" sobrescribe el CMD especificado en el Dockerfile (echo "Hola, mundo").'),(0,o.yg)("li",{parentName:"ul"},"No importa si ENTRYPOINT est\xe1 definido o no, ya que CMD es lo \xfanico que se cambia.")))),(0,o.yg)("h4",{id:"otro-ejemplo"},"Otro ejemplo"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Supongamos que tienes un Dockerfile as\xed:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# ENTRYPOINT en shell form\nENTRYPOINT echo "El punto de entrada es"\n\n# CMD en shell form\nCMD echo "CMD predeterminado"\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'ENTRYPOINT echo "El punto de entrada es" establece que echo "El punto de entrada es" ser\xe1 el punto de entrada principal del contenedor.'),(0,o.yg)("li",{parentName:"ul"},'CMD echo "CMD predeterminado" es el comando predeterminado que se ejecutar\xe1 despu\xe9s de ENTRYPOINT.'),(0,o.yg)("li",{parentName:"ul"},"Entonces primero se ejecuta el ENTRYPOINT y luego el CMD.")))),(0,o.yg)("h4",{id:"sobrescritura-al-ejecutar-el-contenedor-1"},"Sobrescritura al Ejecutar el Contenedor"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Cuando ejecutas el contenedor y proporcionas un comando espec\xedfico con docker run, sobrescribes el CMD definido en el Dockerfile. Sin embargo, el ENTRYPOINT seguir\xe1 ejecut\xe1ndose antes del comando proporcionado:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},'docker run --rm mi_imagen echo "\xa1Hola desde fuera del contenedor!"\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'echo "\xa1Hola desde fuera del contenedor!" sobrescribe el CMD definido en el Dockerfile (echo "CMD predeterminado").'),(0,o.yg)("li",{parentName:"ul"},'ENTRYPOINT (echo "El punto de entrada es") se ejecutar\xe1 antes del comando sobrescrito, por lo que la salida ser\xe1 algo como: El punto de entrada es \xa1Hola desde fuera del contenedor!.')))),(0,o.yg)("h4",{id:"modificando-ambos-entrypoint-y-cmd"},"Modificando Ambos ENTRYPOINT y CMD"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Si deseas modificar tanto ENTRYPOINT como CMD al ejecutar el contenedor, puedes proporcionar un comando completo al ejecutar el contenedor:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},'docker run --rm --entrypoint "otro_punto_de_entrada.sh" mi_imagen arg1 arg2\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'--entrypoint "otro_punto_de_entrada.sh" reemplaza completamente el ENTRYPOINT definido en el Dockerfile.'),(0,o.yg)("li",{parentName:"ul"},"arg1 arg2 son argumentos que se pasan al nuevo ENTRYPOINT y reemplazan CMD.")))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Un archivo con extensi\xf3n .sh en sistemas Unix y Linux es un script de shell, es decir, un archivo de texto plano que contiene comandos que pueden ser ejecutados por un int\xe9rprete de shell, como Bash (Bourne Again SHell) u otro shell compatible.")))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#entrypoint"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-env"},"Comando ENV"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando ENV en un Dockerfile se utiliza para definir variables de entorno que estar\xe1n disponibles durante la construcci\xf3n de la imagen Docker y, opcionalmente, cuando se ejecute un contenedor basado en esa imagen. ")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'Cuando se dice que las variables de entorno definidas con el comando ENV en un Dockerfile estar\xe1n disponibles "opcionalmente" durante la ejecuci\xf3n de un contenedor basado en esa imagen, significa que estas variables estar\xe1n disponibles de manera predeterminada durante la ejecuci\xf3n del contenedor, pero pueden ser sobrescritas o modificadas cuando se inicie el contenedor con docker run.')))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Las variables de entorno pueden ser \xfatiles para configurar la aplicaci\xf3n o el entorno de ejecuci\xf3n sin necesidad de modificar el c\xf3digo fuente."),(0,o.yg)("li",{parentName:"ul"},"La sintaxis b\xe1sica del comando ENV es:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ENV <clave> <valor>\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Donde:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"<","clave> es el nombre de la variable de entorno."),(0,o.yg)("li",{parentName:"ul"},"<","valor> es el valor asignado a la variable de entorno.")))))),(0,o.yg)("h4",{id:"ejemplos-de-uso"},"Ejemplos de Uso"),(0,o.yg)("h4",{id:"definir-una-variable-de-entorno"},"Definir una Variable de Entorno"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Para definir una variable de entorno simple:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ENV MI_VARIABLE valor\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Esto establecer\xe1 MI_VARIABLE con el valor valor.")))),(0,o.yg)("h4",{id:"usar-variables-de-entorno-en-el-dockerfile"},"Usar Variables de Entorno en el Dockerfile"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Las variables definidas con ENV pueden ser referenciadas en las siguientes instrucciones del Dockerfile usando la sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"${MI_VARIABLE} o $MI_VARIABLE\n")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Puedes usar variables de entorno definidas con ENV en otros comandos del Dockerfile:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM ubuntu:20.04\n\n# Definir variables de entorno\nENV USUARIO usuario1\nENV APP_HOME /home/usuario1/app\n\n# Usar las variables de entorno\nRUN useradd -m ${USUARIO} \\\n    && mkdir -p ${APP_HOME} \\\n    && chown -R ${USUARIO}:${USUARIO} ${APP_HOME}\n\nWORKDIR ${APP_HOME}\n\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"USUARIO se define como usuario1."),(0,o.yg)("li",{parentName:"ul"},"APP_HOME se define como /home/usuario1/app."),(0,o.yg)("li",{parentName:"ul"},"Las variables se utilizan en los comandos RUN, mkdir, chown y WORKDIR.")))))),(0,o.yg)("h4",{id:"usar-m\xfaltiples-variables-de-entorno-en-una-sola-l\xednea"},"Usar M\xfaltiples Variables de Entorno en una Sola L\xednea"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Puedes definir varias variables de entorno en una sola l\xednea usando la siguiente sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ENV MI_VARIABLE1=valor1 MI_VARIABLE2=valor2\n")),(0,o.yg)("h4",{id:"variables-de-entorno-durante-la-ejecuci\xf3n-del-contenedor"},"Variables de Entorno durante la Ejecuci\xf3n del Contenedor"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Las variables definidas con ENV estar\xe1n disponibles tanto durante la construcci\xf3n de la imagen como durante la ejecuci\xf3n del contenedor. Por ejemplo, un archivo Dockerfile que define una variable de entorno y la usa en un script:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# Definir la variable de entorno\nENV MENSAJE="Hola, mundo!"\n\n# Copiar un script que usa la variable de entorno\nCOPY script.sh /usr/local/bin/script.sh\n\n# Hacer el script ejecutable\nRUN chmod +x /usr/local/bin/script.sh\n\n# Ejecutar el script por defecto\nCMD ["/usr/local/bin/script.sh"]\n\n')),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"script.sh podr\xeda ser algo como:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-sh"},"#!/bin/sh\necho $MENSAJE\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'Cuando ejecutes el contenedor, ver\xe1s el mensaje \u201cHola, mundo!".')))),(0,o.yg)("h4",{id:"variables-de-entorno-y-cach\xe9-de-docker"},"Variables de Entorno y Cach\xe9 de Docker"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Cambiar una variable de entorno con ENV invalida la cach\xe9 de Docker para las instrucciones siguientes en el Dockerfile. Esto significa que si modificas una variable de entorno, todas las capas subsiguientes se reconstruir\xe1n.")),(0,o.yg)("h4",{id:"buenas-pr\xe1cticas"},"Buenas Pr\xe1cticas"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Valores Sensibles: No almacenes valores sensibles como contrase\xf1as directamente en el Dockerfile usando ENV. En su lugar, usa mecanismos de gesti\xf3n de secretos o inyecci\xf3n de variables de entorno en tiempo de ejecuci\xf3n."),(0,o.yg)("li",{parentName:"ul"},"Variables Reutilizables: Usa ENV para definir rutas y configuraciones reutilizables que puedan cambiar dependiendo del entorno (desarrollo, pruebas, producci\xf3n)."),(0,o.yg)("li",{parentName:"ul"},"Documentaci\xf3n: Documenta las variables de entorno en tu Dockerfile para que otros usuarios sepan qu\xe9 configuraciones pueden ajustar.")),(0,o.yg)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Docker Compose permite cargar variables de entorno autom\xe1ticamente desde un archivo .env, mientras que un Dockerfile no tiene esta funcionalidad integrada. Para usar variables de entorno desde un archivo .env con un Dockerfile, necesitas manejarlo expl\xedcitamente utilizando m\xe9todos como --build-arg  , --env-file o pasando las variables de entorno en tiempo de ejecuci\xf3n con docker run.")))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#env"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-expose"},"Comando EXPOSE"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando EXPOSE en un Dockerfile se utiliza para documentar los puertos en los que el contenedor escucha durante su ejecuci\xf3n. No hace que los puertos de red del host se usen para comunicarse con el contenedor (eso lo har\xeda la opcion -d de docker run); simplemente informa a los usuarios del contenedor y a las herramientas de orquestaci\xf3n (como Docker Compose o Kubernetes) sobre los puertos que la aplicaci\xf3n en el contenedor est\xe1 utilizando."),(0,o.yg)("li",{parentName:"ul"},"La sintaxis b\xe1sica del comando EXPOSE es:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"EXPOSE <puerto> [<puerto>/<protocolo>...]\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Donde:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"<","puerto> es el n\xfamero de puerto en el que el contenedor escuchar\xe1."),(0,o.yg)("li",{parentName:"ul"},"<","protocolo> es opcional y puede ser tcp o udp. Si no se especifica, el valor predeterminado es tcp.")))))),(0,o.yg)("h4",{id:"ejemplos-3"},"Ejemplos"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Exponer un Puerto TCP:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM ubuntu:20.04\n\n# Exponer el puerto 80 usando TCP (valor predeterminado)\nEXPOSE 80\n\n")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Exponer un Puerto UDP:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM ubuntu:20.04\n\n# Exponer el puerto 53 usando UDP\nEXPOSE 53/udp\n\n\n")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Exponer M\xfaltiples Puertos:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM ubuntu:20.04\n\n# Exponer los puertos 80 y 443 usando TCP\nEXPOSE 80 443\n\n")),(0,o.yg)("h4",{id:"publicar-puertos-con-docker-run"},"Publicar Puertos con docker run"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Para hacer que un puerto sea accesible desde el exterior del contenedor, debes usar la opci\xf3n -p o --publish al ejecutar el contenedor con docker run."),(0,o.yg)("li",{parentName:"ul"},"El comando EXPOSE no publica el puerto autom\xe1ticamente. Para hacer que un puerto sea accesible desde el exterior del contenedor, debes usar la opci\xf3n -p o --publish al ejecutar el contenedor con docker run."),(0,o.yg)("li",{parentName:"ul"},"Supongamos que tienes el siguiente Dockerfile:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM nginx:alpine\n# Exponer el puerto 80\nEXPOSE 80\n")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Construyes la imagen:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"docker build -t mi_nginx .\n")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Ejecutas el contenedor y publicas el puerto 80 en el host:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"docker run -d -p 8080:80 mi_nginx\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"El contenedor escucha en el puerto 80 (documentado con EXPOSE)."),(0,o.yg)("li",{parentName:"ul"},"El puerto 80 del contenedor se publica en el puerto 8080 del host (-p 8080:80).")))))),(0,o.yg)("h4",{id:"docker-compose"},"Docker Compose"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Cuando se usa Docker Compose, los puertos expuestos en el Dockerfile se pueden mapear en el archivo docker-compose.yml usando la clave ports."),(0,o.yg)("li",{parentName:"ul"},"Ejemplo de Docker Compose:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"version: '3.8'\n\nservices:\n  web:\n    image: mi_nginx\n    ports:\n      - \"8080:80\"\n\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Este archivo docker-compose.yml publica el puerto 80 del contenedor en el puerto 8080 del host.")))),(0,o.yg)("h4",{id:"buenas-pr\xe1cticas-1"},"Buenas Pr\xe1cticas"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Documentaci\xf3n: Usa EXPOSE para documentar  qu\xe9 puertos  va a utilizar tu contenedor, haciendo que tu Dockerfile sea m\xe1s comprensible."),(0,o.yg)("li",{parentName:"ul"},"Publicaci\xf3n de Puertos: Utiliza la opci\xf3n -p de docker run o la clave ports en Docker Compose para publicar los puertos y hacerlos accesibles desde el exterior del contenedor.")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#expose"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-healthcheck"},"Comando HEALTHCHECK"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando HEALTHCHECK en un Dockerfile se utiliza para definir c\xf3mo Docker debe verificar que un contenedor se encuentra en buen estado y funcionando correctamente. Al establecer un HEALTHCHECK, Docker puede realizar verificaciones peri\xf3dicas de salud y determinar si el contenedor est\xe1 saludable o no. Esto es \xfatil para detectar problemas en aplicaciones y tomar medidas como reiniciar contenedores defectuosos autom\xe1ticamente."),(0,o.yg)("li",{parentName:"ul"},"La sintaxis b\xe1sica del comando HEALTHCHECK es:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"HEALTHCHECK [opciones] CMD <comando>\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Opciones:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"--interval=DURATION: Tiempo entre cada chequeo (por defecto es 30s)."),(0,o.yg)("li",{parentName:"ul"},"--timeout=DURATION: Tiempo m\xe1ximo que puede durar un chequeo antes de considerarse fallido (por defecto es 30s)."),(0,o.yg)("li",{parentName:"ul"},"--start-period=DURATION: Periodo de gracia despu\xe9s de iniciar el contenedor durante el cual las fallas no se cuentan (por defecto es 0s)."),(0,o.yg)("li",{parentName:"ul"},"--retries=N: N\xfamero de intentos antes de considerar que el contenedor no est\xe1 saludable (por defecto es 3)."))),(0,o.yg)("li",{parentName:"ul"},"El comando se ejecuta para verificar la salud del contenedor. Debe devolver un c\xf3digo de salida de 0 para indicar que el contenedor est\xe1 saludable."),(0,o.yg)("li",{parentName:"ul"},"Docker marca los contenedores como healthy, unhealthy, o starting seg\xfan los resultados de los chequeos.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Ejemplo B\xe1sico:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'Ejemplo B\xe1sico:\nFROM nginx:alpine\n\n# Establecer el directorio de trabajo\nWORKDIR /usr/share/nginx/html\n\n# Copiar archivos al contenedor\nCOPY index.html .\n\n# Exponer el puerto 80\nEXPOSE 80\n\n# Definir el comando para verificar la salud del contenedor\nHEALTHCHECK --interval=30s --timeout=10s --retries=3 CMD curl -f http://localhost/ || exit 1\n\n# Comando para iniciar Nginx\nCMD ["nginx", "-g", "daemon off;"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Se define un HEALTHCHECK que ejecuta el comando curl -f http://localhost/ cada 30 segundos."),(0,o.yg)("li",{parentName:"ul"},"Si curl no puede acceder a la p\xe1gina (es decir, devuelve un c\xf3digo de estado HTTP no 2xx o 3xx), el contenedor se considera no saludable."),(0,o.yg)("li",{parentName:"ul"},"Si falla 3 veces consecutivas, Docker marcar\xe1 el contenedor como unhealthy.")))))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Supongamos que tienes una aplicaci\xf3n Node.js que responde en el puerto 3000. Puedes definir un HEALTHCHECK para verificar un endpoint espec\xedfico de salud:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'\nFROM node:14-alpine\n\n# Establecer el directorio de trabajo\nWORKDIR /app\n\n# Copiar archivos al contenedor\nCOPY package*.json ./\nCOPY . .\n\n# Instalar dependencias\nRUN npm install\n\n# Exponer el puerto 3000\nEXPOSE 3000\n\n# Definir el comando para verificar la salud del contenedor\nHEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 CMD curl -f http://localhost:3000/health || exit 1\n\n# Comando para iniciar la aplicaci\xf3n\nCMD ["node", "app.js"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"El HEALTHCHECK verifica el endpoint /health de la aplicaci\xf3n cada 30 segundos."),(0,o.yg)("li",{parentName:"ul"},"Si no recibe una respuesta satisfactoria dentro de los 10 segundos, considera que el chequeo ha fallado."),(0,o.yg)("li",{parentName:"ul"},"Las primeras fallas dentro de los primeros 5 segundos despu\xe9s de iniciar el contenedor no se contar\xe1n."),(0,o.yg)("li",{parentName:"ul"},"Despu\xe9s de 3 fallas consecutivas, el contenedor se marca como no saludable.")))))),(0,o.yg)("h4",{id:"chequear-el-estado-de-salud"},"Chequear el Estado de Salud"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Puedes verificar el estado de salud de un contenedor con el comando docker ps que mostrar\xe1 el estado de salud en la columna STATUS:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"docker ps\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#healthcheck"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-label"},"Comando LABEL"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando LABEL en un Dockerfile se utiliza para agregar metadatos a la imagen Docker. Estos metadatos son pares clave-valor que pueden proporcionar informaci\xf3n adicional sobre la imagen, como el autor, la versi\xf3n, la descripci\xf3n, las etiquetas personalizadas, etc. Las etiquetas son \xfatiles para organizar y gestionar im\xe1genes Docker, especialmente en entornos de producci\xf3n y CI/CD."),(0,o.yg)("li",{parentName:"ul"},"Sintaxis")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"LABEL clave1=valor1 clave2=valor2 ...\n")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Tambi\xe9n puedes utilizar comillas para valores que contienen espacios:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'LABEL clave1="valor con espacios" clave2="otro valor"\n')),(0,o.yg)("h4",{id:"ejemplos-4"},"Ejemplos"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Ejemplo B\xe1sico:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# Agregar etiquetas\nLABEL maintainer="tu_email@example.com" \\\n      version="1.0" \\\n      description="Esta es una imagen base de Ubuntu con algunas etiquetas."\n\n# Otros comandos de Dockerfile\nRUN apt-get update && apt-get install -y curl\nCMD ["bash"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"maintainer proporciona la informaci\xf3n de contacto del mantenedor de la imagen."),(0,o.yg)("li",{parentName:"ul"},"version especifica la versi\xf3n de la imagen."),(0,o.yg)("li",{parentName:"ul"},"description proporciona una breve descripci\xf3n de la imagen."))),(0,o.yg)("li",{parentName:"ul"},"El car\xe1cter \\ en un Dockerfile se utiliza para continuar una l\xednea en la siguiente l\xednea, permitiendo que los comandos largos o m\xfaltiples valores se dividan en varias l\xedneas para mejorar la legibilidad. Es particularmente \xfatil en comandos como LABEL, RUN, y otros donde puede haber m\xfaltiples elementos o una sintaxis extensa.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Ejemplo avanzado:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM node:14-alpine\n\n# Agregar etiquetas\nLABEL org.opencontainers.image.title="Mi Aplicaci\xf3n Node.js" \\\n      org.opencontainers.image.description="Esta es una aplicaci\xf3n Node.js de ejemplo." \\\n      org.opencontainers.image.authors="tu_email@example.com" \\\n      org.opencontainers.image.version="1.0.0" \\\n      org.opencontainers.image.url="https://ejemplo.com" \\\n      org.opencontainers.image.documentation="https://ejemplo.com/docs" \\\n      org.opencontainers.image.source="https://github.com/usuario/repositorio"\n\n# Establecer el directorio de trabajo\nWORKDIR /app\n\n# Copiar archivos al contenedor\nCOPY package*.json ./\nCOPY . .\n\n# Instalar dependencias\nRUN npm install\n\n# Exponer el puerto 3000\nEXPOSE 3000\n\n# Comando para iniciar la aplicaci\xf3n\nCMD ["node", "app.js"]\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo, se usan etiquetas que siguen las convenciones de Open Containers Initiative (OCI) para proporcionar metadatos estandarizados sobre la imagen.")))),(0,o.yg)("h4",{id:"ver-etiquetas"},"Ver Etiquetas"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Puedes ver las etiquetas(label/metadata) de una imagen usando el comando docker inspect:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},'docker inspect <nombre_imagen> | grep "Labels" -A 10\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Este comando muestra las etiquetas agregadas a la imagen."),(0,o.yg)("li",{parentName:"ul"},'Grep \u201cLabels\u201d : Sirve para obtener solamente las etiquetas del comando anterior.  El comando grep se utiliza para buscar patrones en el texto. En este caso, el patr\xf3n es "Labels", que es el nombre de la clave en la salida JSON del comando docker inspect que contiene las etiquetas de las im\xe1genes.'),(0,o.yg)("li",{parentName:"ul"},'La opci\xf3n -A se utiliza para especificar el n\xfamero de l\xedneas despu\xe9s de la coincidencia que se incluir\xe1n en la salida. En este caso, -A 10 indica que  se incluyan 10 l\xedneas despu\xe9s de la l\xednea "Labels" en la salida.'),(0,o.yg)("li",{parentName:"ul"},'Entonces, el comando  grep "Labels" -A 10 buscar\xe1 la cadena "Labels" en la salida del comando docker inspect e imprimir\xe1 las 10 l\xedneas que est\xe1n despu\xe9s de la coincidencia, que deber\xedan incluir los valores reales de las etiquetas.')))),(0,o.yg)("h4",{id:"uso-de-etiquetas-en-pr\xe1cticas-de-cicd"},"Uso de Etiquetas en Pr\xe1cticas de CI/CD"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Las etiquetas son especialmente \xfatiles en entornos de CI/CD para:",(0,o.yg)("ol",{parentName:"li"},(0,o.yg)("li",{parentName:"ol"},"Versionado de Im\xe1genes: Proporcionar versiones espec\xedficas y detalladas de las im\xe1genes."),(0,o.yg)("li",{parentName:"ol"},"Automatizaci\xf3n de Despliegues: Facilitar la automatizaci\xf3n del despliegue de aplicaciones al etiquetar im\xe1genes con informaci\xf3n relevante."),(0,o.yg)("li",{parentName:"ol"},"Documentaci\xf3n y Trazabilidad: Mantener informaci\xf3n detallada sobre el origen y la configuraci\xf3n de las im\xe1genes, lo que facilita la trazabilidad y la depuraci\xf3n.")))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#label"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-onbuild"},"Comando ONBUILD"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},'El comando ONBUILD en un Dockerfile se utiliza para definir una serie de instrucciones que se ejecutar\xe1n autom\xe1ticamente cuando la imagen  se utilice como base para otra imagen. Es decir, ONBUILD permite configurar "gatillos" o "triggers" que se activar\xe1n en el momento de construcci\xf3n de una imagen derivada.'),(0,o.yg)("li",{parentName:"ul"},"El uso t\xedpico de ONBUILD es en im\xe1genes que est\xe1n destinadas a ser utilizadas como bases para otras im\xe1genes, como im\xe1genes de construcci\xf3n de aplicaciones donde quieres automatizar ciertos pasos comunes (por ejemplo, copiar c\xf3digo fuente, instalar dependencias)."),(0,o.yg)("li",{parentName:"ul"},"Sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"ONBUILD <instrucci\xf3n>\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"<","instrucci\xf3n> es cualquier comando Docker v\xe1lido, como RUN, COPY, ADD, ENV, etc.")))),(0,o.yg)("h4",{id:"ejemplo-b\xe1sico"},"Ejemplo B\xe1sico"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Dockerfile Base con ONBUILD:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'# Imagen base personalizada\nFROM node:14-alpine\n\n# Instalar dependencias globales\nRUN npm install -g npm@latest\n\n# Instrucciones que se ejecutar\xe1n en la construcci\xf3n de una imagen derivada\nONBUILD COPY . /app\nONBUILD WORKDIR /app\nONBUILD RUN npm install\n\n# Comando por defecto\nCMD ["node"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"La imagen base node:14-alpine se personaliza para instalar la versi\xf3n m\xe1s reciente de npm."),(0,o.yg)("li",{parentName:"ul"},"Se a\xf1aden instrucciones ONBUILD para copiar el c\xf3digo fuente en el directorio /app, establecer el directorio de trabajo y ejecutar npm install cuando una imagen derivada se construya a partir de esta imagen.")))))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Dockerfile Derivado:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'# Usar la imagen base personalizada\nFROM my-node-base\n\n# Agregar archivos adicionales o configurar la aplicaci\xf3n\nCOPY . .\n\n# Comando para ejecutar la aplicaci\xf3n\nCMD ["node", "server.js"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Las instrucciones ONBUILD se ejecutan inmediatamente despu\xe9s de que Docker procesa el comando FROM y antes de que contin\xfae con las dem\xe1s instrucciones del Dockerfile derivado."),(0,o.yg)("li",{parentName:"ul"},"Al construir esta imagen derivada, Docker ejecutar\xe1 autom\xe1ticamente las instrucciones ONBUILD definidas en my-node-base:",(0,o.yg)("ol",{parentName:"li"},(0,o.yg)("li",{parentName:"ol"},"COPY . /app"),(0,o.yg)("li",{parentName:"ol"},"WORKDIR /app"),(0,o.yg)("li",{parentName:"ol"},"RUN npm install"))),(0,o.yg)("li",{parentName:"ul"},"Esto garantiza que el c\xf3digo fuente se copie y las dependencias se instalen en la imagen derivada.")))),(0,o.yg)("h4",{id:"ventajas-1"},"Ventajas"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Reutilizaci\xf3n de C\xf3digo: Facilita la reutilizaci\xf3n de pasos comunes de construcci\xf3n en m\xfaltiples proyectos derivados."),(0,o.yg)("li",{parentName:"ul"},"Automatizaci\xf3n: Simplifica el proceso de configuraci\xf3n de im\xe1genes derivadas, asegurando que ciertos comandos se ejecuten autom\xe1ticamente.")),(0,o.yg)("h4",{id:"desventajas"},"Desventajas"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Complejidad: Puede hacer que el comportamiento de la imagen derivada sea menos transparente y m\xe1s dif\xedcil de entender."),(0,o.yg)("li",{parentName:"ul"},"Mantenimiento: Las instrucciones ONBUILD pueden complicar el mantenimiento y la depuraci\xf3n, especialmente si se utilizan en exceso o de manera incorrecta.")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("p",{parentName:"div"},(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/reference/dockerfile/#onbuild"},"M\xe1s informaci\xf3n")))),(0,o.yg)("h2",{id:"comando-shell"},"Comando SHELL"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando SHELL en un Dockerfile se utiliza para definir el shell predeterminado que se usar\xe1 en los comandos RUN posteriores. Esto permite cambiar del shell predeterminado /bin/sh -c a otro shell, como bash, o incluso a un estilo de comando exec form."),(0,o.yg)("li",{parentName:"ul"},"Sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'SHELL ["executable", "parameter1", "parameter2", ...]\n')),(0,o.yg)("h4",{id:"usar-bash"},"Usar bash"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Por defecto, Docker utiliza /bin/sh -c como shell para ejecutar comandos RUN. Si deseas usar bash, puedes cambiar el shell predeterminado usando el comando SHELL."),(0,o.yg)("li",{parentName:"ul"},"Dockerfile:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# Cambiar el shell a bash\nSHELL ["/bin/bash", "-c"]\n\nRUN echo "Esto se ejecuta con bash"\nRUN source /etc/profile && echo "Tambi\xe9n esto"\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"SHELL ",'["/bin/bash", "-c"]'," cambia el shell predeterminado a bash."),(0,o.yg)("li",{parentName:"ul"},"Los comandos RUN subsecuentes se ejecutan usando bash en lugar de sh.")))))),(0,o.yg)("h4",{id:"usar-powershell-o-cmd"},"Usar powershell o cmd"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Si est\xe1s construyendo una imagen de Windows, puedes cambiar el shell a powershell o cmd."),(0,o.yg)("li",{parentName:"ul"},"Dockerfile:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM mcr.microsoft.com/windows/servercore:ltsc2022\n\n# Cambiar el shell a PowerShell\nSHELL ["powershell", "-Command"]\n\nRUN Write-Host "Esto se ejecuta con PowerShell"\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"SHELL ",'["powershell", "-Command"]'," cambia el shell predeterminado a PowerShell en un contenedor de Windows."),(0,o.yg)("li",{parentName:"ul"},"El comando RUN se ejecuta usando PowerShell.")))))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"El comando SHELL es una herramienta poderosa para personalizar el entorno de construcci\xf3n de Docker, permitiendo usar el shell m\xe1s adecuado para tus necesidades."),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://docs.docker.com/reference/dockerfile/#shell"},"M\xe1s informaci\xf3n"))))),(0,o.yg)("h2",{id:"comando-stopsignal"},"Comando STOPSIGNAL"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando STOPSIGNAL en un Dockerfile se utiliza para especificar la se\xf1al del sistema que se enviar\xe1 al contenedor para detenerlo de manera limpia. Esta se\xf1al se env\xeda cuando se ejecuta el comando docker stop en el contenedor.")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"se\xf1ales")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Una se\xf1al (tambi\xe9n conocida como se\xf1al del sistema o signal en ingl\xe9s) es un mensaje que un proceso env\xeda a otro proceso o al sistema operativo para comunicarle un evento o solicitud."),(0,o.yg)("li",{parentName:"ul"},"Algunos usos comunes de las se\xf1ales incluyen:",(0,o.yg)("ol",{parentName:"li"},(0,o.yg)("li",{parentName:"ol"},"Terminaci\xf3n de Procesos: La se\xf1al m\xe1s com\xfanmente utilizada para terminar un proceso de manera ordenada es SIGTERM (se\xf1al n\xfamero 15). Esta se\xf1al solicita al proceso que se detenga de manera limpia, permiti\xe9ndole realizar cualquier limpieza necesaria antes de finalizar."),(0,o.yg)("li",{parentName:"ol"},"Forzar la Terminaci\xf3n: En casos donde se necesita terminar un proceso inmediatamente y sin permitirle realizar ninguna acci\xf3n de limpieza, se utiliza la se\xf1al SIGKILL (se\xf1al n\xfamero 9). Esta se\xf1al termina el proceso de manera abrupta y puede resultar en p\xe9rdida de datos no guardados."),(0,o.yg)("li",{parentName:"ol"},"Recarga de Configuraci\xf3n: Algunos programas, como servidores web o aplicaciones de red, pueden recargar su configuraci\xf3n en respuesta a la se\xf1al SIGHUP (se\xf1al n\xfamero 1). Esta se\xf1al les indica que deben volver a cargar su configuraci\xf3n sin detener completamente el proceso.")))))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Define la se\xf1al que se enviar\xe1 al proceso principal del contenedor cuando detenemos el contenedor. Esto asegura que el proceso principal tenga la oportunidad de manejar la se\xf1al y realizar cualquier limpieza necesaria antes de finalizar."),(0,o.yg)("li",{parentName:"ul"},"El uso de STOPSIGNAL es \xfatil para asegurarse de que el contenedor se detenga de manera ordenada, permitiendo que el proceso principal dentro del contenedor maneje la se\xf1al y realice cualquier limpieza necesaria antes de salir."),(0,o.yg)("li",{parentName:"ul"},"Sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"STOPSIGNAL signal\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Donde signal puede ser el nombre de la se\xf1al (como SIGTERM) o el n\xfamero de la se\xf1al (como 15).")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Ejemplo b\xe1sico:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# Instalar Nginx\nRUN apt-get update && apt-get install -y nginx\n\n# Especificar la se\xf1al para detener el contenedor\nSTOPSIGNAL SIGTERM\n\n# Iniciar Nginx en primer plano\nCMD ["nginx", "-g", "daemon off;"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"STOPSIGNAL SIGTERM especifica que la se\xf1al SIGTERM se enviar\xe1 al proceso principal (Nginx) cuando se detenga el contenedor."),(0,o.yg)("li",{parentName:"ul"},'nginx -g "daemon off;" inicia Nginx en primer plano para que Docker pueda gestionar adecuadamente el proceso.')))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Tambi\xe9n puedes especificar la se\xf1al por su n\xfamero. Por ejemplo, SIGTERM es la se\xf1al n\xfamero 15:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM ubuntu:20.04\n\n# Instalar Nginx\nRUN apt-get update && apt-get install -y nginx\n\n# Especificar la se\xf1al para detener el contenedor usando el n\xfamero de se\xf1al\nSTOPSIGNAL 15\n\n# Iniciar Nginx en primer plano\nCMD ["nginx", "-g", "daemon off;"]\n\n')),(0,o.yg)("h4",{id:"se\xf1ales-comunes"},"Se\xf1ales Comunes"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"SIGTERM (15): Solicita al proceso que termine de manera ordenada. Esta es la se\xf1al por defecto que env\xeda docker stop."),(0,o.yg)("li",{parentName:"ul"},"SIGKILL (9): Termina el proceso inmediatamente sin permitirle realizar ninguna limpieza. No es recomendable para un apagado ordenado."),(0,o.yg)("li",{parentName:"ul"},"SIGHUP (1): A menudo utilizada para recargar la configuraci\xf3n.")),(0,o.yg)("h4",{id:"ventajas-de-usar-stopsignal"},"Ventajas de Usar STOPSIGNAL"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Apagado Ordenado: Permite que los procesos dentro del contenedor manejen la se\xf1al y realicen cualquier limpieza antes de detenerse."),(0,o.yg)("li",{parentName:"ul"},"Configuraci\xf3n Personalizada: Puedes especificar una se\xf1al diferente si tu aplicaci\xf3n requiere una se\xf1al espec\xedfica para detenerse correctamente."),(0,o.yg)("li",{parentName:"ul"},"Compatibilidad: Mejora la compatibilidad con aplicaciones que tienen requisitos espec\xedficos para la se\xf1al de apagado.")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://docs.docker.com/reference/dockerfile/#stopsignal"},"M\xe1s informaci\xf3n"))))),(0,o.yg)("h2",{id:"comando-user"},"Comando USER"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando USER en un Dockerfile se utiliza para establecer el usuario y/o el grupo de usuario que se utilizar\xe1 al ejecutar comandos RUN, CMD, y ENTRYPOINT dentro del contenedor Docker que se est\xe1 construyendo. Esto permite definir bajo qu\xe9 identidad se ejecutan los procesos dentro del contenedor, proporcionando control sobre la seguridad y los privilegios."),(0,o.yg)("li",{parentName:"ul"},"La sintaxis b\xe1sica del comando USER es la siguiente:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"USER <usuario>[:<grupo>]\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"<","usuario>: Especifica el nombre del usuario que se utilizar\xe1 para ejecutar los comandos. Puede ser el nombre de usuario o su ID num\xe9rico."),(0,o.yg)("li",{parentName:"ul"},"<","grupo> (opcional): Especifica el grupo al que pertenece el usuario. Si no se especifica, el grupo primario del usuario se utiliza autom\xe1ticamente.")))),(0,o.yg)("h4",{id:"uso-de-user"},"Uso de USER"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Especificar un Usuario por Nombre:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM ubuntu:20.04\n\n# Crear un nuevo usuario llamado 'appuser'\nRUN useradd -ms /bin/bash appuser\n\n# Establecer el usuario 'appuser' como el usuario por defecto para los comandos RUN, CMD, y ENTRYPOINT\nUSER appuser\n\n# Comandos que se ejecutar\xe1n bajo el contexto de 'appuser'\nCMD [\"whoami\"]\n\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"useradd -ms /bin/bash appuser crea un nuevo usuario llamado appuser."),(0,o.yg)("li",{parentName:"ul"},"USER appuser establece appuser como el usuario bajo el cual se ejecutar\xe1n los comandos RUN, CMD, y ENTRYPOINT posteriores en el Dockerfile."),(0,o.yg)("li",{parentName:"ul"},"CMD ",'["whoami"]'," ejecutar\xe1 el comando whoami bajo el contexto del usuario appuser dentro del contenedor.")))))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Tambi\xe9n puedes especificar un usuario utilizando su ID num\xe9rico:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM ubuntu:20.04\n\n# Establecer el usuario '1000' (el usuario predeterminado en las im\xe1genes de Ubuntu)\nUSER 1000\n\n# Comandos que se ejecutar\xe1n bajo el contexto del usuario con ID 1000\nCMD [\"whoami\"]\n\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo, USER 1000 establece que los comandos subsiguientes se ejecuten bajo el contexto del usuario con ID num\xe9rico 1000.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Tambi\xe9n puedes usar el comando USER en un Dockerfile especificando tanto un usuario como un grupo:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM ubuntu:20.04\n\n# Crear un nuevo usuario llamado 'appuser' y agregarlo al grupo 'appgroup'\nRUN groupadd -r appgroup && useradd -r -g appgroup appuser\n\n# Establecer el directorio de trabajo y cambiar la propiedad al usuario 'appuser' y grupo 'appgroup'\nWORKDIR /app\nRUN chown -R appuser:appgroup /app\n\n# Cambiar al usuario 'appuser' y grupo 'appgroup' para los comandos RUN, CMD y ENTRYPOINT\nUSER appuser:appgroup\n\n# Comando que se ejecutar\xe1 bajo el contexto de 'appuser' y 'appgroup'\nCMD [\"whoami\"]\n\n\n")),(0,o.yg)("h4",{id:"consideraciones-1"},"Consideraciones"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Cambios de Usuario: El comando USER solo afecta los comandos RUN, CMD, y ENTRYPOINT en el Dockerfile actual. Puedes cambiar de usuario varias veces dentro de un Dockerfile seg\xfan sea necesario."),(0,o.yg)("li",{parentName:"ul"},"Seguridad y Privilegios: Es una buena pr\xe1ctica ejecutar aplicaciones en contenedores Docker bajo un usuario no privilegiado para minimizar el impacto de posibles vulnerabilidades de seguridad."),(0,o.yg)("li",{parentName:"ul"},"Especificaci\xf3n de Grupo: Si se especifica un grupo junto con el usuario (USER usuario:grupo), los comandos se ejecutar\xe1n bajo el contexto del grupo especificado.")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://docs.docker.com/reference/dockerfile/#user"},"M\xe1s informaci\xf3n"))))),(0,o.yg)("h2",{id:"comando-volume"},"Comando VOLUME"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando VOLUME en un Dockerfile se utiliza para crear un punto de montaje en un contenedor Docker. Este punto de montaje puede ser utilizado para persistir datos generados por el contenedor o para permitir que otros contenedores o el host compartan datos con el contenedor en ejecuci\xf3n."),(0,o.yg)("li",{parentName:"ul"},"En el contexto de Docker, un volumen es una ubicaci\xf3n que contiene una \u201ccarpeta\u201d para almacenamiento persistente que existe fuera del contenedor. Los vol\xfamenes son \xfatiles para almacenar datos que deben persistir incluso si el contenedor se detiene o se elimina."),(0,o.yg)("li",{parentName:"ul"},"En un Dockerfile, la instrucci\xf3n VOLUME se usa para especificar un punto de montaje para un volumen dentro del contenedor. El volumen se crear\xe1 cuando se construya el contenedor y los procesos que se ejecutan dentro del contenedor podr\xe1n acceder a \xe9l y modificarlo.")),(0,o.yg)("h4",{id:"prop\xf3sito-del-volumen-en-dockerfile"},"Prop\xf3sito del volumen en Dockerfile"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Hay varias razones por las que es posible que desee utilizar un volumen en un Dockerfile:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Datos persistentes: si tiene datos que deben persistir incluso si el contenedor se detiene o se elimina, puede almacenarlos en un volumen. Esto es \xfatil para cosas como archivos de bases de datos o registros de aplicaciones."),(0,o.yg)("li",{parentName:"ul"},"Compartir datos entre contenedores: si tiene varios contenedores que necesitan compartir datos, puede usar un volumen para permitirles acceder a los mismos datos. Esto puede resultar \xfatil para cosas como almacenar archivos de configuraci\xf3n compartidos o datos utilizados por varios contenedores."),(0,o.yg)("li",{parentName:"ul"},"Facilitar la gesti\xf3n de datos: al separar los datos del propio contenedor, los vol\xfamenes pueden facilitar la gesti\xf3n de los datos. Por ejemplo, puede utilizar un volumen para almacenar datos generados por el contenedor y luego montar el volumen en un sistema host para acceder f\xe1cilmente a los datos."))),(0,o.yg)("li",{parentName:"ul"},"Desventajas de usar vol\xfamenes en un Dockerfile:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Riesgos potenciales de seguridad : si un volumen est\xe1 montado en el sistema host, un atacante puede obtener acceso al sistema host a trav\xe9s del volumen. Es importante considerar cuidadosamente las implicaciones de seguridad del uso de vol\xfamenes y tomar medidas para protegerlos si es necesario."),(0,o.yg)("li",{parentName:"ul"},"Posibles problemas de rendimiento : seg\xfan el backend de almacenamiento utilizado para el volumen, puede haber implicaciones de rendimiento al utilizar vol\xfamenes. Por ejemplo, utilizar un volumen local en el sistema host puede ser m\xe1s r\xe1pido que utilizar un volumen conectado a la red, pero puede que no sea tan port\xe1til ni escalable."),(0,o.yg)("li",{parentName:"ul"},"Complejidad : el uso de vol\xfamenes puede agregar una capa de complejidad a la configuraci\xf3n de Docker, ya que necesita administrar tanto los contenedores como los vol\xfamenes. Esto puede resultar especialmente complicado cuando se trabaja con varios contenedores y vol\xfamenes."))),(0,o.yg)("li",{parentName:"ul"},"Tenga en cuenta que la instrucci\xf3n VOLUME normalmente debe colocarse al principio del Dockerfile, antes de cualquier instrucci\xf3n que modifique el contenido del contenedor. Esto garantiza que el volumen se cree antes de realizarle cambios.")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Punto de montaje")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},'Un "punto de montaje" en Docker es como reservar un espacio de memoria dentro del contenedor donde puedes guardar y acceder a archivos importantes. Es como tener una carpeta especial dentro del contenedor donde guardas tus cosas m\xe1s valiosas para usarlas siempre que las necesites, incluso si detienes y vuelves a iniciar el contenedor. Esto asegura que tus datos importantes est\xe9n siempre disponibles y seguros mientras tu aplicaci\xf3n est\xe1 funcionando dentro del contenedor.'),(0,o.yg)("li",{parentName:"ul"},"Adem\xe1s de proporcionar un lugar seguro para almacenar y acceder a datos importantes dentro del contenedor, los puntos de montaje en Docker tambi\xe9n facilitan la comunicaci\xf3n y el intercambio de datos con otros contenedores o con el sistema operativo host.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'VOLUME ["ruta_al_punto_de_montaje"]\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"\u201cruta_al_punto_de_montaje\u201d: Especifica la ruta dentro del sistema de archivos del contenedor donde se crear\xe1 el volumen. Puede ser una ruta absoluta o relativa.")))),(0,o.yg)("h4",{id:"uso-de-volume"},"Uso de VOLUME"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Definir un Punto de Montaje:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"FROM ubuntu:20.04\n\n# Definir un volumen en el directorio '/app/data' dentro del contenedor\nVOLUME [\"/app/data\"]\n\n# Otros comandos y configuraciones del Dockerfile...\n\n\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"VOLUME ",'["/app/data"]'," define un volumen en el directorio /app/data dentro del contenedor. Este directorio ser\xe1 autom\xe1ticamente creado como un volumen cuando se ejecute el contenedor a partir de la imagen construida con este Dockerfile.")))),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Uso de Volumen en DockerFile:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'FROM nginx:latest\n\n# Definir un volumen para almacenar archivos est\xe1ticos de Nginx\nVOLUME /usr/share/nginx/html\n\n# Copiar archivos est\xe1ticos al volumen definido\nCOPY index.html /usr/share/nginx/html/index.html\n\n# Exponer el puerto 80 para Nginx\nEXPOSE 80\n\n# Comando por defecto al iniciar el contenedor\nCMD ["nginx", "-g", "daemon off;"]\n\n\n')),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Se define un volumen en /usr/share/nginx/html que se utilizar\xe1 para almacenar archivos est\xe1ticos de Nginx."),(0,o.yg)("li",{parentName:"ul"},"Se copia un archivo index.html al directorio del volumen dentro del Dockerfile para ser utilizado por Nginx."),(0,o.yg)("li",{parentName:"ul"},"Cuando se construye y se ejecuta el contenedor a partir de esta imagen, cualquier cambio en los archivos est\xe1ticos se reflejar\xe1 en el volumen definido.")))))),(0,o.yg)("h4",{id:"caracter\xedsticas-y-funcionamiento"},"Caracter\xedsticas y Funcionamiento"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Persistencia de Datos: Los datos escritos en un volumen persistir\xe1n incluso despu\xe9s de que el contenedor se detenga o se elimine."),(0,o.yg)("li",{parentName:"ul"},"Compartici\xf3n de Datos: Los vol\xfamenes pueden ser compartidos entre contenedores y con el host subyacente."),(0,o.yg)("li",{parentName:"ul"},"Gesti\xf3n de Datos: Docker gestiona el montaje y desmontaje de los vol\xfamenes, permitiendo a los desarrolladores y operadores centrarse en la aplicaci\xf3n en lugar de en la infraestructura subyacente.")),(0,o.yg)("h4",{id:"consideraciones-2"},"Consideraciones"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"No se Almacenan en la Imagen: Los datos dentro de los vol\xfamenes no se almacenan en la imagen de Docker misma, sino en el sistema de archivos del host o en un almacenamiento de Docker administrado."),(0,o.yg)("li",{parentName:"ul"},"Uso en Tiempo de Ejecuci\xf3n: Los vol\xfamenes se utilizan principalmente durante el tiempo de ejecuci\xf3n del contenedor, no durante la construcci\xf3n de la imagen.")),(0,o.yg)("h4",{id:"comunicaci\xf3n-con-el-volumen-desde-otros-contenedores"},"Comunicaci\xf3n con el Volumen desde Otros Contenedores"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Al comunicarte con un volumen especificado en un Dockerfile desde otro contenedor, puedes realizar operaciones comunes de lectura, escritura y administraci\xf3n de datos."),(0,o.yg)("li",{parentName:"ul"},"Ejemplo de Lectura y Escritura desde Otro Contenedor:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"# Crear un contenedor basado en la imagen con volumen definido\ndocker run -d --name mi_web -p 8080:80 mi_imagen\n# Crea un segundo contenedor con el mismo volumen\ndocker run -it --name otro_contenedor --volumes-from mi_web mi_imagen /bin/bash\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"--volumes-from mi_web: Esta opci\xf3n indica que el contenedor debe montar el mismo volumen que el contenedor mi_web. De esta manera, ambos contenedores comparten el mismo volumen. Ambos tienen el mismo volumen en la misma ubicaci\xf3n."),(0,o.yg)("li",{parentName:"ul"},"Si desea cambiar la ubicaci\xf3n del volumen, puede usar la opcion -v en el comando docker run, con la siguiente sintaxis:")),(0,o.yg)("pre",{parentName:"div"},(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"docker run -v /ruta/nueva:/ruta/original --volumes-from mi_web otro_contenedor\n")),(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"Donde:"),(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"/ruta/nueva es la ruta donde se montar\xe1 el volumen en el nuevo contenedor (otro_contenedor)."),(0,o.yg)("li",{parentName:"ul"},"/ruta/original es la ruta original del volumen en el contenedor mi_web."),(0,o.yg)("li",{parentName:"ul"},"mi_web es el nombre del contenedor que se utiliza como fuente del volumen."),(0,o.yg)("li",{parentName:"ul"},"otro_contenedor es el nombre del nuevo contenedor que se crea."))),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"/bin/bash: Este es el comando que se ejecutar\xe1 dentro del contenedor cuando se inicie. En este caso, iniciar\xe1 una shell de Bash."))))),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"# Escribir datos en el volumen desde otro contenedor\ndocker exec otro_contenedor sh -c 'echo \"Hola desde otro contenedor\" > /usr/share/nginx/html/saludo.txt'\n\n# Leer datos desde el volumen desde el mismo contenedor\ndocker exec mi_web cat /usr/share/nginx/html/saludo.txt\n\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"En este ejemplo:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"mi_web es el nombre del contenedor basado en la imagen mi_imagen que tiene el volumen /usr/share/nginx/html definido en su Dockerfile."),(0,o.yg)("li",{parentName:"ul"},"Se escribe un archivo saludo.txt en el directorio del volumen desde otro contenedor utilizando docker exec."),(0,o.yg)("li",{parentName:"ul"},"Se lee el contenido del archivo saludo.txt desde el mismo contenedor.")))))),(0,o.yg)("h4",{id:"ubicaci\xf3n-de-los-datos"},"Ubicaci\xf3n de los datos"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"El comando VOLUME crea un punto de montaje donde los datos pueden ser almacenados. Sin embargo, es crucial comprender que:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Ubicaci\xf3n de los Datos: Los datos en este volumen no se almacenan dentro de la imagen de Docker ni en el sistema de archivos del host en s\xed mismo."),(0,o.yg)("li",{parentName:"ul"},"Persistencia: Los vol\xfamenes definidos en un Dockerfile no se almacenan directamente en el host de la misma manera que cuando montas un directorio del host como un volumen. En su lugar, Docker gestiona internamente la persistencia de estos datos en una ubicaci\xf3n espec\xedfica del sistema de archivos del host.")))),(0,o.yg)("h4",{id:"gesti\xf3n-de-vol\xfamenes-por-docker"},"Gesti\xf3n de Vol\xfamenes por Docker"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Cuando creas un contenedor basado en una imagen que define vol\xfamenes en su Dockerfile:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Docker Administra el Almacenamiento: Docker asigna una ubicaci\xf3n en el sistema de archivos del host donde almacenar\xe1 y gestionar\xe1 los datos para ese volumen. Esta ubicaci\xf3n es espec\xedfica de Docker y no necesariamente visible o manipulable directamente desde fuera del entorno Docker."),(0,o.yg)("li",{parentName:"ul"},"Persistencia entre Contenedores: Los datos almacenados en vol\xfamenes definidos de esta manera persisten incluso despu\xe9s de que el contenedor se detiene o se elimina. Esto facilita el intercambio de datos entre contenedores y asegura que los datos importantes permanezcan accesibles a pesar de los cambios en el estado del contenedor.")))),(0,o.yg)("h4",{id:"comunicaci\xf3n-y-acceso-a-los-datos"},"Comunicaci\xf3n y Acceso a los Datos"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Para interactuar con los datos almacenados en un volumen definido en un Dockerfile desde otro contenedor o desde el host:",(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"Desde Otro Contenedor: Puedes utilizar comandos como docker exec para leer y escribir archivos dentro del volumen desde otro contenedor que tambi\xe9n tenga acceso al mismo volumen definido."),(0,o.yg)("li",{parentName:"ul"},"Desde el Host: Aunque los datos no se almacenan directamente en una ruta visible del host, puedes utilizar comandos de Docker como docker cp para copiar archivos hacia y desde el contenedor que tiene el volumen definido.")))),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"https://docs.docker.com/reference/dockerfile/#volume"},"M\xe1s informaci\xf3n"))))),(0,o.yg)("h2",{id:"ejecutar-dockerfile"},"Ejecutar DockerFile"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"En la ubicaci\xf3n del proyecto, se abre una consola y se ejecuta el comando build con la siguiente sintaxis:")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-powershell"},"docker build  -t nombreImagen:nombreEtiqueta ruta-del-dockerfile\n")),(0,o.yg)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.yg)("div",{parentName:"div",className:"admonition-heading"},(0,o.yg)("h5",{parentName:"div"},(0,o.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,o.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Observaci\xf3n")),(0,o.yg)("div",{parentName:"div",className:"admonition-content"},(0,o.yg)("ul",{parentName:"div"},(0,o.yg)("li",{parentName:"ul"},"Este comando crea una imagen con el nombre nombreImagen leyendo el archivo dockerfile que se encuentra en ruta-del-dockerfile"),(0,o.yg)("li",{parentName:"ul"},"Esta imagen est\xe1 asociada a la etiqueta nombreEtiqueta especificada")))))}p.isMDXComponent=!0}}]);